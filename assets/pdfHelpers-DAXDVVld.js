import{a as d}from"./index-7PkD6S4J.js";import{g as c,G as p}from"./pdf-viewer-DFtpL4X_.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m=d("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),g="/PaperKnife/assets/pdf.worker.min-LyOxJPrg.mjs";p.workerSrc=g;const w=async t=>{const a=await t.arrayBuffer();return c({data:a,cMapUrl:`${window.location.origin}/PaperKnife/cmaps/`,cMapPacked:!0}).promise},u=async(t,a,e=1.5)=>{try{const r=await t.getPage(a),o=window.devicePixelRatio||1,n=r.getViewport({scale:e*o}),s=document.createElement("canvas"),i=s.getContext("2d");if(!i)throw new Error("Canvas context not available");return s.height=n.height,s.width=n.width,await r.render({canvasContext:i,viewport:n,intent:"display"}).promise,s.toDataURL("image/jpeg",.9)}catch(r){return console.error(`Error rendering page ${a}:`,r),""}},h=async t=>{try{const a=c({data:await t.arrayBuffer(),cMapUrl:`${window.location.origin}/PaperKnife/cmaps/`,cMapPacked:!0});a.onPassword=()=>{throw new Error("PASSWORD_REQUIRED")};const e=await a.promise;return{thumbnail:await u(e,1),pageCount:e.numPages,isLocked:!1}}catch(a){return a.message==="PASSWORD_REQUIRED"||a.name==="PasswordException"?{thumbnail:"",pageCount:0,isLocked:!0}:{thumbnail:"",pageCount:0,isLocked:!1}}},P=async(t,a)=>{try{const e=await t.arrayBuffer(),o=await c({data:e,password:a,cMapUrl:`${window.location.origin}/PaperKnife/cmaps/`,cMapPacked:!0}).promise;return{thumbnail:await u(o,1),pageCount:o.numPages,isLocked:!1,success:!0,pdfDoc:o}}catch{return{thumbnail:"",pageCount:0,isLocked:!0,success:!1}}};export{m as L,h as g,w as l,u as r,P as u};
