import{g,j as e,c as f}from"./index-CqnREVVI.js";import{r as i,T as u,J as y,X as b,K as j,w,$ as k,a0 as v,D as N,h as z,Q as C,G as r}from"./vendor-ui-C2hlGh6M.js";function F(){const[o,l]=i.useState([]),[a,n]=i.useState("");i.useEffect(()=>{const t=localStorage.getItem("historyLimit"),s=t==="999"?100:parseInt(t||"10");g(s).then(l)},[]);const x=async()=>{r("Wipe all history?",{id:"history-wipe-confirm",action:{label:"Confirm",onClick:async()=>{await f(),l([]),r.success("History wiped",{id:"history-wipe-done"}),r.dismiss("history-wipe-confirm")}},cancel:{label:"Cancel",onClick:()=>r.dismiss("history-wipe-confirm")}})},c=o.filter(t=>t.name.toLowerCase().includes(a.toLowerCase())||t.tool.toLowerCase().includes(a.toLowerCase())),h=t=>{if(t===0)return"0 Bytes";const s=1024,p=["Bytes","KB","MB","GB"],d=Math.floor(Math.log(t)/Math.log(s));return parseFloat((t/Math.pow(s,d)).toFixed(2))+" "+p[d]},m=t=>new Date(t).toLocaleDateString(void 0,{month:"short",day:"numeric"});return e.jsxs("div",{className:"min-h-screen bg-[#FAFAFA] dark:bg-black pb-32 transition-colors",children:[e.jsxs("header",{className:"px-6 pt-[calc(env(safe-area-inset-top)+1rem)] pb-6 sticky top-0 bg-[#FAFAFA]/90 dark:bg-black/90 backdrop-blur-xl z-50 border-b border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"text-3xl font-black tracking-tighter dark:text-white",children:"Workspace"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-rose-500 opacity-80",children:"Local Storage Active"})]}),o.length>0&&e.jsx("button",{onClick:x,className:"p-3 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-2xl active:scale-90 transition-all shadow-sm",children:e.jsx(u,{size:20})})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-5 flex items-center pointer-events-none text-gray-400 group-focus-within:text-rose-500 transition-colors",children:e.jsx(y,{size:18})}),e.jsx("input",{type:"text",placeholder:"Search activity...",value:a,onChange:t=>n(t.target.value),className:"w-full bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 rounded-2xl py-4 pl-14 pr-6 text-sm font-bold placeholder:text-gray-400 focus:bg-white dark:focus:bg-zinc-800 shadow-sm outline-none transition-all dark:text-white"}),a&&e.jsx("button",{onClick:()=>n(""),className:"absolute inset-y-0 right-4 flex items-center text-gray-400",children:e.jsx(b,{size:16})})]})]}),e.jsxs("main",{className:"px-4 py-6 space-y-2",children:[c.length===0?e.jsxs("div",{className:"py-24 text-center flex flex-col items-center animate-in fade-in duration-700",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 dark:bg-zinc-900 rounded-[2.5rem] flex items-center justify-center text-gray-300 mb-6 border border-gray-100 dark:border-white/5",children:e.jsx(j,{size:32,strokeWidth:1.5})}),e.jsx("h3",{className:"text-xl font-black dark:text-white tracking-tight",children:"Vault Empty"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-zinc-500 max-w-[200px] mt-2 font-medium leading-relaxed",children:"Documents processed on this node will appear here temporarily."})]}):c.map(t=>e.jsxs("div",{className:"p-4 bg-white dark:bg-zinc-900 rounded-[2rem] border border-gray-100 dark:border-white/5 flex items-center gap-4 active:scale-[0.99] transition-all shadow-sm group",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-50 dark:bg-zinc-800 text-gray-400 group-hover:bg-rose-50 dark:group-hover:bg-rose-900/20 group-hover:text-rose-500 rounded-2xl flex items-center justify-center shrink-0 transition-colors shadow-inner",children:e.jsx(w,{size:22})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-black truncate dark:text-white mb-0.5",children:t.name}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center gap-1 text-[9px] text-gray-400 font-black uppercase tracking-tighter bg-gray-100 dark:bg-white/5 px-2 py-0.5 rounded-md",children:t.tool}),e.jsxs("div",{className:"flex items-center gap-1 text-[9px] text-gray-400 font-bold",children:[e.jsx(k,{size:10})," ",h(t.size)]}),e.jsxs("div",{className:"flex items-center gap-1 text-[9px] text-gray-400 font-bold",children:[e.jsx(v,{size:10})," ",m(t.timestamp)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.resultUrl&&e.jsx("a",{href:t.resultUrl,download:t.name,className:"w-10 h-10 bg-rose-500 text-white rounded-full flex items-center justify-center shadow-lg shadow-rose-500/20 active:scale-90 transition-all",children:e.jsx(N,{size:18})}),e.jsx(z,{size:16,className:"text-gray-200 dark:text-zinc-800"})]})]},t.id)),e.jsxs("div",{className:"pt-12 flex flex-col items-center gap-3 pb-10 opacity-30",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{size:14,className:"text-emerald-500"}),e.jsx("span",{className:"text-[8px] font-black uppercase tracking-[0.2em] text-gray-500",children:"Node Privacy Protocol"})]}),e.jsx("p",{className:"text-[7px] font-medium text-gray-400 max-w-[200px] text-center",children:"Documents are processed locally in your private environment. Activity logs are stored on this device only."})]})]})]})}export{F as default};
