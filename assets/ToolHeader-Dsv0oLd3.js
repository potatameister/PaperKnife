const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-C4KXV4Ml.js","assets/index-D8gYrfEJ.js","assets/vendor-ui-B7y8O6hM.js","assets/index-Blm36JhK.css","assets/pdfjs-viewer-BENO9Ct1.js"])))=>i.map(i=>d[i]);
import{g as d,G as h}from"./pdfjs-viewer-BENO9Ct1.js";import{r as x,_ as b,C as m,j as c}from"./index-D8gYrfEJ.js";import{u as P,A as y}from"./vendor-ui-B7y8O6hM.js";function C(t){t.CapacitorUtils.Synapse=new Proxy({},{get(a,e){return new Proxy({},{get(r,o){return(n,u,l)=>{const i=t.Capacitor.Plugins[e];if(i===void 0){l(new Error(`Capacitor plugin ${e} not found`));return}if(typeof i[o]!="function"){l(new Error(`Method ${o} not found in Capacitor plugin ${e}`));return}(async()=>{try{const s=await i[o](n);u(s)}catch(s){l(s)}})()}}})}})}function k(t){t.CapacitorUtils.Synapse=new Proxy({},{get(a,e){return t.cordova.plugins[e]}})}function v(t=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!t?C(window):window.cordova!==void 0&&k(window))}var p;(function(t){t.Documents="DOCUMENTS",t.Data="DATA",t.Library="LIBRARY",t.Cache="CACHE",t.External="EXTERNAL",t.ExternalStorage="EXTERNAL_STORAGE",t.ExternalCache="EXTERNAL_CACHE",t.LibraryNoCloud="LIBRARY_NO_CLOUD",t.Temporary="TEMPORARY"})(p||(p={}));var f;(function(t){t.UTF8="utf8",t.ASCII="ascii",t.UTF16="utf16"})(f||(f={}));const E=x("Filesystem",{web:()=>b(()=>import("./web-C4KXV4Ml.js"),__vite__mapDeps([0,1,2,3,4])).then(t=>new t.FilesystemWeb)});v();const R="/PaperKnife/assets/pdf.worker.min-LyOxJPrg.mjs";h.workerSrc=R;const A=async(t,a,e)=>{if(m.isNativePlatform())try{const r=typeof t=="string"?t.split(",")[1]:btoa(t.reduce((o,n)=>o+String.fromCharCode(n),""));return await E.writeFile({path:a,data:r,directory:p.Documents,recursive:!0}),!0}catch(r){throw console.error("Download error:",r),r}else{const r=typeof t=="string"?await(await fetch(t)).blob():new Blob([t],{type:e}),o=URL.createObjectURL(r),n=document.createElement("a");return n.href=o,n.download=a,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(o),!0}},j=async t=>{const a=await t.arrayBuffer();try{return await d({data:a,cMapUrl:`${window.location.origin}/PaperKnife/cmaps/`,cMapPacked:!0}).promise}catch(e){if(e.name==="PasswordException")throw e;return await d({data:a,cMapUrl:`${window.location.origin}/PaperKnife/cmaps/`,cMapPacked:!0,stopAtErrors:!1}).promise}},w=async(t,a,e=1)=>{try{const r=await t.getPage(a),o=r.getViewport({scale:e}),n=300,u=Math.min(n/o.width,n/o.height),l=r.getViewport({scale:e*u*(window.devicePixelRatio||1)}),i=document.createElement("canvas"),s=i.getContext("2d",{alpha:!1});if(!s)throw new Error("Canvas context not available");i.height=l.height,i.width=l.width,s.fillStyle="#ffffff",s.fillRect(0,0,i.width,i.height),await r.render({canvasContext:s,viewport:l,intent:"display"}).promise;const g=i.toDataURL("image/jpeg",.85);return i.width=0,i.height=0,g}catch(r){return console.error(`Error rendering page ${a}:`,r),""}},N=async t=>{try{const a=d({data:await t.arrayBuffer(),cMapUrl:`${window.location.origin}/PaperKnife/cmaps/`,cMapPacked:!0});a.onPassword=()=>{throw new Error("PASSWORD_REQUIRED")};const e=await a.promise;return{thumbnail:await w(e,1),pageCount:e.numPages,isLocked:!1}}catch(a){return a.message==="PASSWORD_REQUIRED"||a.name==="PasswordException"?{thumbnail:"",pageCount:0,isLocked:!0}:{thumbnail:"",pageCount:0,isLocked:!1}}},S=async(t,a)=>{try{const e=await t.arrayBuffer(),o=await d({data:e,password:a,cMapUrl:`${window.location.origin}/PaperKnife/cmaps/`,cMapPacked:!0}).promise;return{thumbnail:await w(o,1),pageCount:o.numPages,isLocked:!1,success:!0,pdfDoc:o}}catch{return{thumbnail:"",pageCount:0,isLocked:!0,success:!1}}};function _(){return c.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2 text-xs font-bold uppercase tracking-widest text-gray-400 dark:text-zinc-600",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"100% Client-Side Processing"]})}function M({title:t,highlight:a,description:e}){const r=P(),o=m.isNativePlatform();return c.jsxs("div",{className:"relative text-center mb-8 md:mb-12",children:[o&&c.jsx("button",{onClick:()=>r("/"),className:"absolute left-0 top-0 p-3 bg-gray-50 dark:bg-zinc-900 rounded-2xl text-gray-500 hover:text-rose-500 transition-colors md:hidden",children:c.jsx(y,{size:20})}),c.jsxs("h2",{className:"text-3xl md:text-5xl font-black mb-3 md:mb-4 dark:text-white px-10",children:[t," ",c.jsxs("span",{className:"text-rose-500",children:[a,"."]})]}),c.jsx("p",{className:"text-sm md:text-base text-gray-500 dark:text-zinc-400 max-w-lg mx-auto leading-relaxed",children:e})]})}export{f as E,_ as P,M as T,A as d,N as g,j as l,w as r,S as u};
