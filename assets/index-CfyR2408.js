const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-BvwoanYO.js","assets/vendor-ui-BGQbmyVo.js","assets/pdfjs-viewer-BENO9Ct1.js","assets/vendor-utils-YRdzkUqn.js","assets/tesseract-core-CICcRprg.js","assets/pdf-lib-core-BwTsbR4W.js","assets/web-AjrK5q74.js","assets/web-B424srtF.js","assets/web-cr3otr_R.js"])))=>i.map(i=>d[i]);
import{r as c,a as ss,u as ce,b as rs,U as $e,A as wt,L as be,C as Ye,D as Ce,I as yt,M as kt,S as jt,H as Le,G as Oe,d as xe,e as Ss,f as xt,P as we,h as Fs,T as rt,i as oe,j as as,k as ye,l as Ze,m as Ds,F as ze,n as ns,Z as ke,o as Qe,p as V,X as Z,q as os,s as vt,t as Es,v as Ne,w as U,x as Nt,E as at,y as is,z as nt,B as Ct,J as Ls,K as As,N as Rs,O as Us,Q as Is,V as Ts,W as $s,Y as ls,_ as cs,$ as ds,a0 as G,a1 as Xe,a2 as zt,a3 as Os,a4 as me,a5 as xs,a6 as he,a7 as us,a8 as ps,a9 as Bs,aa as Ms,ab as Ws,ac as Pe,ad as ut,ae as _s,af as Hs,ag as Wt,ah as Ks,ai as Ke,aj as Ae,ak as Ge,al as _t,am as Ht,an as Gs,ao as Vs,ap as qs,aq as Ys,ar as Zs,as as Kt,at as Qs,au as Xs,av as Js,aw as er,ax as K,R as tr}from"./vendor-ui-BGQbmyVo.js";import{G as sr,g as Je}from"./pdfjs-viewer-BENO9Ct1.js";import{u as Pt,a as fe,D as St,c as Ft,S as Dt,v as ms,b as Et,s as Lt,K as At,P as hs,d as Rt,C as Ut,J as Ue,r as rr,T as ar,M as nr}from"./vendor-utils-YRdzkUqn.js";import{e as or,P as ee,d as gs,S as bs,r as fs}from"./pdf-lib-core-BwTsbR4W.js";import{T as ir}from"./tesseract-core-CICcRprg.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var ws={exports:{}},ot={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lr=c,cr=Symbol.for("react.element"),dr=Symbol.for("react.fragment"),xr=Object.prototype.hasOwnProperty,ur=lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pr={key:!0,ref:!0,__self:!0,__source:!0};function ys(s,r,t){var n,o={},a=null,i=null;t!==void 0&&(a=""+t),r.key!==void 0&&(a=""+r.key),r.ref!==void 0&&(i=r.ref);for(n in r)xr.call(r,n)&&!pr.hasOwnProperty(n)&&(o[n]=r[n]);if(s&&s.defaultProps)for(n in r=s.defaultProps,r)o[n]===void 0&&(o[n]=r[n]);return{$$typeof:cr,type:s,key:a,ref:i,props:o,_owner:ur.current}}ot.Fragment=dr;ot.jsx=ys;ot.jsxs=ys;ws.exports=ot;var e=ws.exports,pt={},Gt=ss;pt.createRoot=Gt.createRoot,pt.hydrateRoot=Gt.hydrateRoot;/*! Capacitor: https://capacitorjs.com/ - MIT License */var Se;(function(s){s.Unimplemented="UNIMPLEMENTED",s.Unavailable="UNAVAILABLE"})(Se||(Se={}));class ct extends Error{constructor(r,t,n){super(r),this.message=r,this.code=t,this.data=n}}const mr=s=>{var r,t;return s?.androidBridge?"android":!((t=(r=s?.webkit)===null||r===void 0?void 0:r.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},hr=s=>{const r=s.CapacitorCustomPlatform||null,t=s.Capacitor||{},n=t.Plugins=t.Plugins||{},o=()=>r!==null?r.name:mr(s),a=()=>o()!=="web",i=h=>{const w=m.get(h);return!!(w?.platforms.has(o())||l(h))},l=h=>{var w;return(w=t.PluginHeaders)===null||w===void 0?void 0:w.find(v=>v.name===h)},d=h=>s.console.error(h),m=new Map,g=(h,w={})=>{const v=m.get(h);if(v)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),v.proxy;const C=o(),P=l(h);let E;const z=async()=>(!E&&C in w?E=typeof w[C]=="function"?E=await w[C]():E=w[C]:r!==null&&!E&&"web"in w&&(E=typeof w.web=="function"?E=await w.web():E=w.web),E),L=(x,b)=>{var F,f;if(P){const N=P?.methods.find(S=>b===S.name);if(N)return N.rtype==="promise"?S=>t.nativePromise(h,b.toString(),S):(S,R)=>t.nativeCallback(h,b.toString(),S,R);if(x)return(F=x[b])===null||F===void 0?void 0:F.bind(x)}else{if(x)return(f=x[b])===null||f===void 0?void 0:f.bind(x);throw new ct(`"${h}" plugin is not implemented on ${C}`,Se.Unimplemented)}},D=x=>{let b;const F=(...f)=>{const N=z().then(S=>{const R=L(S,x);if(R){const T=R(...f);return b=T?.remove,T}else throw new ct(`"${h}.${x}()" is not implemented on ${C}`,Se.Unimplemented)});return x==="addListener"&&(N.remove=async()=>b()),N};return F.toString=()=>`${x.toString()}() { [capacitor code] }`,Object.defineProperty(F,"name",{value:x,writable:!1,configurable:!1}),F},p=D("addListener"),u=D("removeListener"),k=(x,b)=>{const F=p({eventName:x},b),f=async()=>{const S=await F;u({eventName:x,callbackId:S},b)},N=new Promise(S=>F.then(()=>S({remove:f})));return N.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await f()},N},y=new Proxy({},{get(x,b){switch(b){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return P?k:p;case"removeListener":return u;default:return D(b)}}});return n[h]=y,m.set(h,{name:h,proxy:y,platforms:new Set([...Object.keys(w),...P?[C]:[]])}),y};return t.convertFileSrc||(t.convertFileSrc=h=>h),t.getPlatform=o,t.handleError=d,t.isNativePlatform=a,t.isPluginAvailable=i,t.registerPlugin=g,t.Exception=ct,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},gr=s=>s.Capacitor=hr(s),W=gr(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),je=W.registerPlugin;class It{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(r,t){let n=!1;this.listeners[r]||(this.listeners[r]=[],n=!0),this.listeners[r].push(t);const a=this.windowListeners[r];a&&!a.registered&&this.addWindowListener(a),n&&this.sendRetainedArgumentsForEvent(r);const i=async()=>this.removeListener(r,t);return Promise.resolve({remove:i})}async removeAllListeners(){this.listeners={};for(const r in this.windowListeners)this.removeWindowListener(this.windowListeners[r]);this.windowListeners={}}notifyListeners(r,t,n){const o=this.listeners[r];if(!o){if(n){let a=this.retainedEventArguments[r];a||(a=[]),a.push(t),this.retainedEventArguments[r]=a}return}o.forEach(a=>a(t))}hasListeners(r){var t;return!!(!((t=this.listeners[r])===null||t===void 0)&&t.length)}registerWindowListener(r,t){this.windowListeners[t]={registered:!1,windowEventName:r,pluginEventName:t,handler:n=>{this.notifyListeners(t,n)}}}unimplemented(r="not implemented"){return new W.Exception(r,Se.Unimplemented)}unavailable(r="not available"){return new W.Exception(r,Se.Unavailable)}async removeListener(r,t){const n=this.listeners[r];if(!n)return;const o=n.indexOf(t);this.listeners[r].splice(o,1),this.listeners[r].length||this.removeWindowListener(this.windowListeners[r])}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){r&&(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}sendRetainedArgumentsForEvent(r){const t=this.retainedEventArguments[r];t&&(delete this.retainedEventArguments[r],t.forEach(n=>{this.notifyListeners(r,n)}))}}const Vt=s=>encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),qt=s=>s.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class br extends It{async getCookies(){const r=document.cookie,t={};return r.split(";").forEach(n=>{if(n.length<=0)return;let[o,a]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=qt(o).trim(),a=qt(a).trim(),t[o]=a}),t}async setCookie(r){try{const t=Vt(r.key),n=Vt(r.value),o=`; expires=${(r.expires||"").replace("expires=","")}`,a=(r.path||"/").replace("path=",""),i=r.url!=null&&r.url.length>0?`domain=${r.url}`:"";document.cookie=`${t}=${n||""}${o}; path=${a}; ${i};`}catch(t){return Promise.reject(t)}}async deleteCookie(r){try{document.cookie=`${r.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const r=document.cookie.split(";")||[];for(const t of r)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(r){return Promise.reject(r)}}async clearAllCookies(){try{await this.clearCookies()}catch(r){return Promise.reject(r)}}}je("CapacitorCookies",{web:()=>new br});const fr=async s=>new Promise((r,t)=>{const n=new FileReader;n.onload=()=>{const o=n.result;r(o.indexOf(",")>=0?o.split(",")[1]:o)},n.onerror=o=>t(o),n.readAsDataURL(s)}),wr=(s={})=>{const r=Object.keys(s);return Object.keys(s).map(o=>o.toLocaleLowerCase()).reduce((o,a,i)=>(o[a]=s[r[i]],o),{})},yr=(s,r=!0)=>s?Object.entries(s).reduce((n,o)=>{const[a,i]=o;let l,d;return Array.isArray(i)?(d="",i.forEach(m=>{l=r?encodeURIComponent(m):m,d+=`${a}=${l}&`}),d.slice(0,-1)):(l=r?encodeURIComponent(i):i,d=`${a}=${l}`),`${n}&${d}`},"").substr(1):null,kr=(s,r={})=>{const t=Object.assign({method:s.method||"GET",headers:s.headers},r),o=wr(s.headers)["content-type"]||"";if(typeof s.data=="string")t.body=s.data;else if(o.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[i,l]of Object.entries(s.data||{}))a.set(i,l);t.body=a.toString()}else if(o.includes("multipart/form-data")||s.data instanceof FormData){const a=new FormData;if(s.data instanceof FormData)s.data.forEach((l,d)=>{a.append(d,l)});else for(const l of Object.keys(s.data))a.append(l,s.data[l]);t.body=a;const i=new Headers(t.headers);i.delete("content-type"),t.headers=i}else(o.includes("application/json")||typeof s.data=="object")&&(t.body=JSON.stringify(s.data));return t};class jr extends It{async request(r){const t=kr(r,r.webFetchExtra),n=yr(r.params,r.shouldEncodeUrlParams),o=n?`${r.url}?${n}`:r.url,a=await fetch(o,t),i=a.headers.get("content-type")||"";let{responseType:l="text"}=a.ok?r:{};i.includes("application/json")&&(l="json");let d,m;switch(l){case"arraybuffer":case"blob":m=await a.blob(),d=await fr(m);break;case"json":d=await a.json();break;case"document":case"text":default:d=await a.text()}const g={};return a.headers.forEach((h,w)=>{g[w]=h}),{data:d,headers:g,status:a.status,url:a.url}}async get(r){return this.request(Object.assign(Object.assign({},r),{method:"GET"}))}async post(r){return this.request(Object.assign(Object.assign({},r),{method:"POST"}))}async put(r){return this.request(Object.assign(Object.assign({},r),{method:"PUT"}))}async patch(r){return this.request(Object.assign(Object.assign({},r),{method:"PATCH"}))}async delete(r){return this.request(Object.assign(Object.assign({},r),{method:"DELETE"}))}}je("CapacitorHttp",{web:()=>new jr});var Yt;(function(s){s.Dark="DARK",s.Light="LIGHT",s.Default="DEFAULT"})(Yt||(Yt={}));var Zt;(function(s){s.StatusBar="StatusBar",s.NavigationBar="NavigationBar"})(Zt||(Zt={}));class vr extends It{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}je("SystemBars",{web:()=>new vr});const Nr="modulepreload",Cr=function(s){return"/PaperKnife/"+s},Qt={},it=function(r,t,n){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");o=Promise.allSettled(t.map(d=>{if(d=Cr(d),d in Qt)return;Qt[d]=!0;const m=d.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const h=document.createElement("link");if(h.rel=m?"stylesheet":Nr,m||(h.as="script"),h.crossOrigin="",h.href=d,l&&h.setAttribute("nonce",l),document.head.appendChild(h),m)return new Promise((w,v)=>{h.addEventListener("load",w),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return r().catch(a)})};function zr(s){s.CapacitorUtils.Synapse=new Proxy({},{get(r,t){return new Proxy({},{get(n,o){return(a,i,l)=>{const d=s.Capacitor.Plugins[t];if(d===void 0){l(new Error(`Capacitor plugin ${t} not found`));return}if(typeof d[o]!="function"){l(new Error(`Method ${o} not found in Capacitor plugin ${t}`));return}(async()=>{try{const m=await d[o](a);i(m)}catch(m){l(m)}})()}}})}})}function Pr(s){s.CapacitorUtils.Synapse=new Proxy({},{get(r,t){return s.cordova.plugins[t]}})}function Sr(s=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!s?zr(window):window.cordova!==void 0&&Pr(window))}var Ie;(function(s){s.Documents="DOCUMENTS",s.Data="DATA",s.Library="LIBRARY",s.Cache="CACHE",s.External="EXTERNAL",s.ExternalStorage="EXTERNAL_STORAGE",s.ExternalCache="EXTERNAL_CACHE",s.LibraryNoCloud="LIBRARY_NO_CLOUD",s.Temporary="TEMPORARY"})(Ie||(Ie={}));var Xt;(function(s){s.UTF8="utf8",s.ASCII="ascii",s.UTF16="utf16"})(Xt||(Xt={}));const et=je("Filesystem",{web:()=>it(()=>import("./web-BvwoanYO.js"),__vite__mapDeps([0,1,2,3,4,5])).then(s=>new s.FilesystemWeb)});Sr();const ue=({size:s=24,className:r="",iconColor:t,partColor:n})=>e.jsxs("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[e.jsx("path",{d:"M4 4L21 12H9L4 4Z",fill:t||"#F43F5E"}),e.jsx("path",{d:"M4 20L21 12H9L4 20Z",fill:n||"currentColor",className:n?"":"fill-zinc-950 dark:fill-white transition-colors duration-300"})]}),Fr="PaperKnifeDB",le="activity",Dr=1,Tt=()=>new Promise((s,r)=>{const t=indexedDB.open(Fr,Dr);t.onupgradeneeded=()=>{const n=t.result;n.objectStoreNames.contains(le)||n.createObjectStore(le,{keyPath:"id"})},t.onsuccess=()=>s(t.result),t.onerror=()=>r(t.error)}),Y=async s=>{const r=await Tt(),n=r.transaction(le,"readwrite").objectStore(le),o={...s,id:Math.random().toString(36).substr(2,9),timestamp:Date.now()};await n.add(o);const a=localStorage.getItem("historyLimit"),i=a==="999"?999999:parseInt(a||"10"),l=n.getAll();l.onsuccess=()=>{const d=l.result;if(d.length>i){const g=d.sort((v,C)=>C.timestamp-v.timestamp).slice(i),w=r.transaction(le,"readwrite").objectStore(le);g.forEach(v=>w.delete(v.id))}}},$t=async(s=10)=>{const n=(await Tt()).transaction(le,"readonly").objectStore(le);return new Promise(o=>{const a=n.getAll();a.onsuccess=()=>{const i=a.result;o(i.sort((l,d)=>d.timestamp-l.timestamp).slice(0,s))}})},lt=async()=>{await(await Tt()).transaction(le,"readwrite").objectStore(le).clear()},Jt=()=>{localStorage.setItem("lastSeen",String(Date.now()))},Er=()=>Number(localStorage.getItem("lastSeen")||"0");var mt;(function(s){s.Heavy="HEAVY",s.Medium="MEDIUM",s.Light="LIGHT"})(mt||(mt={}));var ht;(function(s){s.Success="SUCCESS",s.Warning="WARNING",s.Error="ERROR"})(ht||(ht={}));const ks=je("Haptics",{web:()=>it(()=>import("./web-AjrK5q74.js"),__vite__mapDeps([6,1,2,3,4,5])).then(s=>new s.HapticsWeb)}),Ve=async(s=mt.Medium)=>{if(W.isNativePlatform()&&localStorage.getItem("hapticsEnabled")==="true")try{await ks.impact({style:s})}catch{console.warn("Haptics not supported")}},Lr=async()=>{if(W.isNativePlatform()&&localStorage.getItem("hapticsEnabled")==="true")try{await ks.notification({type:ht.Success})}catch{console.warn("Haptics not supported")}},Ar={Edit:{bg:"bg-rose-50 dark:bg-rose-900/20",text:"text-rose-500",hover:"hover:bg-rose-50 dark:hover:bg-rose-900/10",iconBg:"bg-rose-100 dark:bg-rose-900/30"},Secure:{bg:"bg-indigo-50 dark:bg-indigo-900/20",text:"text-indigo-500",hover:"hover:bg-indigo-50 dark:hover:bg-indigo-900/10",iconBg:"bg-indigo-100 dark:bg-indigo-900/30"},Convert:{bg:"bg-emerald-50 dark:bg-emerald-900/20",text:"text-emerald-500",hover:"hover:bg-emerald-50 dark:hover:bg-emerald-900/10",iconBg:"bg-emerald-100 dark:bg-emerald-900/30"},Optimize:{bg:"bg-amber-50 dark:bg-amber-900/20",text:"text-amber-500",hover:"hover:bg-amber-50 dark:hover:bg-amber-900/10",iconBg:"bg-amber-100 dark:bg-amber-900/30"}};function Rr({children:s,theme:r,toggleTheme:t,tools:n,onFileDrop:o,viewMode:a}){const i=ce(),l=rs(),[d,m]=c.useState(!1),[g,h]=c.useState(!1),[w,v]=c.useState(!1),[C,P]=c.useState([]),E=c.useRef(null),z=W.isNativePlatform(),L=z||a==="android",D=!z&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);c.useEffect(()=>{g&&$t().then(P)},[g]),c.useEffect(()=>{const x=b=>{E.current&&!E.current.contains(b.target)&&v(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),c.useEffect(()=>{if(W.isNativePlatform())return;const x=f=>{f.preventDefault(),o&&m(!0)},b=f=>{f.preventDefault(),(f.clientX<=0||f.clientY<=0||f.clientX>=window.innerWidth||f.clientY>=window.innerHeight)&&m(!1)},F=f=>{f.preventDefault(),m(!1),o&&f.dataTransfer?.files&&o(f.dataTransfer.files)};return window.addEventListener("dragover",x),window.addEventListener("dragleave",b),window.addEventListener("drop",F),()=>{window.removeEventListener("dragover",x),window.removeEventListener("dragleave",b),window.removeEventListener("drop",F)}},[o]);const p=n.find(x=>{const b=x.title.split(" ")[0].toLowerCase();return l.pathname.includes(`/${b}`)}),u=l.pathname==="/",k=u||l.pathname.endsWith("/android-tools")||l.pathname.endsWith("/android-history")||l.pathname.endsWith("/settings"),y=L&&k&&!p;return e.jsxs("div",{className:"min-h-screen flex flex-col bg-[#FAFAFA] dark:bg-black text-gray-900 dark:text-zinc-100 transition-colors duration-300",children:[d&&e.jsx("div",{className:"fixed inset-0 z-[200] bg-rose-500/10 backdrop-blur-sm flex items-center justify-center pointer-events-none",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-12 rounded-[3rem] shadow-2xl border-4 border-dashed border-rose-500 animate-in zoom-in duration-300",children:[e.jsx($e,{size:64,className:"text-rose-500 animate-bounce"}),e.jsx("p",{className:"mt-4 font-black uppercase tracking-widest text-rose-500 text-center text-sm",children:"Drop PDF to start"})]})}),!L&&e.jsxs("header",{className:"flex items-center justify-between px-4 md:px-8 h-16 md:h-20 border-b border-gray-100 dark:border-zinc-800 bg-white/80 dark:bg-zinc-950/80 backdrop-blur-md sticky top-0 z-[100]",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4 flex-1 min-w-0",children:[!u&&e.jsx("button",{onClick:()=>i("/"),className:"p-2 hover:bg-gray-100 dark:hover:bg-zinc-900 rounded-xl transition-colors text-gray-500 hover:text-rose-500 shrink-0",children:e.jsx(wt,{size:20})}),e.jsxs(be,{to:"/",className:"flex items-center gap-2 hover:opacity-80 transition-opacity shrink-0",children:[e.jsx(ue,{size:W.isNativePlatform()?24:28,iconColor:"#F43F5E"}),e.jsx("span",{className:"font-black tracking-tighter text-lg md:text-xl dark:text-white hidden xs:block",children:"PaperKnife"})]}),e.jsx("div",{className:"h-6 w-[1px] bg-gray-200 dark:bg-zinc-800 mx-1 md:mx-2 shrink-0"}),e.jsxs("div",{className:"relative min-w-0",ref:E,children:[e.jsxs("button",{onClick:()=>v(!w),className:`flex items-center gap-2 px-2 md:px-3 py-1.5 rounded-xl transition-all font-black text-[10px] md:text-sm uppercase tracking-widest min-w-0 ${w?"bg-rose-500 text-white":"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-zinc-900"}`,children:[e.jsx("span",{className:"truncate",children:u?"All Tools":p?.title||"Tool"}),e.jsx(Ye,{size:14,className:`transition-transform duration-300 shrink-0 ${w?"rotate-180":""}`})]}),w&&e.jsx("div",{className:"absolute top-full left-0 mt-3 w-72 md:w-80 bg-white dark:bg-zinc-900 border border-gray-100 dark:border-zinc-800 rounded-[2rem] shadow-2xl py-4 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-300 max-h-[80vh] overflow-y-auto scrollbar-hide",children:Object.entries(n.filter(x=>x.implemented).reduce((x,b)=>(x[b.category]||(x[b.category]=[]),x[b.category].push(b),x),{})).map(([x,b])=>{const F=Ar[x];return e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"px-6 py-2",children:e.jsx("span",{className:`text-[10px] font-black uppercase tracking-[0.2em] ${F.text} opacity-60`,children:x})}),e.jsx("div",{className:"grid grid-cols-1 gap-1 px-2",children:b.map((f,N)=>{const S=f.icon,R=p?.title===f.title&&!u;return e.jsxs("button",{onClick:()=>{i(f.path||"/"),v(!1)},className:`flex items-center gap-4 p-3 rounded-2xl transition-all text-left group ${R?`${F.bg} ${F.text}`:"hover:bg-gray-50 dark:hover:bg-zinc-800 text-gray-500 dark:text-gray-400"}`,children:[e.jsx("div",{className:`p-2 rounded-lg transition-colors ${R?"bg-white dark:bg-zinc-800":`${F.iconBg} ${F.text} opacity-70 group-hover:opacity-100`}`,children:e.jsx(S,{size:18})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-black uppercase tracking-tight",children:f.title}),e.jsx("p",{className:"text-[10px] opacity-60 truncate",children:f.desc})]})]},N)})})]},x)})})]})]}),e.jsxs("div",{className:"flex items-center gap-1 md:gap-3 shrink-0",children:[D&&e.jsxs("a",{href:"https://github.com/potatameister/PaperKnife/releases/latest",target:"_blank",className:"hidden xs:flex items-center gap-2 px-3 py-1.5 bg-zinc-900 dark:bg-white text-white dark:text-black rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg active:scale-95 transition-all",children:[e.jsx(Ce,{size:14,strokeWidth:3}),"Get APK"]}),e.jsxs(be,{to:"/about",className:`p-2 md:px-4 md:py-2 rounded-xl text-[10px] md:text-xs font-black uppercase tracking-widest transition-all flex items-center gap-2 ${l.pathname.includes("about")?"bg-rose-50 dark:bg-rose-900/20 text-rose-500":"text-gray-500 hover:bg-gray-100 dark:hover:bg-zinc-900"}`,children:[e.jsx(yt,{size:18}),e.jsx("span",{className:"hidden sm:block",children:"About"})]}),e.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:r==="light"?e.jsx(kt,{size:20}):e.jsx(jt,{size:20})}),e.jsxs("button",{onClick:()=>h(!0),className:`p-2 transition-colors relative ${g?"text-rose-500":"text-gray-400 hover:text-rose-500"}`,children:[e.jsx(Le,{size:20}),C.length>0&&e.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-rose-500 rounded-full border-2 border-white dark:border-black"})]})]})]}),e.jsx("main",{className:`flex-1 min-w-0 ${y?"pb-32":""}`,children:s}),!L&&e.jsx("footer",{className:"border-t border-gray-100 dark:border-white/5 mt-20 bg-white dark:bg-black relative z-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-8 py-10 md:py-12",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-12 gap-8 mb-12",children:[e.jsxs("div",{className:"col-span-2 md:col-span-6 space-y-4",children:[e.jsxs(be,{to:"/",className:"flex items-center gap-2.5 text-gray-900 dark:text-white group w-fit",children:[e.jsx(ue,{size:22,iconColor:"#F43F5E",partColor:"currentColor"}),e.jsx("span",{className:"font-bold tracking-tight text-lg group-hover:text-rose-500 transition-colors",children:"PaperKnife"})]}),e.jsxs("p",{className:"text-gray-500 dark:text-zinc-500 text-xs leading-relaxed max-w-sm",children:["The privacy-first PDF toolkit. 100% client-side logic. ",e.jsx("br",{}),"Zero servers. Open source and forever free."]}),e.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[e.jsxs("div",{className:"flex items-center gap-2 px-2.5 py-1 bg-emerald-50 dark:bg-emerald-900/10 text-emerald-600 dark:text-emerald-400 rounded-full text-[9px] font-bold uppercase tracking-wide border border-emerald-100 dark:border-emerald-900/20",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-emerald-500 animate-pulse"}),"Live Engine"]}),e.jsx("a",{href:"https://github.com/potatameister/PaperKnife",target:"_blank",className:"p-2 bg-gray-50 dark:bg-zinc-900 rounded-xl hover:bg-rose-500 hover:text-white transition-all text-gray-500 dark:text-zinc-500",children:e.jsx(Oe,{size:14})})]})]}),e.jsxs("div",{className:"col-span-1 md:col-span-3",children:[e.jsx("h4",{className:"font-bold text-[10px] uppercase tracking-widest text-gray-900 dark:text-white mb-4",children:"Protocol"}),e.jsxs("ul",{className:"space-y-2.5 text-xs text-gray-500 dark:text-zinc-500",children:[e.jsx("li",{children:e.jsx(be,{to:"/about",className:"hover:text-rose-500 transition-colors",children:"About"})}),e.jsx("li",{children:e.jsx(be,{to:"/privacy",className:"hover:text-rose-500 transition-colors",children:"Privacy Spec"})}),e.jsx("li",{children:e.jsx("a",{href:"https://github.com/potatameister/PaperKnife/blob/main/LICENSE",target:"_blank",className:"hover:text-rose-500 transition-colors",children:"License"})})]})]}),e.jsxs("div",{className:"col-span-1 md:col-span-3",children:[e.jsx("h4",{className:"font-bold text-[10px] uppercase tracking-widest text-gray-900 dark:text-white mb-4",children:"Ecosystem"}),e.jsxs("ul",{className:"space-y-2.5 text-xs text-gray-500 dark:text-zinc-500",children:[e.jsx("li",{children:e.jsxs("a",{href:"https://github.com/sponsors/potatameister",target:"_blank",className:"flex items-center gap-2 hover:text-rose-500 transition-colors",children:["Sponsor ",e.jsx(xe,{size:10,className:"text-rose-500"})]})}),e.jsx("li",{children:e.jsx("a",{href:"https://github.com/potatameister/PaperKnife/issues",target:"_blank",className:"hover:text-rose-500 transition-colors",children:"Report Bug"})}),e.jsx("li",{children:e.jsx(be,{to:"/thanks",className:"hover:text-rose-500 transition-colors",children:"Hall of Fame"})})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-100 dark:border-white/5 flex flex-col md:flex-row justify-between items-center gap-4 text-[11px] text-gray-400 dark:text-zinc-600 font-medium",children:[e.jsx("p",{children:"© 2026 PaperKnife Project. No cookies used."}),e.jsx("div",{className:"flex gap-6 items-center",children:e.jsx("a",{href:"https://github.com/potatameister",target:"_blank",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"@potatameister"})})]})]})}),y&&e.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-black border-t border-gray-100 dark:border-zinc-800 flex items-end justify-between px-6 pb-[calc(env(safe-area-inset-bottom)+16px)] pt-3 z-[100] shadow-[0_-4px_20px_rgba(0,0,0,0.03)]",children:[e.jsxs("button",{onClick:()=>i("/"),className:`flex flex-col items-center gap-1.5 flex-1 transition-all ${l.pathname==="/"?"text-rose-500":"text-gray-400 dark:text-zinc-600"}`,children:[e.jsx(Ss,{size:24,strokeWidth:l.pathname==="/"?2.5:2}),e.jsx("span",{className:"text-[10px] font-bold",children:"Home"})]}),e.jsxs("button",{onClick:()=>i("/android-tools"),className:`flex flex-col items-center gap-1.5 flex-1 transition-all ${l.pathname==="/android-tools"?"text-rose-500":"text-gray-400 dark:text-zinc-600"}`,children:[e.jsx(xt,{size:24,strokeWidth:l.pathname==="/android-tools"?2.5:2}),e.jsx("span",{className:"text-[10px] font-bold",children:"Tools"})]}),e.jsx("div",{className:"relative -top-8",children:e.jsx("button",{onClick:()=>{Ve();const x=document.createElement("input");x.type="file",x.accept=".pdf",x.onchange=b=>{const F=b.target.files?.[0];F&&o?.([F])},x.click()},className:"w-14 h-14 bg-rose-500 text-white rounded-2xl shadow-xl shadow-rose-500/40 flex items-center justify-center active:scale-90 transition-transform ring-4 ring-white dark:ring-black",children:e.jsx(we,{size:32,strokeWidth:3})})}),e.jsxs("button",{onClick:()=>i("/android-history"),className:`flex flex-col items-center gap-1.5 flex-1 transition-all ${l.pathname==="/android-history"?"text-rose-500":"text-gray-400 dark:text-zinc-600"}`,children:[e.jsx(Le,{size:24,strokeWidth:l.pathname==="/android-history"?2.5:2}),e.jsx("span",{className:"text-[10px] font-bold",children:"History"})]}),e.jsxs(be,{to:"/settings",className:`flex flex-col items-center gap-1.5 flex-1 transition-all no-underline ${l.pathname.includes("settings")?"text-rose-500":"text-gray-400 dark:text-zinc-600"}`,children:[e.jsx(Fs,{size:24,strokeWidth:l.pathname.includes("settings")?2.5:2}),e.jsx("span",{className:"text-[10px] font-bold",children:"Settings"})]})]}),e.jsx("aside",{className:`fixed top-0 right-0 h-screen w-full sm:w-80 bg-white dark:bg-zinc-950 border-l border-gray-100 dark:border-zinc-800 z-[150] shadow-2xl transition-transform duration-500 ease-out transform ${g?"translate-x-0":"translate-x-full"}`,children:e.jsxs("div",{className:"p-6 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Le,{className:"text-rose-500",size:24}),e.jsx("h2",{className:"text-xl font-black dark:text-white",children:"Activity"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[C.length>0&&e.jsx("button",{onClick:async()=>{await lt(),P([])},className:"p-2 hover:bg-rose-50 dark:hover:bg-rose-900/20 text-gray-400 hover:text-rose-500 rounded-xl transition-colors",children:e.jsx(rt,{size:18})}),e.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-xl transition-colors",children:e.jsx(oe,{size:20,className:"text-gray-400"})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 scrollbar-hide",children:C.length===0?e.jsx("div",{className:"text-center py-20 opacity-40",children:e.jsx("p",{className:"text-xs font-bold uppercase tracking_widest text-gray-400",children:"No recent files"})}):C.map(x=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-zinc-900/50 rounded-2xl border border-gray-100 dark:border-zinc-800 group relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-lg flex items-center justify-center",children:e.jsx(as,{size:16})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-bold truncate dark:text-white",children:x.name}),e.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-tighter",children:x.tool})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-[9px] text-gray-400 font-bold",children:[e.jsx("span",{children:new Date(x.timestamp).toLocaleTimeString()}),x.resultUrl&&e.jsxs("a",{href:x.resultUrl,download:x.name,className:"text-rose-500 hover:underline flex items-center gap-1",children:[e.jsx(Ce,{size:10})," Redownload"]})]})]},x.id))})]})}),g&&e.jsx("div",{onClick:()=>h(!1),className:"fixed inset-0 bg-black/20 dark:bg-black/60 backdrop-blur-sm z-[140] animate-in fade-in duration-300"})]})}const js=c.createContext(void 0);function Ur({children:s}){const[r,t]=c.useState(null),[n,o]=c.useState(null),a=l=>{t(l),l&&o(l)},i=()=>{const l=r;return t(null),l};return e.jsx(js.Provider,{value:{pipelinedFile:r,lastPipelinedFile:n,setPipelineFile:a,consumePipelineFile:i},children:s})}function Q(){const s=c.useContext(js);if(s===void 0)throw new Error("usePipeline must be used within a PipelineProvider");return s}const Ir=c.createContext(void 0);function Tr({children:s,viewMode:r,setViewMode:t}){return e.jsx(Ir.Provider,{value:{viewMode:r,setViewMode:t},children:s})}function $r(){const{pathname:s}=rs();return c.useEffect(()=>{window.scrollTo(0,0),setTimeout(()=>{document.querySelectorAll(".overflow-y-auto").forEach(r=>{r.scrollTo(0,0)})},0)},[s]),null}const Or={Edit:{bg:"bg-rose-50 dark:bg-rose-900/20",text:"text-rose-500",border:"border-rose-100 dark:border-rose-900/30",hover:"group-hover:bg-rose-500",glow:"dark:hover:shadow-rose-900/20"},Secure:{bg:"bg-indigo-50 dark:bg-indigo-900/20",text:"text-indigo-500",border:"border-indigo-100 dark:border-indigo-900/30",hover:"group-hover:bg-indigo-500",glow:"dark:hover:shadow-indigo-900/20"},Convert:{bg:"bg-emerald-50 dark:bg-emerald-900/20",text:"text-emerald-500",border:"border-emerald-100 dark:border-emerald-900/30",hover:"group-hover:bg-emerald-500",glow:"dark:hover:shadow-emerald-900/20"},Optimize:{bg:"bg-amber-50 dark:bg-amber-900/20",text:"text-amber-500",border:"border-amber-100 dark:border-amber-900/30",hover:"group-hover:bg-amber-500",glow:"dark:hover:shadow-amber-900/20"}},Br=({title:s,desc:r,icon:t,onClick:n,category:o})=>{const a=Or[o];return e.jsxs("button",{onClick:n,className:"group relative flex flex-col p-6 rounded-[2rem] bg-white dark:bg-zinc-900/40 border border-gray-100 dark:border-white/5 hover:border-rose-500/50 dark:hover:border-rose-500/50 transition-all duration-300 text-left hover:shadow-2xl hover:shadow-rose-500/5 hover:-translate-y-1",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center mb-5 ${a.bg} ${a.text} group-hover:bg-rose-500 group-hover:text-white transition-all duration-500`,children:e.jsx(t,{size:24,strokeWidth:2})}),e.jsx("h3",{className:"font-black text-gray-900 dark:text-white mb-2 text-lg tracking-tight group-hover:text-rose-500 transition-colors",children:s}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-zinc-400 font-medium leading-relaxed line-clamp-2",children:r}),e.jsx("div",{className:"absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity text-rose-500",children:e.jsx(oe,{size:20})})]})};function Mr({tools:s}){const r=ce(),[t,n]=c.useState(""),[o,a]=c.useState("All"),i=["All","Edit","Secure","Convert","Optimize"],l=c.useMemo(()=>s.filter(d=>{const m=d.title.toLowerCase().includes(t.toLowerCase())||d.desc.toLowerCase().includes(t.toLowerCase()),g=o==="All"||d.category===o;return m&&g}),[s,t,o]);return e.jsxs("div",{className:"min-h-screen bg-[#FAFAFA] dark:bg-black transition-colors duration-500",children:[e.jsxs("section",{className:"relative pt-20 pb-16 px-6 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full bg-[radial-gradient(circle_at_center,rgba(244,63,94,0.05),transparent_70%)] pointer-events-none"}),e.jsxs("div",{className:"max-w-6xl mx-auto text-center relative z-10",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full text-[10px] font-black uppercase tracking-[0.2em] mb-8 border border-rose-100 dark:border-rose-900/30",children:[e.jsx(ye,{size:14})," Professional PDF Engine"]}),e.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tighter dark:text-white mb-8 leading-[0.9]",children:["Stop Uploading ",e.jsx("br",{}),e.jsx("span",{className:"text-rose-500",children:"Your Privacy."})]}),e.jsxs("div",{className:"max-w-2xl mx-auto relative group mt-12",children:[e.jsx("div",{className:"absolute inset-y-0 left-6 flex items-center pointer-events-none text-gray-400 group-focus-within:text-rose-500 transition-colors",children:e.jsx(Ze,{size:22})}),e.jsx("input",{type:"text",placeholder:"Search tools (e.g. merge, compress, protect...)",value:t,onChange:d=>n(d.target.value),className:"w-full bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 rounded-[2rem] py-6 pl-16 pr-8 shadow-2xl shadow-gray-200/50 dark:shadow-none focus:border-rose-500 focus:ring-4 focus:ring-rose-500/10 outline-none transition-all font-bold text-xl dark:text-white"})]})]})]}),e.jsx("main",{className:"max-w-7xl mx-auto px-6 pb-32",children:e.jsx("div",{className:"flex flex-col md:flex-row gap-8",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-12",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(d=>e.jsx("button",{onClick:()=>a(d),className:`px-6 py-2.5 rounded-full text-[10px] font-black uppercase tracking-[0.2em] transition-all border ${o===d?"bg-zinc-900 dark:bg-white text-white dark:text-black border-transparent shadow-lg":"bg-white dark:bg-zinc-900 text-gray-400 border-gray-100 dark:border-white/5 hover:border-rose-500"}`,children:d},d))}),e.jsxs("p",{className:"hidden md:block text-[10px] font-black text-gray-400 uppercase tracking-widest",children:[l.length," Modules Active"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(d=>e.jsx(Br,{...d,onClick:()=>r(d.path||"/")},d.title))}),l.length===0&&e.jsxs("div",{className:"py-32 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-zinc-900 rounded-full flex items-center justify-center mx-auto mb-6 text-gray-300",children:e.jsx(Ze,{size:32})}),e.jsx("h3",{className:"text-2xl font-black dark:text-white mb-2",children:"No tools matched."}),e.jsx("p",{className:"text-gray-500 dark:text-zinc-400 font-medium",children:"Try searching for a different keyword or clear your filters."}),e.jsx("button",{onClick:()=>{n(""),a("All")},className:"mt-8 text-rose-500 font-black uppercase tracking-widest text-xs hover:underline underline-offset-8",children:"Reset Dashboard"})]})]})})})]})}function Wr({theme:s,toggleTheme:r,onFileSelect:t}){const n=ce(),[o,a]=c.useState([]),i=c.useRef(null);c.useEffect(()=>{$t(3).then(a)},[]);const l=[{title:"Merge",icon:ns,path:"/merge",color:"text-rose-500",bg:"bg-rose-50 dark:bg-rose-900/20",sub:"Combine"},{title:"Compress",icon:ke,path:"/compress",color:"text-amber-500",bg:"bg-amber-50 dark:bg-amber-900/20",sub:"Optimize"},{title:"Split",icon:Qe,path:"/split",color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20",sub:"Extract"},{title:"Protect",icon:V,path:"/protect",color:"text-indigo-500",bg:"bg-indigo-50 dark:bg-indigo-900/20",sub:"Secure"}],d=m=>{const g=m.target.files?.[0];g&&t&&t(g)};return e.jsxs("div",{className:"flex flex-col min-h-screen bg-[#FAFAFA] dark:bg-black transition-colors pb-24 text-left",children:[e.jsx("input",{type:"file",accept:".pdf",ref:i,onChange:d,className:"hidden"}),e.jsx("header",{className:"px-6 pt-safe pb-2 sticky top-0 z-50 bg-[#FAFAFA]/95 dark:bg-black/95 backdrop-blur-xl border-b border-transparent",children:e.jsxs("div",{className:"flex items-center justify-between h-14",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ue,{size:24,iconColor:"#F43F5E",partColor:"currentColor"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"text-lg font-black tracking-tighter text-gray-900 dark:text-white leading-none",children:"PaperKnife"}),e.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.6)]"})]}),e.jsx("span",{className:"text-[7px] font-black text-rose-500 uppercase tracking-[0.2em] mt-0.5",children:"Secure Engine"})]})]}),e.jsx("button",{onClick:r,className:"w-9 h-9 flex items-center justify-center rounded-full bg-gray-100 dark:bg-zinc-900 text-gray-500 dark:text-gray-400 active:bg-gray-200 dark:active:bg-zinc-800 transition-colors",children:s==="light"?e.jsx(kt,{size:18}):e.jsx(jt,{size:18})})]})}),e.jsxs("main",{className:"px-4 py-2 space-y-6 flex-1 overflow-y-auto scrollbar-hide",children:[e.jsx("section",{children:e.jsxs("button",{onClick:()=>i.current?.click(),className:"w-full bg-zinc-900 dark:bg-zinc-100 rounded-[2.25rem] p-6 text-left relative overflow-hidden shadow-xl shadow-zinc-900/10 dark:shadow-[0_0_30px_rgba(244,63,94,0.15)] group active:scale-[0.98] transition-all duration-100",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-rose-500 rounded-full blur-[80px] -mr-20 -mt-20 opacity-20 dark:opacity-[0.08] pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-12",children:[e.jsx("div",{className:"p-3.5 bg-white/10 dark:bg-black/5 rounded-2xl backdrop-blur-md text-white dark:text-black border border-white/5 dark:border-black/5",children:e.jsx($e,{size:28,strokeWidth:2.5})}),e.jsx("div",{className:"px-3 py-1.5 bg-rose-500 text-white rounded-full text-[9px] font-black uppercase tracking-widest shadow-sm",children:"Start Session"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-white dark:text-black tracking-tight leading-none mb-2",children:"Select PDF"}),e.jsx("p",{className:"text-[11px] font-bold text-zinc-400 dark:text-zinc-600 uppercase tracking-tight",children:"Tap to load from device storage"})]})]})]})}),o.length>0&&e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between px-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ds,{size:12,className:"text-gray-400"}),e.jsx("h3",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-gray-400 leading-none",children:"History Clipboard"})]}),e.jsx("button",{onClick:()=>n("/android-history"),className:"text-[9px] font-black uppercase text-rose-500 tracking-wider",children:"View All"})]}),e.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-[2rem] border border-gray-100 dark:border-white/5 shadow-sm divide-y divide-gray-50 dark:divide-white/5 overflow-hidden",children:o.map(m=>e.jsxs("button",{onClick:()=>n("/android-history"),className:"w-full p-4 flex items-center gap-4 active:bg-gray-50 dark:active:bg-white/5 transition-colors text-left",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-50 dark:bg-white/5 rounded-xl flex items-center justify-center text-gray-400 dark:text-zinc-500 shrink-0",children:e.jsx(ze,{size:18})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-bold truncate text-gray-900 dark:text-white leading-tight mb-0.5",children:m.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[9px] text-rose-500 font-black uppercase tracking-tight",children:m.tool}),e.jsx("span",{className:"text-[14px] text-gray-200 dark:text-zinc-800 leading-none",children:"•"}),e.jsxs("span",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-tight",children:[(m.size/(1024*1024)).toFixed(2)," MB"]})]})]}),e.jsx(oe,{size:14,className:"text-gray-300"})]},m.id))})]}),e.jsxs("section",{children:[e.jsx("div",{className:"px-2 mb-3 flex items-center justify-between",children:e.jsx("h3",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-gray-400",children:"Core Engines"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.map(m=>e.jsxs("button",{onClick:()=>n(m.path),className:"p-5 bg-white dark:bg-zinc-900 rounded-[2rem] border border-gray-100 dark:border-white/5 flex flex-col justify-between h-32 shadow-sm active:bg-gray-50 dark:active:bg-white/5 transition-colors text-left relative overflow-hidden",children:[e.jsx("div",{className:`w-10 h-10 ${m.bg} ${m.color} rounded-xl flex items-center justify-center mb-2`,children:e.jsx(m.icon,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("span",{className:"text-sm font-black text-gray-900 dark:text-white block leading-none mb-1",children:m.title}),e.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-tight",children:m.sub})]})]},m.title)),e.jsxs("button",{onClick:()=>n("/android-tools"),className:"col-span-2 p-5 bg-rose-500 text-white rounded-[2rem] flex items-center justify-between shadow-lg shadow-rose-500/20 active:bg-rose-600 transition-colors group relative overflow-hidden",children:[e.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10 pointer-events-none",children:e.jsx(xt,{size:100})}),e.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(xt,{size:20,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-black block leading-none mb-1",children:"More Engines"}),e.jsx("span",{className:"text-[9px] font-bold opacity-80 uppercase tracking-widest",children:"Full Catalog"})]})]}),e.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center relative z-10",children:e.jsx(oe,{size:16})})]})]})]}),e.jsx("div",{className:"flex flex-col items-center gap-2 py-8 opacity-20",children:e.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.4em] dark:text-white text-center",children:"PaperKnife v1.0.6"})})]})]})}function _r({tools:s}){const r=ce(),[t,n]=c.useState(""),o={Edit:{bg:"bg-rose-50 dark:bg-rose-900/10",text:"text-rose-600 dark:text-rose-400",icon:"text-rose-500",border:"border-rose-100/50 dark:border-rose-900/20"},Secure:{bg:"bg-indigo-50 dark:bg-indigo-900/10",text:"text-indigo-600 dark:text-indigo-400",icon:"text-indigo-500",border:"border-indigo-100/50 dark:border-indigo-900/20"},Convert:{bg:"bg-emerald-50 dark:bg-emerald-900/10",text:"text-emerald-600 dark:text-emerald-400",icon:"text-emerald-500",border:"border-emerald-100/50 dark:border-emerald-900/20"},Optimize:{bg:"bg-amber-50 dark:bg-amber-900/10",text:"text-amber-600 dark:text-amber-400",icon:"text-amber-500",border:"border-amber-100/50 dark:border-amber-900/20"}},a=c.useMemo(()=>s.filter(l=>l.title.toLowerCase().includes(t.toLowerCase())||l.desc.toLowerCase().includes(t.toLowerCase())),[s,t]),i=c.useMemo(()=>a.reduce((l,d)=>(l[d.category]||(l[d.category]=[]),l[d.category].push(d),l),{}),[a]);return e.jsxs("div",{className:"min-h-screen bg-[#FAFAFA] dark:bg-black pb-32 transition-colors",children:[e.jsxs("header",{className:"px-6 pt-[calc(env(safe-area-inset-top)+0.75rem)] pb-6",children:[e.jsx("h1",{className:"text-4xl font-black tracking-tighter dark:text-white mb-8",children:"All Tools"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-5 flex items-center pointer-events-none text-gray-500",children:e.jsx(Ze,{size:20})}),e.jsx("input",{type:"text",placeholder:"Search for a tool...",value:t,onChange:l=>n(l.target.value),className:"w-full bg-[#EEE8F4] dark:bg-[#2B2930] border-none rounded-[1.75rem] py-4 pl-14 pr-6 text-base font-bold placeholder:text-gray-400 focus:bg-white dark:focus:bg-[#36343B] ring-2 ring-transparent focus:ring-rose-500/10 transition-all dark:text-white outline-none shadow-sm"})]})]}),e.jsx("main",{className:"px-4 space-y-8",children:Object.keys(i).map(l=>e.jsxs("section",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("h3",{className:"px-2 mb-4 text-[11px] font-black uppercase tracking-[0.2em] text-[#49454F] dark:text-[#CAC4D0]",children:[l," Tools"]}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:i[l].map((d,m)=>{const g=o[d.category],h=d.icon;return e.jsxs("button",{onClick:()=>d.implemented&&d.path&&r(d.path),className:"flex items-center gap-4 p-4 bg-white dark:bg-zinc-900 rounded-2xl border border-gray-100 dark:border-zinc-800 active:bg-gray-50 dark:active:bg-black transition-all shadow-sm",children:[e.jsx("div",{className:`w-12 h-12 ${g.bg} ${g.icon} rounded-xl flex items-center justify-center shrink-0`,children:e.jsx(h,{size:24,strokeWidth:1.5})}),e.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[e.jsx("h4",{className:"font-bold text-sm dark:text-white truncate",children:d.title}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:d.desc})]}),e.jsx(oe,{size:18,className:"text-gray-300"})]},m)})})]},l))}),e.jsxs("footer",{className:"text-center py-12 opacity-20",children:[e.jsx(ue,{size:24,iconColor:"#F43F5E",partColor:"currentColor",className:"mx-auto mb-4"}),e.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.5em]",children:"PaperKnife Version 1.0.6"})]})]})}function Hr(){const[s,r]=c.useState([]),[t,n]=c.useState("");c.useEffect(()=>{const d=localStorage.getItem("historyLimit"),m=d==="999"?100:parseInt(d||"10");$t(m).then(r)},[]);const o=async()=>{U("Wipe all history?",{id:"history-wipe-confirm",action:{label:"Confirm",onClick:async()=>{await lt(),r([]),U.success("History wiped",{id:"history-wipe-done"}),U.dismiss("history-wipe-confirm")}},cancel:{label:"Cancel",onClick:()=>U.dismiss("history-wipe-confirm")}})},a=s.filter(d=>d.name.toLowerCase().includes(t.toLowerCase())||d.tool.toLowerCase().includes(t.toLowerCase())),i=d=>{if(d===0)return"0 Bytes";const m=1024,g=["Bytes","KB","MB","GB"],h=Math.floor(Math.log(d)/Math.log(m));return parseFloat((d/Math.pow(m,h)).toFixed(2))+" "+g[h]},l=d=>new Date(d).toLocaleDateString(void 0,{month:"short",day:"numeric"});return e.jsxs("div",{className:"min-h-screen bg-[#FAFAFA] dark:bg-black pb-32 transition-colors",children:[e.jsxs("header",{className:"px-6 pt-[calc(env(safe-area-inset-top)+1rem)] pb-6 sticky top-0 bg-[#FAFAFA]/90 dark:bg-black/90 backdrop-blur-xl z-50 border-b border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("h1",{className:"text-3xl font-black tracking-tighter dark:text-white",children:"Activity"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-rose-500 opacity-80",children:"Local Storage Active"})]}),s.length>0&&e.jsx("button",{onClick:o,className:"p-3 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-2xl active:scale-90 transition-all shadow-sm",children:e.jsx(rt,{size:20})})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-5 flex items-center pointer-events-none text-gray-400 group-focus-within:text-rose-500 transition-colors",children:e.jsx(Ze,{size:18})}),e.jsx("input",{type:"text",placeholder:"Search documents...",value:t,onChange:d=>n(d.target.value),className:"w-full bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 rounded-2xl py-4 pl-14 pr-6 text-sm font-bold placeholder:text-gray-400 focus:bg-white dark:focus:bg-zinc-800 shadow-sm outline-none transition-all dark:text-white"}),t&&e.jsx("button",{onClick:()=>n(""),className:"absolute inset-y-0 right-4 flex items-center text-gray-400",children:e.jsx(Z,{size:16})})]})]}),e.jsxs("main",{className:"px-4 py-6 space-y-2",children:[a.length===0?e.jsxs("div",{className:"py-24 text-center flex flex-col items-center animate-in fade-in duration-700",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 dark:bg-zinc-900 rounded-[2.5rem] flex items-center justify-center text-gray-300 mb-6 border border-gray-100 dark:border-white/5",children:e.jsx(os,{size:32,strokeWidth:1.5})}),e.jsx("h3",{className:"text-xl font-black dark:text-white tracking-tight",children:"Everything Clear"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-zinc-500 max-w-[200px] mt-2 font-medium leading-relaxed",children:"Documents processed on this device will appear here temporarily."})]}):a.map(d=>e.jsxs("div",{className:"p-4 bg-white dark:bg-zinc-900 rounded-[2rem] border border-gray-100 dark:border-white/5 flex items-center gap-4 active:scale-[0.99] transition-all shadow-sm group",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-50 dark:bg-zinc-800 text-gray-400 group-hover:bg-rose-50 dark:group-hover:bg-rose-900/20 group-hover:text-rose-500 rounded-2xl flex items-center justify-center shrink-0 transition-colors shadow-inner",children:e.jsx(ze,{size:22})}),e.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[e.jsx("p",{className:"text-xs font-black truncate dark:text-white mb-0.5",children:d.name}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center gap-1 text-[9px] text-gray-400 font-black uppercase tracking-tighter bg-gray-100 dark:bg-white/5 px-2 py-0.5 rounded-md",children:d.tool}),e.jsxs("div",{className:"flex items-center gap-1 text-[9px] text-gray-400 font-bold",children:[e.jsx(vt,{size:10})," ",i(d.size)]}),e.jsxs("div",{className:"flex items-center gap-1 text-[9px] text-gray-400 font-bold",children:[e.jsx(Es,{size:10})," ",l(d.timestamp)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[d.resultUrl&&e.jsx("a",{href:d.resultUrl,download:d.name,className:"w-10 h-10 bg-rose-500 text-white rounded-full flex items-center justify-center shadow-lg shadow-rose-500/20 active:scale-90 transition-all",children:e.jsx(Ce,{size:18})}),e.jsx(oe,{size:16,className:"text-gray-200 dark:text-zinc-800"})]})]},d.id)),e.jsxs("div",{className:"pt-12 flex flex-col items-center gap-3 pb-10 opacity-30",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{size:14,className:"text-emerald-500"}),e.jsx("span",{className:"text-[8px] font-black uppercase tracking-[0.2em] text-gray-500",children:"Privacy Protocol"})]}),e.jsx("p",{className:"text-[7px] font-medium text-gray-400 max-w-[200px] text-center",children:"Documents are processed locally in your private environment. Activity logs are stored on this device only."})]})]})]})}function Kr({title:s,highlight:r,description:t}){const n=ce(),o=W.isNativePlatform();return e.jsxs("div",{className:"relative text-center mb-8 md:mb-12",children:[o&&e.jsx("button",{onClick:()=>n("/"),className:"absolute left-0 top-0 p-3 bg-gray-50 dark:bg-zinc-900 rounded-2xl text-gray-500 hover:text-rose-500 transition-colors md:hidden",children:e.jsx(wt,{size:20})}),e.jsxs("h2",{className:"text-3xl md:text-5xl font-black mb-3 md:mb-4 dark:text-white px-10",children:[s," ",e.jsxs("span",{className:"text-rose-500",children:[r,"."]})]}),e.jsx("p",{className:"text-sm md:text-base text-gray-500 dark:text-zinc-400 max-w-lg mx-auto leading-relaxed",children:t})]})}const q=({title:s,description:r,children:t,actions:n,onBack:o})=>{const a=ce(),d=W.isNativePlatform()||document.body.classList.contains("android-mode")||window.location.pathname.includes("android");return e.jsxs("div",{className:"flex flex-col min-h-screen bg-[#FAFAFA] dark:bg-black transition-colors",children:[d&&e.jsxs("header",{className:"px-4 pt-safe pb-1 flex items-center justify-between sticky top-0 z-30 bg-[#FAFAFA]/95 dark:bg-black/95 backdrop-blur-xl md:hidden border-b border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 h-14",children:[e.jsx("button",{onClick:o||(()=>a(-1)),className:"w-10 h-10 flex items-center justify-center rounded-full active:bg-zinc-100 dark:active:bg-zinc-900 transition-colors -ml-1",children:e.jsx(wt,{size:24,className:"text-gray-900 dark:text-white"})}),e.jsx("h1",{className:"text-lg font-black tracking-tight text-gray-900 dark:text-white ml-1",children:s})]}),e.jsx("div",{className:"w-10"})]}),e.jsxs("main",{className:`flex-1 flex flex-col p-4 md:p-8 max-w-5xl mx-auto w-full ${n?"pb-32 md:pb-8":""}`,children:[e.jsx("div",{className:`${d?"hidden md:block":"block"} mb-8`,children:e.jsx(Kr,{title:s,description:r})}),e.jsx("div",{className:"flex-1",children:t})]}),n&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 dark:bg-black/95 backdrop-blur-xl border-t border-gray-100 dark:border-white/5 z-40 pb-[calc(env(safe-area-inset-bottom)+1rem)] shadow-[0_-10px_40px_rgba(0,0,0,0.05)]",children:e.jsx("div",{className:"p-4 max-w-md mx-auto",children:n})})]})},ie=({title:s,icon:r,children:t,defaultOpen:n=!1})=>{const[o,a]=c.useState(n);return e.jsxs("div",{className:"border-b border-gray-100 dark:border-zinc-800 last:border-0 overflow-hidden",children:[e.jsxs("button",{onClick:()=>a(!o),className:"w-full py-6 flex items-center justify-between text-left group transition-all",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center transition-all duration-500 ${o?"bg-rose-500 text-white shadow-lg shadow-rose-500/20":"bg-gray-50 dark:bg-zinc-900 text-gray-400 group-hover:text-rose-500 group-hover:bg-rose-50 dark:group-hover:bg-rose-900/10"}`,children:e.jsx(r,{size:20,strokeWidth:2.5})}),e.jsx("h4",{className:"font-black text-xs md:text-sm uppercase tracking-[0.2em] text-gray-900 dark:text-white transition-colors",children:s})]}),e.jsx("div",{className:`p-2 rounded-full transition-all ${o?"bg-rose-50 dark:bg-rose-900/20 text-rose-500":"text-gray-300"}`,children:e.jsx(Ye,{size:18,className:`transition-transform duration-500 ${o?"rotate-180":""}`})})]}),o&&e.jsx("div",{className:"pb-8 pl-16 pr-6 text-sm md:text-base text-gray-500 dark:text-zinc-400 font-medium leading-relaxed animate-in slide-in-from-top-4 duration-500",children:t})]})},Gr=()=>{const s=ce();return e.jsxs("div",{className:"min-h-screen bg-[#FAFAFA] dark:bg-black text-gray-900 dark:text-zinc-100 selection:bg-rose-500 selection:text-white pb-24",children:[e.jsxs("section",{className:"relative pt-20 pb-12 px-6 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full bg-[radial-gradient(circle_at_center,rgba(244,63,94,0.05),transparent_60%)] pointer-events-none"}),e.jsxs("div",{className:"max-w-5xl mx-auto text-center relative z-10",children:[e.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tighter dark:text-white mb-6 leading-[0.9] animate-in fade-in slide-in-from-bottom-4 duration-700",children:["Privacy is a ",e.jsx("br",{}),e.jsx("span",{className:"text-rose-500 font-black",children:"Human Right."})]}),e.jsx("p",{className:"text-lg md:text-xl text-gray-500 dark:text-zinc-400 max-w-2xl mx-auto leading-relaxed font-medium animate-in fade-in slide-in-from-bottom-8 duration-700 delay-100",children:"PaperKnife is an absolute document engine. No servers, no tracking, no compromises. We transform your browser into a self-contained document laboratory."})]})]}),e.jsx("section",{className:"max-w-5xl mx-auto px-6 mb-20",children:e.jsxs("div",{className:"bg-rose-500 text-white rounded-[2.5rem] p-8 md:p-12 flex flex-col md:flex-row items-center gap-10 relative overflow-hidden shadow-xl shadow-rose-500/20",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,rgba(255,255,255,0.15),transparent_60%)] pointer-events-none"}),e.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-3xl flex items-center justify-center shrink-0 backdrop-blur-md border border-white/20",children:e.jsx(xe,{size:32,fill:"currentColor"})}),e.jsxs("div",{className:"flex-1 text-center md:text-left relative z-10",children:[e.jsx("h3",{className:"text-3xl font-black tracking-tighter mb-3 leading-tight",children:"Fuel the Engine."}),e.jsx("p",{className:"text-rose-100 font-medium text-base mb-6 max-w-xl leading-relaxed",children:"PaperKnife is self-funded and ad-free. Your support ensures the project stays alive and free for everyone."}),e.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-3",children:[e.jsxs("a",{href:"https://github.com/sponsors/potatameister",target:"_blank",className:"px-8 py-3.5 bg-white text-rose-600 rounded-2xl font-black uppercase tracking-widest text-[10px] hover:scale-105 transition-transform shadow-lg flex items-center gap-2",children:[e.jsx(xe,{size:14,fill:"currentColor"})," Sponsor"]}),e.jsxs("button",{onClick:()=>s("/thanks"),className:"px-8 py-3.5 bg-rose-600 text-white border border-rose-400/50 rounded-2xl font-black uppercase tracking-widest text-[10px] hover:bg-rose-700 transition-colors flex items-center gap-2",children:[e.jsx(ye,{size:14})," Hall of Fame"]})]})]})]})}),e.jsx("section",{className:"max-w-6xl mx-auto px-6 mb-20",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12 items-start",children:[e.jsxs("div",{className:"lg:col-span-5 space-y-8",children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-2.5 py-1 bg-zinc-100 dark:bg-white/5 rounded-md text-[9px] font-black uppercase tracking-widest text-gray-400 border border-gray-200/50 dark:border-white/5",children:"Technical Manifesto"}),e.jsxs("h2",{className:"text-3xl font-black tracking-tighter dark:text-white leading-[1.1]",children:["Architecture of ",e.jsx("br",{}),e.jsx("span",{className:"text-rose-500",children:"Absolute Sovereignty."})]}),e.jsx("p",{className:"text-gray-500 dark:text-zinc-400 text-sm font-medium leading-relaxed",children:"PaperKnife rejects the trade-off between convenience and privacy. We've built an engine that runs where the user is, ensuring your sensitive data never crosses a network boundary."}),e.jsxs("div",{className:"p-6 bg-white dark:bg-zinc-900 rounded-[2rem] border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsxs("h4",{className:"font-black text-[10px] uppercase tracking-widest text-emerald-500 mb-3 flex items-center gap-2",children:[e.jsx(nt,{size:14})," Zero Infrastructure"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-zinc-400 font-medium leading-relaxed",children:"We operate no backend. No databases. No file caches. PaperKnife is a static distribution of code that activates your browser's existing power."})]})]}),e.jsxs("div",{className:"lg:col-span-7 bg-white dark:bg-zinc-900 rounded-[2.5rem] p-2 md:p-6 border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsxs(ie,{title:"How it Works",icon:Nt,defaultOpen:!0,children:["Every action is executed locally on your device's CPU. Using high-performance ",e.jsx("span",{className:"text-rose-500 font-bold",children:"Web Workers"})," and ",e.jsx("span",{className:"text-rose-500 font-bold",children:"WebAssembly"}),", PaperKnife loads your PDF into a sandboxed environment within your browser tab."]}),e.jsxs(ie,{title:"Data Lifecycle",icon:at,children:["Your documents live exclusively in your browser's ",e.jsx("span",{className:"text-rose-500 font-bold",children:"volatile memory (RAM)"}),". We do not use persistent storage or cookies for your file content. Once the tab is closed, the data is destroyed."]}),e.jsx(ie,{title:"Deep Metadata Clean",icon:vt,children:'Our "Deep Clean" metadata protocol purges identifying strings like Producer, Creator, and XMP metadata that standard editors leave behind, ensuring your files are truly anonymous.'}),e.jsxs(ie,{title:"Radical Transparency",icon:is,children:["PaperKnife is ",e.jsx("span",{className:"text-rose-500 font-bold",children:"100% Open Source"})," under the ",e.jsx("span",{className:"text-rose-500 font-bold",children:"GNU AGPL v3"})," license. This gives you the right to audit every line of code and guarantees the engine remains free."]}),e.jsx(ie,{title:"Privacy Nodes",icon:Ne,children:'By processing documents on-device, every user acts as their own "Privacy Node." There is no central point of failure and no surveillance capability.'})]})]})}),e.jsxs("section",{className:"max-w-4xl mx-auto px-6 text-center border-t border-gray-100 dark:border-zinc-900 pt-16",children:[e.jsxs("div",{className:"flex flex-wrap justify-center gap-8 mb-12",children:[e.jsxs("a",{href:"https://github.com/potatameister/PaperKnife",target:"_blank",className:"flex items-center gap-2.5 text-[10px] font-black uppercase tracking-widest text-gray-400 hover:text-rose-500 transition-colors group",children:[e.jsx(Oe,{size:16})," Audit Source ",e.jsx(Ct,{size:12,className:"opacity-40 group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"})]}),e.jsxs("button",{onClick:()=>s("/thanks"),className:"flex items-center gap-2.5 text-[10px] font-black uppercase tracking-widest text-gray-400 hover:text-rose-500 transition-colors group",children:[e.jsx(ye,{size:16})," Credits ",e.jsx(oe,{size:12,className:"opacity-40 group-hover:translate-x-1 transition-transform"})]})]}),e.jsxs("div",{className:"opacity-20 hover:opacity-50 transition-opacity duration-700",children:[e.jsx(ue,{size:32,iconColor:"#F43F5E",partColor:"currentColor",className:"mx-auto mb-4"}),e.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.6em] text-gray-400",children:"potatameister"})]})]})]})},Vr=()=>{const s=ce();return e.jsx(q,{title:"Protocol",description:"System Internals",actions:null,children:e.jsxs("div",{className:"px-4 pb-32 animate-in fade-in slide-in-from-bottom-4 duration-700 space-y-4",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-[2rem] p-6 border border-gray-100 dark:border-white/5 shadow-sm flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 dark:bg-black rounded-[1.5rem] flex items-center justify-center shadow-inner mb-4",children:e.jsx(ue,{size:40,iconColor:"#F43F5E",partColor:"currentColor"})}),e.jsx("h2",{className:"text-2xl font-black tracking-tighter dark:text-white leading-none mb-1",children:"PaperKnife"}),e.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest text-rose-500",children:"v1.0.7 Stable • Absolute Privacy"})]}),e.jsxs("div",{className:"bg-rose-500 text-white rounded-[2rem] p-6 relative overflow-hidden shadow-xl shadow-rose-500/20",children:[e.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10",children:e.jsx(xe,{size:100,fill:"currentColor"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-md",children:e.jsx(xe,{size:20,fill:"currentColor"})}),e.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"Fuel the Engine"})]}),e.jsx("p",{className:"text-sm font-medium text-rose-100 leading-relaxed mb-6",children:"We are 100% self-funded. Your support ensures PaperKnife stays free and open for everyone."}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("a",{href:"https://github.com/sponsors/potatameister",target:"_blank",className:"flex items-center justify-center gap-2 py-3 bg-white text-rose-600 rounded-xl font-black uppercase text-[9px] tracking-widest shadow-sm active:scale-95 transition-transform",children:"Sponsor"}),e.jsx("button",{onClick:()=>s("/thanks"),className:"flex items-center justify-center gap-2 py-3 bg-rose-600 text-white border border-rose-400/50 rounded-xl font-black uppercase text-[9px] tracking-widest active:scale-95 transition-transform",children:"Hall of Fame"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-[2rem] p-2 border border-gray-100 dark:border-white/5 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-50 dark:border-white/5",children:e.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-gray-400",children:"System Internal Specification"})}),e.jsxs("div",{className:"divide-y divide-gray-50 dark:divide-white/5 px-2",children:[e.jsxs(ie,{title:"How it Works",icon:Nt,children:["Every action you perform—merging, splitting, or encrypting—happens locally on your device's CPU. PaperKnife uses an internal local engine powered by ",e.jsx("span",{className:"text-rose-500 font-bold",children:"pdf-lib"})," and ",e.jsx("span",{className:"text-rose-500 font-bold",children:"WebAssembly"}),". No data ever leaves your hardware."]}),e.jsxs(ie,{title:"Data Privacy",icon:at,children:["Your files are loaded into the app's ",e.jsx("span",{className:"text-rose-500 font-bold",children:"volatile memory (RAM)"})," only during your active session. We do not use persistent storage for your PDF content. Once you close the app or navigate away, the processed document is permanently purged."]}),e.jsx(ie,{title:"Deep Metadata Clean",icon:vt,children:`Privacy isn't just about servers. Most tools leave digital breadcrumbs in the PDF metadata. PaperKnife's "Deep Clean" protocol sanitizes every document, purging Producer, Creator, and XMP metadata to ensure absolute anonymity.`}),e.jsxs(ie,{title:"Open Source Integrity",icon:is,children:["Trust is earned through transparency. PaperKnife is ",e.jsx("span",{className:"text-rose-500 font-bold",children:"100% open-source"})," under the ",e.jsx("span",{className:"text-rose-500 font-bold",children:"GNU AGPL v3"})," license. This ensures the engine remains free, auditable, and community-driven forever."]}),e.jsxs(ie,{title:"Zero Infrastructure",icon:nt,children:["We operate a ",e.jsx("span",{className:"text-rose-500 font-bold",children:"Zero-Server Architecture"}),". We have no backend, no database, and no cloud. Your phone is the laboratory, and your documents stay in your hands alone."]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 pt-2",children:[e.jsxs("a",{href:"https://github.com/potatameister/PaperKnife",target:"_blank",className:"flex items-center justify-between p-5 bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 rounded-[2rem] active:scale-[0.98] transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-zinc-100 dark:bg-black rounded-xl flex items-center justify-center",children:e.jsx(Oe,{size:20,className:"text-black dark:text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-sm dark:text-white",children:"Source Code"}),e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wide",children:"AGPL v3 License"})]})]}),e.jsx(Ct,{size:16,className:"text-gray-300"})]}),e.jsxs("button",{onClick:()=>s("/thanks"),className:"flex items-center justify-between p-5 bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 rounded-[2rem] active:scale-[0.98] transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-rose-50 dark:bg-rose-900/20 rounded-xl flex items-center justify-center",children:e.jsx(ye,{size:20,className:"text-rose-500"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-bold text-sm dark:text-white",children:"Credits"}),e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wide",children:"Hall of Fame"})]})]}),e.jsx(oe,{size:16,className:"text-gray-300"})]})]}),e.jsx("p",{className:"text-[8px] font-black uppercase text-center text-gray-400 tracking-[0.5em] pt-8 pb-4",children:"Handcrafted by potatameister"})]})})};function qr({viewMode:s}){return s==="android"||s===void 0&&W.isNativePlatform()?e.jsx(Vr,{}):e.jsx(Gr,{})}function Yr(){const s=W.isNativePlatform(),r=[{name:"pdf-lib",url:"https://github.com/Hopding/pdf-lib",desc:"Core document engine for local manipulation."},{name:"PDF.js",url:"https://github.com/mozilla/pdf.js",desc:"High-performance PDF rendering and parsing."},{name:"Tesseract.js",url:"https://github.com/naptha/tesseract.js",desc:"Fully localized OCR engine for image-to-text conversion."},{name:"JSZip",url:"https://github.com/Stuk/jszip",desc:"Local file compression and bundling."},{name:"Lucide",url:"https://github.com/lucide-icons/lucide",desc:"Beautifully crafted open-source icons."},{name:"Capacitor",url:"https://github.com/ionic-team/capacitor",desc:"Native bridge for cross-platform mobile apps."},{name:"OpenCode",url:"https://github.com/opencode-ai/opencode",desc:"Open-source AI coding assistant for the terminal."},{name:"Termux",url:"https://github.com/termux/termux-app",desc:"Mobile terminal for on-the-go development."},{name:"Gemini CLI",url:"https://github.com/google-gemini/gemini-cli",desc:"AI assistance for architectural design."}],t=e.jsxs("div",{className:"animate-in fade-in duration-700",children:[e.jsxs("section",{className:s?"mb-8 text-center py-2":"mb-12 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-rose-500 font-black text-[9px] uppercase tracking-[0.4em] mb-4",children:[e.jsx(ye,{size:12})," Acknowledgments"]}),e.jsxs("h2",{className:s?"text-3xl font-black tracking-tighter dark:text-white leading-tight mb-3":"text-4xl md:text-6xl font-black tracking-tighter text-gray-900 dark:text-white leading-[1.1] mb-6",children:["The ",e.jsx("span",{className:"text-rose-500",children:"Supporters."})]}),e.jsx("p",{className:"text-base md:text-lg text-gray-500 dark:text-zinc-400 leading-relaxed font-medium max-w-xl mx-auto px-4",children:"PaperKnife is a self-funded labor of love. These are the individuals and tools that keep the engine running."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-12",children:[e.jsxs("div",{className:"p-10 bg-zinc-900 text-white rounded-[2.5rem] border border-white/10 flex flex-col md:flex-row items-center gap-10 shadow-xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 -mr-4 -mt-4 group-hover:scale-110 transition-transform duration-1000",children:e.jsx(xe,{size:160,fill:"currentColor"})}),e.jsx("div",{className:"w-20 h-20 bg-rose-500 text-white rounded-[1.5rem] flex items-center justify-center shrink-0 shadow-lg shadow-rose-500/20 animate-pulse relative z-10",children:e.jsx(xe,{size:32,fill:"currentColor"})}),e.jsxs("div",{className:"flex-1 text-center md:text-left relative z-10",children:[e.jsx("h3",{className:"text-3xl font-black tracking-tighter mb-2",children:"Hall of Fame"}),e.jsx("p",{className:"text-zinc-400 text-sm font-medium leading-relaxed max-w-lg mb-8 mx-auto md:mx-0",children:"The heroes who fuel the engine. Your support ensures PaperKnife stays free and private forever. Sponsors receive a permanent shout-out here."}),e.jsxs("a",{href:"https://github.com/sponsors/potatameister",target:"_blank",className:"inline-flex items-center gap-3 px-8 py-3.5 bg-white text-rose-600 rounded-2xl font-black uppercase tracking-widest text-[10px] hover:scale-105 transition-transform shadow-lg",children:[e.jsx(xe,{size:14,fill:"currentColor"})," Sponsor Project"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:r.map(n=>e.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"group p-5 bg-white dark:bg-zinc-900 rounded-[1.75rem] border border-gray-100 dark:border-white/5 hover:border-rose-500 transition-all shadow-sm flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-50 dark:bg-black rounded-xl flex items-center justify-center group-hover:bg-rose-500 group-hover:text-white transition-colors text-gray-400 shrink-0 border border-transparent dark:border-white/5",children:e.jsx(Oe,{size:18})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"font-black text-xs tracking-widest uppercase dark:text-white mb-0.5",children:n.name}),e.jsx("p",{className:"text-[9px] text-gray-500 dark:text-zinc-500 font-bold uppercase tracking-tight truncate",children:n.desc})]})]}),e.jsx(oe,{size:14,className:"text-gray-300 group-hover:text-rose-500 group-hover:translate-x-1 transition-all"})]},n.name))})]}),e.jsxs("footer",{className:"text-center py-8 opacity-20",children:[e.jsx(ue,{size:24,iconColor:"#F43F5E",partColor:"currentColor",className:"mx-auto mb-4"}),e.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.5em]",children:"PaperKnife Protocol v1.0.6"})]})]});return s?e.jsx(q,{title:"Credits",description:"Hall of Fame & Ecosystem",actions:null,children:e.jsx("div",{className:"pb-20",children:t})}):e.jsx("div",{className:"min-h-full bg-[#FAFAFA] dark:bg-black text-gray-900 dark:text-zinc-100 selection:bg-rose-500 selection:text-white transition-colors duration-300",children:e.jsx("main",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16",children:t})})}const Zr=()=>e.jsx("div",{className:"min-h-screen bg-[#FAFAFA] dark:bg-black text-gray-900 dark:text-zinc-100 selection:bg-rose-500 selection:text-white p-6 md:p-12 pb-24",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 items-stretch",children:[e.jsxs("div",{className:"md:col-span-8 bg-white dark:bg-zinc-900 rounded-[2.5rem] p-10 md:p-16 border border-gray-100 dark:border-white/5 relative overflow-hidden flex flex-col justify-center",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 pointer-events-none",children:e.jsx(Ne,{size:300,strokeWidth:.5})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500 rounded-full text-[9px] font-black uppercase tracking-[0.3em] mb-6 border border-emerald-100 dark:border-emerald-900/30 shadow-sm",children:[e.jsx(Ne,{size:12})," Certified Local Engine"]}),e.jsxs("h1",{className:"text-5xl md:text-7xl font-black tracking-tighter dark:text-white leading-[0.9] mb-6",children:["Architecture ",e.jsx("br",{}),e.jsx("span",{className:"text-emerald-500 font-black",children:"of Silence."})]}),e.jsx("p",{className:"text-lg text-gray-500 dark:text-zinc-400 font-medium max-w-lg leading-relaxed",children:`PaperKnife isn't just "private" by policy; it's private by architecture. We've eliminated the server entirely, ensuring that "No Data Found" is a technical reality, not just a promise.`})]})]}),e.jsxs("div",{className:"md:col-span-4 bg-zinc-900 text-white rounded-[2.5rem] p-10 flex flex-col items-center justify-center text-center relative overflow-hidden border border-white/5 shadow-2xl",children:[e.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10",children:e.jsx(V,{size:120})}),e.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-2xl flex items-center justify-center mb-6 backdrop-blur-md",children:e.jsx(nt,{size:32,className:"text-emerald-400"})}),e.jsx("h2",{className:"text-2xl font-black tracking-tighter relative z-10 mb-1 leading-none",children:"Zero Server"}),e.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest text-emerald-500 relative z-10",children:"Absolute Sovereignty"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"p-8 bg-white dark:bg-zinc-900 rounded-[2.25rem] border border-gray-100 dark:border-white/5 shadow-sm space-y-4",children:[e.jsx("div",{className:"w-10 h-10 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-xl flex items-center justify-center",children:e.jsx(Nt,{size:20})}),e.jsx("h3",{className:"font-black text-sm uppercase tracking-widest dark:text-white",children:"RAM Processing"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-zinc-400 leading-relaxed font-medium",children:"Files are streamed into your browser's volatile memory (RAM). We do not use disk-based caching or temporary cloud storage."})]}),e.jsxs("div",{className:"p-8 bg-white dark:bg-zinc-900 rounded-[2.25rem] border border-gray-100 dark:border-white/5 shadow-sm space-y-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-50 dark:bg-blue-900/20 text-blue-500 rounded-xl flex items-center justify-center",children:e.jsx(at,{size:20})}),e.jsx("h3",{className:"font-black text-sm uppercase tracking-widest dark:text-white",children:"Zero Telemetry"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-zinc-400 leading-relaxed font-medium",children:"No tracking pixels. No cookies. No user IDs. We have no way of knowing how many files you process or who you are."})]}),e.jsxs("div",{className:"p-8 bg-white dark:bg-zinc-900 rounded-[2.25rem] border border-gray-100 dark:border-white/5 shadow-sm space-y-4",children:[e.jsx("div",{className:"w-10 h-10 bg-amber-50 dark:bg-amber-900/20 text-amber-500 rounded-xl flex items-center justify-center",children:e.jsx(rt,{size:20})}),e.jsx("h3",{className:"font-black text-sm uppercase tracking-widest dark:text-white",children:"Auto-Wipe"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-zinc-400 leading-relaxed font-medium",children:"Processing data is purged as soon as you close the tab. The only data that persists is your local configuration (stored in your browser)."})]})]}),e.jsxs("div",{className:"p-10 bg-emerald-500 text-white rounded-[3rem] flex flex-col md:flex-row items-center gap-10 relative overflow-hidden shadow-2xl shadow-emerald-500/20",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,rgba(255,255,255,0.2),transparent_60%)] pointer-events-none"}),e.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center shrink-0 backdrop-blur-md border border-white/20",children:e.jsx(Le,{size:32})}),e.jsxs("div",{className:"flex-1 text-center md:text-left relative z-10",children:[e.jsx("h3",{className:"text-3xl font-black tracking-tighter mb-2",children:"Local Persistence."}),e.jsxs("p",{className:"text-emerald-50 font-medium text-base mb-6 max-w-2xl leading-relaxed",children:["Recent activity logs are stored exclusively in your browser's ",e.jsx("span",{className:"font-black",children:"IndexedDB"}),". This data never touches a network. You remain the sole custodian of your history."]}),e.jsx("div",{className:"flex flex-wrap justify-center md:justify-start gap-4",children:e.jsxs("a",{href:"https://github.com/potatameister/PaperKnife",target:"_blank",className:"px-8 py-3 bg-white text-emerald-600 rounded-xl font-black uppercase text-[10px] tracking-widest hover:scale-105 transition-transform flex items-center gap-2 shadow-lg",children:[e.jsx(Ne,{size:14})," Audit Engine"]})})]})]}),e.jsxs("div",{className:"pt-12 text-center opacity-30",children:[e.jsx(ue,{size:32,iconColor:"#10B981",partColor:"currentColor",className:"mx-auto mb-4"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.5em] text-gray-400",children:"Privacy Protocol v1.0.6 Stable"})]})]})}),Qr=()=>e.jsx(q,{title:"Privacy",description:"Data Security Spec",actions:null,children:e.jsxs("div",{className:"px-4 pb-32 animate-in fade-in slide-in-from-bottom-4 duration-700 space-y-4",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-[2rem] p-6 border border-gray-100 dark:border-white/5 shadow-sm flex items-center gap-5",children:[e.jsx("div",{className:"w-14 h-14 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500 rounded-[1.25rem] flex items-center justify-center shrink-0 shadow-inner",children:e.jsx(Ne,{size:28})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h2",{className:"text-xl font-black tracking-tighter dark:text-white leading-none mb-1",children:"Local Secure"}),e.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest text-emerald-500",children:"Zero-Server Enabled"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-[2rem] border border-gray-100 dark:border-white/5 shadow-sm overflow-hidden divide-y divide-gray-50 dark:divide-white/5",children:[e.jsx(We,{icon:nt,title:"No Cloud Compute",desc:"All PDF logic runs on your phone's CPU. No document data is ever uploaded to any server.",color:"text-rose-500 bg-rose-50 dark:bg-rose-900/20"}),e.jsx(We,{icon:at,title:"No Telemetry",desc:"We use zero tracking, analytics, or user identifiers. Your usage is completely invisible to us.",color:"text-blue-500 bg-blue-50 dark:bg-blue-900/20"}),e.jsx(We,{icon:Ls,title:"RAM Isolation",desc:"Documents stay in volatile memory. They vanish immediately when the application is closed.",color:"text-amber-500 bg-amber-50 dark:bg-amber-900/20"}),e.jsx(We,{icon:Le,title:"Local-Only Logs",desc:"History is stored in your device storage (IndexedDB) and can be cleared instantly in settings.",color:"text-indigo-500 bg-indigo-50 dark:bg-indigo-900/20"})]}),e.jsxs("div",{className:"bg-zinc-900 text-white rounded-[2rem] p-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10",children:e.jsx(V,{size:80})}),e.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-3",children:"Integrity Pledge"}),e.jsx("p",{className:"text-xs text-zinc-400 leading-relaxed font-medium mb-6",children:"PaperKnife is a transparent document workspace. We believe your data belongs to you, and we build tools that make that technically enforceable."}),e.jsxs("a",{href:"https://github.com/potatameister/PaperKnife",target:"_blank",className:"flex items-center justify-center gap-2 py-3.5 bg-white text-black rounded-xl font-black uppercase text-[10px] tracking-widest active:scale-95 transition-transform",children:["Audit Source Code ",e.jsx(Ct,{size:14})]})]}),e.jsx("p",{className:"text-[8px] font-black uppercase text-center text-gray-400 tracking-[0.5em] pt-8",children:"Handcrafted for Security"})]})}),We=({icon:s,title:r,desc:t,color:n})=>e.jsxs("div",{className:"p-6 flex gap-5",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${n}`,children:e.jsx(s,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h4",{className:"text-[13px] font-black dark:text-white uppercase tracking-tight mb-1",children:r}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-zinc-400 leading-relaxed font-medium",children:t})]})]});function Xr(){return W.isNativePlatform()||document.body.classList.contains("android-mode")||window.location.pathname.includes("android")?e.jsx(Qr,{}):e.jsx(Zr,{})}const dt=({checked:s,onChange:r})=>e.jsx("button",{onClick:t=>{t.stopPropagation(),r()},className:`w-12 h-7 rounded-full p-1 transition-all duration-300 ${s?"bg-rose-500 shadow-lg shadow-rose-500/20":"bg-gray-200 dark:bg-zinc-700"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-sm transition-transform duration-300 ${s?"translate-x-5":"translate-x-0"}`})}),de=({icon:s,title:r,subtitle:t,action:n,onClick:o,danger:a,iconColor:i})=>{const l=o?"button":"div";return e.jsxs(l,{onClick:o,className:`w-full flex items-center justify-between p-4 px-5 transition-all text-left group ${o?"active:bg-gray-50 dark:active:bg-white/5 cursor-pointer":"cursor-default"}`,children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1 overflow-hidden",children:[e.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center shrink-0 transition-colors ${a?"bg-red-50 dark:bg-red-900/20 text-red-500":i||"bg-gray-100 dark:bg-zinc-800 text-gray-500 group-hover:text-rose-500 group-hover:bg-rose-50 dark:group-hover:bg-rose-900/20"}`,children:e.jsx(s,{size:18,strokeWidth:2.5})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:`text-[13px] font-black truncate mb-0.5 tracking-tight ${a?"text-red-500":"text-gray-900 dark:text-white"}`,children:r}),t&&e.jsx("p",{className:"text-[10px] text-gray-500 dark:text-zinc-500 font-bold uppercase tracking-tight truncate",children:t})]})]}),e.jsxs("div",{className:"flex items-center gap-3 shrink-0 ml-3",children:[n,o&&!n&&e.jsx(oe,{size:16,className:"text-gray-300"})]})]})},_e=({title:s,children:r})=>e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"px-6 mb-2 text-[9px] font-black uppercase tracking-[0.3em] text-gray-400 dark:text-zinc-600",children:s}),e.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-[2.25rem] border border-gray-100 dark:border-white/5 divide-y divide-gray-50 dark:divide-white/5 shadow-sm overflow-hidden",children:r})]});function Jr({theme:s,setTheme:r}){const t=ce(),[n,o]=c.useState(localStorage.getItem("autoWipe")==="true"),[a,i]=c.useState(localStorage.getItem("autoWipeTimer")||"15"),[l,d]=c.useState(localStorage.getItem("hapticsEnabled")==="true"),[m,g]=c.useState(localStorage.getItem("autoDownload")==="true"),[h,w]=c.useState(localStorage.getItem("historyLimit")||"10"),[v,C]=c.useState(localStorage.getItem("defaultAuthor")||""),P=(L,D,p)=>{const u=!D;localStorage.setItem(L,String(u)),p(u),Ve(),U.success(`${L.replace(/([A-Z])/g," $1").replace(/^./,k=>k.toUpperCase())} updated`)},E=(L,D,p)=>{localStorage.setItem(L,D),p(D),Ve(),U.success("Configuration Saved")},z=()=>{confirm("Restore all settings to factory defaults?")&&(localStorage.clear(),localStorage.setItem("theme","system"),window.location.reload())};return e.jsx(q,{title:"System",description:"Core Configuration",actions:null,children:e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500 pb-40",children:[e.jsxs("div",{className:"flex items-center gap-4 px-2 mb-8 mt-2",children:[e.jsx("div",{className:"w-12 h-12 bg-rose-500 rounded-2xl flex items-center justify-center shadow-lg shadow-rose-500/20 text-white shrink-0",children:e.jsx(As,{size:24,strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black dark:text-white tracking-tighter leading-none mb-1",children:"Preferences"}),e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Protocol v1.0.7 • Local"})]})]}),e.jsxs(_e,{title:"Interface",children:[e.jsx("div",{className:"p-2 grid grid-cols-3 gap-2",children:[{id:"light",icon:jt,label:"Light"},{id:"dark",icon:kt,label:"Dark"},{id:"system",icon:Rs,label:"System"}].map(L=>e.jsxs("button",{onClick:()=>{r(L.id),Ve()},className:`flex flex-col items-center gap-2 py-3.5 rounded-[1.25rem] transition-all border border-transparent ${s===L.id?"bg-zinc-950 dark:bg-white text-white dark:text-black shadow-xl scale-[1.02]":"bg-gray-50 dark:bg-black/40 text-gray-400 hover:bg-gray-100 dark:hover:bg-zinc-800"}`,children:[e.jsx(L.icon,{size:18,strokeWidth:2.5}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.1em]",children:L.label})]},L.id))}),e.jsx(de,{icon:ke,title:"Haptic Feedback",subtitle:"Tactile Response Engine",action:e.jsx(dt,{checked:l,onChange:()=>P("hapticsEnabled",l,d)})})]}),e.jsxs(_e,{title:"Workflow",children:[e.jsx(de,{icon:Us,title:"Auto-Download",subtitle:"Immediate result export",action:e.jsx(dt,{checked:m,onChange:()=>P("autoDownload",m,g)})}),e.jsxs("div",{className:"p-5 flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-gray-900 dark:text-white",children:[e.jsx(Is,{size:16,className:"text-rose-500"}),e.jsx("span",{className:"text-[11px] font-black uppercase tracking-tight",children:"Default Author Metadata"})]}),e.jsx("input",{type:"text",value:v,onChange:L=>{C(L.target.value),localStorage.setItem("defaultAuthor",L.target.value)},placeholder:"e.g. potatameister",className:"w-full bg-gray-100 dark:bg-black border border-transparent focus:border-rose-500 rounded-xl px-4 py-3.5 text-xs font-black outline-none transition-all placeholder:text-gray-400 dark:text-white"})]})]}),e.jsxs(_e,{title:"Privacy",children:[e.jsx(de,{icon:os,title:"Auto-Wipe History",subtitle:"Automatic log destruction",action:e.jsx(dt,{checked:n,onChange:()=>P("autoWipe",n,o)})}),n&&e.jsxs("div",{className:"px-5 py-3 flex items-center justify-between bg-rose-50/50 dark:bg-rose-900/10 border-t border-rose-100/20 dark:border-rose-900/20 animate-in slide-in-from-top-2",children:[e.jsx("span",{className:"text-[9px] font-black text-rose-500 uppercase tracking-widest",children:"Wipe Delay"}),e.jsxs("select",{value:a,onChange:L=>E("autoWipeTimer",L.target.value,i),className:"bg-transparent text-[11px] font-black text-rose-600 outline-none cursor-pointer text-right",children:[e.jsx("option",{value:"0",children:"Immediately"}),e.jsx("option",{value:"1",children:"After 1 Minute"}),e.jsx("option",{value:"5",children:"After 5 Minutes"}),e.jsx("option",{value:"15",children:"After 15 Minutes"}),e.jsx("option",{value:"30",children:"After 30 Minutes"})]})]}),e.jsxs("div",{className:"px-5 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 dark:bg-zinc-800 rounded-2xl flex items-center justify-center text-gray-500",children:e.jsx(Ts,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-[13px] font-black text-gray-900 dark:text-white leading-none",children:"History Limit"}),e.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-tight mt-1",children:"Files to keep"})]})]}),e.jsxs("select",{value:h,onChange:L=>E("historyLimit",L.target.value,w),className:"bg-gray-100 dark:bg-black px-3 py-2 rounded-xl text-[11px] font-black text-gray-600 dark:text-gray-300 outline-none border border-transparent focus:border-rose-500 cursor-pointer",children:[e.jsx("option",{value:"5",children:"5 Files"}),e.jsx("option",{value:"10",children:"10 Files"}),e.jsx("option",{value:"20",children:"20 Files"}),e.jsx("option",{value:"50",children:"50 Files"}),e.jsx("option",{value:"999",children:"Unlimited"})]})]})]}),e.jsxs(_e,{title:"Ecosystem",children:[e.jsx(de,{icon:xe,title:"Sponsor Project",subtitle:"Fuel development",iconColor:"text-rose-500 bg-rose-50 dark:bg-rose-900/20",onClick:()=>window.open("https://github.com/sponsors/potatameister","_blank")}),e.jsx(de,{icon:$s,title:"Report Issue",subtitle:"GitHub Tracker",onClick:()=>window.open("https://github.com/potatameister/PaperKnife/issues","_blank")}),e.jsx(de,{icon:yt,title:"About PaperKnife",subtitle:"Protocol Details",onClick:()=>t("/about")}),e.jsx(de,{icon:ls,title:"Privacy Protocol",subtitle:"Data Handling Spec",onClick:()=>t("/privacy")})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h3",{className:"px-6 mb-2 text-[9px] font-black uppercase tracking-[0.3em] text-red-500",children:"Danger Zone"}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-[2.25rem] border border-red-100 dark:border-red-900/20 divide-y divide-red-50 dark:divide-red-900/10 shadow-sm overflow-hidden mb-4",children:[e.jsx(de,{icon:cs,title:"Restore Defaults",subtitle:"Reset Preferences",onClick:z,iconColor:"text-gray-500 bg-gray-100 dark:bg-zinc-800"}),e.jsx(de,{icon:rt,title:"Nuke All Data",subtitle:"Irreversible Wipedown",danger:!0,onClick:async()=>{confirm("DANGER: This will permanently delete your history and reset all configuration. Proceed?")&&(await lt(),localStorage.clear(),window.location.reload())}})]}),e.jsx("p",{className:"text-[8px] font-black uppercase text-center text-gray-300 dark:text-zinc-700 tracking-[0.5em] mt-10",children:"Configuration Engine v1.0.7 Stable"})]})]})})}const ea=je("App",{web:()=>it(()=>import("./web-B424srtF.js"),__vite__mapDeps([7,1,2,3,4,5])).then(s=>new s.AppWeb)}),ta=je("Share",{web:()=>it(()=>import("./web-cr3otr_R.js"),__vite__mapDeps([8,1,2,3,4,5])).then(s=>new s.ShareWeb)}),sa="/PaperKnife/assets/pdf.worker.min-LyOxJPrg.mjs";sr.workerSrc=sa;const tt=()=>W.isNativePlatform()?"cmaps/":"/PaperKnife/cmaps/",Te=async(s,r,t)=>{if(W.isNativePlatform())try{let n="";if(typeof s=="string")n=s.includes(",")?s.split(",")[1]:s;else{const d=new Uint8Array(s),m=[],g=32768;for(let h=0;h<d.length;h+=g)m.push(String.fromCharCode.apply(null,Array.from(d.subarray(h,h+g))));n=btoa(m.join(""))}let o=r,a=1;const i=r.substring(0,r.lastIndexOf("."))||r,l=r.substring(r.lastIndexOf("."));for(;;)try{await et.stat({path:o,directory:Ie.Documents}),o=`${i} (${a})${l}`,a++}catch{break}return await et.writeFile({path:o,data:n,directory:Ie.Documents,recursive:!0}),!0}catch(n){throw console.error("Download error:",n),n}else{const n=typeof s=="string"?await(await fetch(s)).blob():new Blob([s],{type:t}),o=URL.createObjectURL(n),a=document.createElement("a");return a.href=o,a.download=r,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o),!0}},vs=async(s,r,t)=>{if(W.isNativePlatform())try{let n="";if(typeof s=="string")n=s.includes(",")?s.split(",")[1]:s;else{const a=new Uint8Array(s),i=[],l=32768;for(let d=0;d<a.length;d+=l)i.push(String.fromCharCode.apply(null,Array.from(a.subarray(d,d+l))));n=btoa(i.join(""))}const o=await et.writeFile({path:r,data:n,directory:Ie.Cache,recursive:!0});return await ta.share({title:r,text:"Shared via PaperKnife",url:o.uri,dialogTitle:"Share PDF"}),!0}catch(n){throw console.error("Share error:",n),n}else{const n=typeof s=="string"?await(await fetch(s)).blob():new Blob([s],{type:t}),o=new File([n],r,{type:t});if(navigator.share&&navigator.canShare?.({files:[o]}))try{return await navigator.share({files:[o],title:r,text:"Shared via PaperKnife"}),!0}catch{console.error("Web share failed, falling back to download")}return Te(s,r,t)}},ae=async s=>{const r=await s.arrayBuffer();try{return await Je({data:r,cMapUrl:tt(),cMapPacked:!0}).promise}catch(t){if(t.name==="PasswordException")throw t;return await Je({data:r,cMapUrl:tt(),cMapPacked:!0,stopAtErrors:!1}).promise}},pe=async(s,r,t=1)=>{try{const n=await s.getPage(r),o=n.getViewport({scale:t}),a=1200,i=Math.min(a/o.width,a/o.height),l=window.devicePixelRatio||1,d=t*i*Math.min(l,2),m=n.getViewport({scale:d}),g=document.createElement("canvas"),h=g.getContext("2d",{alpha:!0});if(!h)throw new Error("Canvas context not available");g.height=m.height,g.width=m.width,h.fillStyle="#ffffff",h.fillRect(0,0,g.width,g.height),await n.render({canvasContext:h,viewport:m,intent:"print"}).promise;const w=g.toDataURL("image/webp",.8)||g.toDataURL("image/jpeg",.9);return g.width=0,g.height=0,w}catch(n){return console.error(`Error rendering page ${r}:`,n),""}},ra=async(s,r)=>{try{const t=await s.getPage(r),n=t.getViewport({scale:.5}),o=400,a=Math.min(o/n.width,o/n.height),i=t.getViewport({scale:a}),l=document.createElement("canvas"),d=l.getContext("2d",{alpha:!1,desynchronized:!0});if(!d)return"";l.height=i.height,l.width=i.width,d.fillStyle="#ffffff",d.fillRect(0,0,l.width,l.height),await t.render({canvasContext:d,viewport:i,intent:"display"}).promise;const m=l.toDataURL("image/jpeg",.6);return l.width=0,l.height=0,m}catch{return""}},te=async s=>{try{const r=Je({data:await s.arrayBuffer(),cMapUrl:tt(),cMapPacked:!0});r.onPassword=()=>{throw new Error("PASSWORD_REQUIRED")};const t=await r.promise;return{thumbnail:await pe(t,1),pageCount:t.numPages,isLocked:!1}}catch(r){return r.message==="PASSWORD_REQUIRED"||r.name==="PasswordException"?{thumbnail:"",pageCount:0,isLocked:!0}:{thumbnail:"",pageCount:0,isLocked:!1}}},se=async(s,r)=>{try{const t=await s.arrayBuffer(),o=await Je({data:t,password:r,cMapUrl:tt(),cMapPacked:!0}).promise;return{thumbnail:await pe(o,1),pageCount:o.numPages,isLocked:!1,success:!0,pdfDoc:o}}catch{return{thumbnail:"",pageCount:0,isLocked:!0,success:!1}}},aa=({pdfDoc:s,pageNum:r,totalPages:t})=>{const[n,o]=c.useState(null),[a,i]=c.useState(!1),l=c.useRef(null);return c.useEffect(()=>{if(!s||n||a)return;const d=new IntersectionObserver(m=>{m[0].isIntersecting&&(i(!0),pe(s,r,2).then(g=>{o(g),i(!1)}),d.disconnect())},{rootMargin:"600px"});return l.current&&d.observe(l.current),()=>d.disconnect()},[s,r,n,a]),e.jsxs("div",{ref:l,"data-page-num":r,className:"relative flex flex-col items-center gap-4 animate-in fade-in duration-700 min-h-[400px] justify-center snap-center",children:[e.jsx("div",{className:"bg-white p-1 rounded-sm shadow-[0_20px_50px_rgba(0,0,0,0.4)] group relative overflow-hidden transition-all duration-500 w-full max-w-[90%] md:max-w-full flex items-center justify-center min-h-[300px]",children:n?e.jsx("img",{src:n,alt:`Page ${r}`,className:"max-w-full h-auto object-contain select-none shadow-sm"}):e.jsxs("div",{className:"flex flex-col items-center gap-3 py-20",children:[e.jsx(G,{className:"w-6 h-6 text-zinc-800 animate-spin"}),e.jsxs("p",{className:"text-[10px] font-black text-zinc-800 uppercase tracking-[0.2em]",children:["Page ",r," Loading..."]})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-[1px] w-8 bg-zinc-800/50"}),e.jsxs("span",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-[0.4em]",children:["Page ",r," / ",t]}),e.jsx("div",{className:"h-[1px] w-8 bg-zinc-800/50"})]})]})};function Ns({file:s,onClose:r,onProcess:t}){const[n,o]=c.useState(0),[a,i]=c.useState(!0),[l,d]=c.useState(null),[m,g]=c.useState(!1),[h,w]=c.useState(1),[v,C]=c.useState(""),[P,E]=c.useState(!1),z=c.useRef(null);c.useEffect(()=>{(async()=>{i(!0);try{const y=await ae(s);d(y),o(y.numPages)}catch(y){y.name==="PasswordException"&&g(!0),console.error("Preview load error:",y)}finally{i(!1)}})();const k=ea.addListener("backButton",()=>{r()});return()=>{k.then(y=>y.remove())}},[s,r]);const L=async()=>{if(v){E(!0);try{const u=await se(s,v);u.success?(d(u.pdfDoc),o(u.pageCount),g(!1),U.success("Document unlocked")):U.error("Incorrect password")}catch{U.error("Failed to unlock")}finally{E(!1)}}},D=u=>{u.currentTarget.querySelectorAll("[data-page-num]").forEach(y=>{const x=y.getBoundingClientRect();x.top<window.innerHeight/2&&x.bottom>window.innerHeight/2&&w(Number(y.getAttribute("data-page-num")))})},p=async()=>{const u=await s.arrayBuffer();await vs(new Uint8Array(u),s.name,s.type)};return ss.createPortal(e.jsxs("div",{className:"fixed inset-0 z-[500] bg-zinc-950 flex flex-col animate-in fade-in duration-300 overflow-hidden overscroll-none",children:[e.jsxs("header",{className:"fixed top-0 inset-x-0 px-4 pt-[calc(env(safe-area-inset-top)+0.75rem)] pb-4 bg-zinc-900/95 backdrop-blur-xl border-b border-white/5 flex items-center justify-between z-50 shadow-lg",onClick:u=>u.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:r,className:"w-10 h-10 flex items-center justify-center rounded-full text-zinc-400 active:bg-white/10 active:text-white transition-all",children:e.jsx(Z,{size:22,strokeWidth:2.5})}),e.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[e.jsx("div",{className:"w-9 h-9 bg-white rounded-xl flex items-center justify-center shadow-xl shrink-0",children:e.jsx(ue,{size:20,iconColor:"#F43F5E",partColor:"#000000"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h2",{className:"text-sm font-black text-white truncate max-w-[140px] leading-tight",children:s.name}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),e.jsx("p",{className:"text-[8px] font-black text-zinc-500 uppercase tracking-widest",children:"Secure View"})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:u=>{u.stopPropagation(),p()},className:"w-10 h-10 flex items-center justify-center bg-white/5 text-zinc-300 rounded-2xl active:bg-white/10 transition-all border border-white/5",children:e.jsx(ds,{size:18,strokeWidth:2.5})}),e.jsx("button",{onClick:u=>{u.stopPropagation(),t()},className:"w-10 h-10 flex items-center justify-center bg-rose-500 text-white rounded-2xl shadow-lg shadow-rose-500/20 active:scale-95 active:bg-rose-600 transition-all border border-rose-400/20",children:e.jsx(we,{size:22,strokeWidth:3})})]})]}),e.jsxs("main",{ref:z,onScroll:D,className:"flex-1 overflow-y-auto p-4 pt-32 space-y-10 bg-zinc-950 scrollbar-hide overscroll-none snap-y",children:[a&&e.jsxs("div",{className:"h-full flex flex-col items-center justify-center gap-4",children:[e.jsx(G,{className:"w-10 h-10 text-rose-500 animate-spin"}),e.jsx("p",{className:"text-[10px] font-black text-zinc-600 uppercase tracking-[0.3em]",children:"Decoding Layers..."})]}),m?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center px-8",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-500/10 text-rose-500 rounded-[2.5rem] flex items-center justify-center mb-8 shadow-inner border border-rose-500/20",children:e.jsx(V,{size:32})}),e.jsx("h3",{className:"text-2xl font-black text-white tracking-tighter mb-3",children:"Layer Protected"}),e.jsx("p",{className:"text-sm text-zinc-500 max-w-xs mx-auto leading-relaxed mb-8",children:"This document is encrypted. Enter the password to view the contents."}),e.jsxs("div",{className:"w-full max-w-xs space-y-3 mb-10",children:[e.jsx("input",{type:"password",value:v,onChange:u=>C(u.target.value),onKeyDown:u=>u.key==="Enter"&&L(),placeholder:"Enter Password",className:"w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-4 text-white font-bold text-center outline-none focus:border-rose-500 transition-all",autoFocus:!0}),e.jsxs("button",{onClick:L,disabled:!v||P,className:"w-full py-4 bg-rose-500 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl active:scale-95 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[P?e.jsx(G,{className:"animate-spin",size:16}):e.jsx(Xe,{size:16}),"Unlock Layer"]})]}),e.jsx("button",{onClick:t,className:"text-zinc-500 font-black uppercase text-[10px] tracking-[0.2em] hover:text-white transition-colors",children:"Tool Selection"})]}):e.jsx("div",{className:"max-w-3xl mx-auto space-y-12 pb-40",children:Array.from({length:n}).map((u,k)=>e.jsx(aa,{pdfDoc:l,pageNum:k+1,totalPages:n},k))})]}),e.jsxs("footer",{className:"fixed bottom-0 inset-x-0 px-6 py-4 bg-zinc-900/95 backdrop-blur-xl border-t border-white/5 flex items-center justify-between text-[9px] font-black uppercase tracking-[0.2em] text-zinc-500 z-50 pb-[calc(env(safe-area-inset-bottom)+1rem)]",onClick:u=>u.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-emerald-500/10 text-emerald-500 rounded-md border border-emerald-500/20",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-emerald-500 animate-pulse"}),"Secure"]}),e.jsx("span",{className:"opacity-30",children:"|"}),e.jsxs("span",{className:"text-zinc-400",children:[(s.size/(1024*1024)).toFixed(2)," MB"]})]}),e.jsxs("div",{className:"text-zinc-400 font-bold tracking-[0.1em]",children:[h," / ",n," Nodes"]})]})]}),document.body)}function Be(){const[s,r]=c.useState([]),t=c.useRef([]),n=c.useCallback(a=>{const i=URL.createObjectURL(a);return t.current.push(i),r([...t.current]),i},[]),o=c.useCallback(()=>{t.current.forEach(a=>URL.revokeObjectURL(a)),t.current=[],r([])},[]);return c.useEffect(()=>()=>{t.current.forEach(a=>URL.revokeObjectURL(a))},[]),{objectUrl:s[s.length-1]||null,urls:s,createUrl:n,clearUrls:o}}const na="PaperKnifeWorkspace",oa=1,ge="workspaces",Ot=()=>new Promise((s,r)=>{const t=indexedDB.open(na,oa);t.onupgradeneeded=()=>{const n=t.result;n.objectStoreNames.contains(ge)||n.createObjectStore(ge,{keyPath:"toolId"})},t.onsuccess=()=>s(t.result),t.onerror=()=>r(t.error)}),ia=async(s,r)=>{try{const n=(await Ot()).transaction(ge,"readwrite"),o=n.objectStore(ge),a={toolId:s,files:r,lastUpdated:Date.now()};return o.put(a),new Promise((i,l)=>{n.oncomplete=()=>i(!0),n.onerror=()=>l(n.error)})}catch(t){console.error("Save Workspace Error:",t)}},es=async s=>{try{const o=(await Ot()).transaction(ge,"readonly").objectStore(ge).get(s);return new Promise((a,i)=>{o.onsuccess=()=>a(o.result||null),o.onerror=()=>i(o.error)})}catch(r){return console.error("Get Workspace Error:",r),null}},De=async s=>{try{(await Ot()).transaction(ge,"readwrite").objectStore(ge).delete(s)}catch(r){console.error("Clear Workspace Error:",r)}};function re({message:s,downloadUrl:r,fileName:t,onStartOver:n,showPreview:o=!0}){const[a,i]=c.useState(null),l=W.isNativePlatform();c.useEffect(()=>{Lr(),localStorage.getItem("autoDownload")==="true"&&(async()=>{try{const P=await(await(await fetch(r)).blob()).arrayBuffer(),E=t.endsWith(".zip")?"application/zip":"application/pdf";await Te(new Uint8Array(P),t,E),U.success(`Auto-saved as ${t}`)}catch(v){console.error("Auto-download failed:",v)}})()},[r,t]);const d=async h=>{h.preventDefault();try{U.loading(`Saving ${t}...`,{id:"save-action"});const C=await(await(await fetch(r)).blob()).arrayBuffer(),P=t.endsWith(".zip")?"application/zip":"application/pdf";await Te(new Uint8Array(C),t,P),U.success(`Saved to Documents as ${t}`,{id:"save-action"})}catch{U.error("Failed to save file",{id:"save-action"})}},m=async h=>{h.preventDefault();try{U.loading("Preparing to share...",{id:"share-action"});const C=await(await(await fetch(r)).blob()).arrayBuffer(),P=t.endsWith(".zip")?"application/zip":"application/pdf";await vs(new Uint8Array(C),t,P),U.dismiss("share-action")}catch{U.error("Failed to share file",{id:"share-action"})}},g=async()=>{try{U.loading("Loading preview...",{id:"preview-load"});const w=await(await fetch(r)).blob(),v=t.endsWith(".zip")?"application/zip":"application/pdf",C=new File([w],t,{type:v});i(C),U.dismiss("preview-load")}catch{U.error("Failed to open preview")}};return e.jsxs("div",{className:"animate-in slide-in-from-bottom duration-500 fade-in space-y-6",children:[a&&e.jsx(Ns,{file:a,onClose:()=>i(null),onProcess:()=>{const h=a;i(null),setTimeout(()=>{window.dispatchEvent(new CustomEvent("open-quick-drop",{detail:{file:h}}))},100)}}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 p-3 md:p-4 rounded-2xl flex items-center justify-center gap-2 font-bold text-xs md:text-sm border border-green-100 dark:border-green-900/30",children:[e.jsx(as,{size:16})," ",s]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex gap-3",children:[o&&e.jsxs("button",{onClick:g,className:"flex-1 bg-white dark:bg-zinc-900 text-gray-900 dark:text-white border border-gray-200 dark:border-zinc-800 p-4 rounded-2xl md:rounded-3xl shadow-sm font-black text-sm md:text-xl tracking-tight transition-all hover:bg-gray-50 active:scale-95 flex items-center justify-center gap-2",children:[e.jsx(zt,{size:20})," Preview"]}),e.jsxs("button",{onClick:m,className:"flex-1 bg-rose-50 dark:bg-rose-900/20 text-rose-500 border border-rose-100 dark:border-rose-900/30 p-4 rounded-2xl md:rounded-3xl shadow-sm font-black text-sm md:text-xl tracking-tight transition-all active:scale-95 flex items-center justify-center gap-2",children:[e.jsx(ds,{size:20})," Share"]})]}),e.jsxs("button",{onClick:d,className:"w-full bg-gray-900 dark:bg-white text-white dark:text-black p-4 md:p-6 rounded-2xl md:rounded-3xl shadow-xl font-black text-lg md:text-xl tracking-tight transition-all hover:scale-[1.01] active:scale-95 flex items-center justify-center gap-3",children:[e.jsx(Ce,{size:24})," ",l?"Save to Device":"Download"]})]}),e.jsxs("button",{onClick:n,className:"w-full mt-6 py-4 bg-gray-50 dark:bg-zinc-900 text-gray-400 hover:text-rose-500 dark:hover:text-rose-500 rounded-2xl border border-gray-100 dark:border-white/5 font-black text-[10px] uppercase tracking-[0.2em] transition-all flex items-center justify-center gap-2 active:scale-95 shadow-sm",children:[e.jsx(cs,{size:14})," Start New Session"]})]})}function X(){return W.isNativePlatform()?e.jsx("div",{className:"mt-16 pt-8 border-t border-gray-100 dark:border-zinc-900 flex flex-col items-center gap-6 animate-in fade-in duration-700",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-emerald-50/50 dark:bg-emerald-900/10 rounded-full border border-emerald-100 dark:border-emerald-900/20",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-emerald-600 dark:text-emerald-400",children:"Secure Offline Session Active"})]}),e.jsxs("div",{className:"flex items-center gap-6 text-[10px] font-black uppercase tracking-widest text-gray-400",children:[e.jsxs("a",{href:"https://github.com/potatameister/PaperKnife/issues",target:"_blank",className:"hover:text-rose-500 transition-colors flex items-center gap-2",children:[e.jsx(Oe,{size:14})," Support"]}),e.jsx("span",{className:"opacity-20",children:"•"}),e.jsxs("p",{className:"opacity-60",children:["Made by ",e.jsx("span",{className:"text-rose-500/80",children:"potatameister"})]})]})]})}):null}const la=s=>s<1024*1024?`${(s/1024).toFixed(1)} KB`:`${(s/(1024*1024)).toFixed(2)} MB`;function ca({id:s,file:r,onRemove:t,onRotate:n,onUnlock:o}){const{attributes:a,listeners:i,setNodeRef:l,transform:d,transition:m,isDragging:g}=Rt({id:s}),[h,w]=c.useState(""),[v,C]=c.useState(!1),P={transform:Ut.Transform.toString(d),transition:m,zIndex:g?50:0,position:"relative"},E=async()=>{C(!0),await o(s,h),C(!1)};return e.jsxs("div",{ref:l,style:P,className:`flex items-center gap-3 p-3 bg-white dark:bg-zinc-900 rounded-2xl border transition-all shadow-sm group touch-none relative ${g?"border-rose-300 dark:border-rose-800 shadow-xl scale-[1.02] ring-4 ring-rose-500/10":"border-gray-100 dark:border-zinc-800 hover:border-rose-200 dark:hover:border-rose-900/30"}`,children:[e.jsx("div",{...a,...i,className:"p-2 cursor-grab text-rose-400 hover:text-rose-600 dark:text-rose-500/50 dark:hover:text-rose-400 hover:bg-rose-500/10 rounded-lg transition-colors active:scale-90",children:e.jsx(xs,{size:20})}),e.jsx("div",{className:"w-12 h-16 bg-gray-50 dark:bg-zinc-800 rounded-lg overflow-hidden shrink-0 border border-gray-100 dark:border-zinc-800 relative group-hover:shadow-md transition-shadow",children:r.isLocked?e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gray-100 dark:bg-black text-rose-500",children:[e.jsx(V,{size:16}),e.jsx("span",{className:"text-[8px] font-black uppercase mt-1 text-center px-1",children:"Locked"})]}):r.thumbnail?e.jsx("img",{src:r.thumbnail,alt:"Preview",className:"w-full h-full object-cover transition-transform duration-500",style:{transform:`rotate(${r.rotation}deg)`}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center animate-pulse",children:e.jsx("div",{className:"w-4 h-4 border-2 border-rose-500 border-t-transparent rounded-full animate-spin"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-bold text-sm truncate text-gray-900 dark:text-white group-hover:text-rose-500 transition-colors",children:r.file.name}),r.isLocked&&e.jsx(V,{size:12,className:"text-rose-500 shrink-0"})]}),r.isLocked?e.jsxs("div",{className:"flex gap-1 mt-1",children:[e.jsx("input",{type:"password",placeholder:"Password",value:h,onChange:z=>w(z.target.value),className:"flex-1 bg-gray-50 dark:bg-black border border-gray-100 dark:border-zinc-800 rounded-lg px-2 py-1 text-[10px] font-bold outline-none focus:border-rose-500 text-gray-900 dark:text-white"}),e.jsx("button",{onClick:E,disabled:!h||v,className:"bg-rose-500 text-white px-2 py-1 rounded-lg text-[8px] font-black uppercase tracking-widest disabled:opacity-50 hover:scale-105 active:scale-95 transition-transform",children:v?"...":"Unlock"})]}):e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 font-medium",children:[e.jsx("span",{children:la(r.file.size)}),r.pageCount>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsxs("span",{children:[r.pageCount," pages"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[!r.isLocked&&e.jsx("button",{onClick:()=>n(s),className:"p-2 hover:bg-gray-50 dark:hover:bg-zinc-800 rounded-full text-gray-400 hover:text-rose-500 transition-all hover:rotate-90 active:scale-90",title:"Rotate 90°",children:e.jsx(he,{size:18})}),e.jsx("button",{onClick:()=>t(s),className:"p-2 hover:bg-rose-500/10 rounded-full text-gray-400 hover:text-rose-500 transition-all hover:scale-110 active:scale-90",children:e.jsx(Z,{size:18})})]})]})}function da(){const s=c.useRef(null),{setPipelineFile:r,consumePipelineFile:t}=Q(),{objectUrl:n,createUrl:o,clearUrls:a}=Be(),[i,l]=c.useState([]),[d,m]=c.useState(!1),[g,h]=c.useState("paperknife-merged"),[w,v]=c.useState(0),[C,P]=c.useState(!1),[E,z]=c.useState(!1),L=W.isNativePlatform(),D=Pt(fe(hs),fe(At,{coordinateGetter:Lt}));c.useEffect(()=>{const j=t();if(j){if(j.type&&j.type!=="application/pdf"){U.error("The file from the previous tool is not a PDF and cannot be used here.");return}const A=new File([j.buffer],j.name,{type:"application/pdf"});u([A]),U.success(`Imported ${A.name} from pipeline`)}},[]),c.useEffect(()=>{es("merge").then(j=>{j&&j.files.length>0&&i.length===0&&z(!0)})},[]),c.useEffect(()=>{i.length>0?(async()=>{const A=await Promise.all(i.map(async I=>({name:I.file.name,buffer:new Uint8Array(await I.file.arrayBuffer()),settings:{rotation:I.rotation,password:I.password}})));ia("merge",A)})():i.length===0&&!E&&De("merge")},[i]);const p=async()=>{const j=await es("merge");if(!j)return;const A=j.files.map(I=>({id:Math.random().toString(36).substr(2,9),file:new File([I.buffer],I.name,{type:"application/pdf"}),thumbnail:void 0,pageCount:0,isLocked:!1,rotation:I.settings.rotation||0,password:I.settings.password}));l(A),z(!1),U.success("Workspace restored successfully!");for(const I of A)te(I.file).then(M=>{l(H=>H.map(_=>_.id===I.id?{..._,thumbnail:M.thumbnail,pageCount:M.pageCount,isLocked:M.isLocked}:_))})},u=async j=>{const A=Array.from(j).filter(I=>I.type==="application/pdf").map(I=>({id:Math.random().toString(36).substr(2,9),file:I,thumbnail:void 0,pageCount:0,isLocked:!1,rotation:0}));if(A.length!==0){l(I=>[...I,...A]),a(),s.current&&(s.current.value="");for(const I of A)te(I.file).then(M=>{l(H=>H.map(_=>_.id===I.id?{..._,thumbnail:M.thumbnail,pageCount:M.pageCount,isLocked:M.isLocked}:_))})}},k=async(j,A)=>{const I=i.find(H=>H.id===j);if(!I)return;const M=await se(I.file,A);M.success?l(H=>H.map(_=>_.id===j?{..._,isLocked:!1,thumbnail:M.thumbnail,pageCount:M.pageCount,password:A}:_)):U.error("Incorrect password for "+I.file.name)},y=j=>{j.target.files&&u(j.target.files)},x=j=>{j.preventDefault(),P(!0)},b=j=>{j.preventDefault(),j.currentTarget&&!j.currentTarget.contains(j.relatedTarget)&&P(!1)},F=j=>{j.preventDefault(),P(!1),j.dataTransfer.files&&u(j.dataTransfer.files)},f=j=>{const{active:A,over:I}=j;A.id!==I?.id&&l(M=>{const H=M.findIndex(J=>J.id===A.id),_=M.findIndex(J=>J.id===I?.id);return Et(M,H,_)})},N=j=>{l(A=>A.filter(I=>I.id!==j)),a()},S=j=>{l(A=>A.map(I=>I.id===j?{...I,rotation:(I.rotation+90)%360}:I)),a()},R=i.reduce((j,A)=>j+A.pageCount,0),T=i.some(j=>j.isLocked),$=i.length>=2&&!T,B=async()=>{if($){m(!0),v(0);try{const j=new Worker(new URL("/PaperKnife/assets/pdfWorker-DTSgDFeA.js",import.meta.url),{type:"module"}),A=[];for(const I of i)A.push({buffer:await I.file.arrayBuffer(),rotation:I.rotation,password:I.password});j.postMessage({type:"MERGE_PDFS",payload:{files:A}}),j.onmessage=I=>{const{type:M,payload:H}=I.data;if(M==="PROGRESS")v(H);else if(M==="SUCCESS"){const _=new Blob([H],{type:"application/pdf"}),J=o(_),ne=`${g||"merged"}.pdf`;r({buffer:H,name:ne,type:"application/pdf"}),Y({name:ne,tool:"Merge",size:_.size,resultUrl:J}),m(!1),j.terminate(),De("merge"),U.success("PDFs merged successfully!")}else M==="ERROR"&&(U.error(H),m(!1),j.terminate())}}catch{U.error("An error occurred."),m(!1)}}},O=()=>e.jsx("button",{onClick:B,disabled:d||!$,className:"w-full bg-rose-500 hover:bg-rose-600 text-white font-black uppercase tracking-widest transition-all active:scale-95 disabled:opacity-50 py-4 rounded-2xl text-sm md:p-6 md:rounded-3xl md:text-xl flex items-center justify-center gap-3 shadow-lg shadow-rose-500/20",children:d?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"animate-spin"})," ",w,"%"]}):e.jsxs(e.Fragment,{children:["Merge PDFs ",e.jsx(me,{size:18})]})});return e.jsx(q,{title:"Merge PDF",description:"Combine multiple PDF files into one document. Processed entirely on your device.",actions:i.length>0&&!n&&e.jsx(O,{}),children:e.jsxs("div",{onDragOver:x,onDragLeave:b,onDrop:F,className:"flex-1",children:[C&&e.jsxs("div",{className:"fixed inset-0 z-[100] bg-rose-500/90 backdrop-blur-xl flex flex-col items-center justify-center text-white p-6 animate-in fade-in duration-300",children:[e.jsx("div",{className:"w-32 h-32 bg-white/20 rounded-full flex items-center justify-center mb-8 animate-bounce",children:e.jsx(we,{size:64,strokeWidth:3})}),e.jsx("h2",{className:"text-4xl md:text-6xl font-black mb-4 text-center",children:"Drop to Add"})]}),E&&e.jsxs("div",{className:"mb-8 p-6 bg-indigo-50 dark:bg-indigo-900/10 border border-indigo-100 dark:border-indigo-900/30 rounded-[2rem] flex flex-col md:flex-row items-center justify-between gap-4 animate-in slide-in-from-top duration-500 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-4 text-left",children:[e.jsx("div",{className:"w-12 h-12 bg-white dark:bg-zinc-900 rounded-2xl flex items-center justify-center text-indigo-500 shadow-sm",children:e.jsx(Os,{size:24,className:"animate-spin-slow"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-sm dark:text-white uppercase tracking-tight",children:"Unfinished Work Found"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-zinc-400 font-medium",children:"We saved your previous file list. Want to restore it?"})]})]}),e.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[e.jsx("button",{onClick:p,className:"flex-1 md:flex-none px-6 py-3 bg-indigo-500 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-indigo-600 transition-colors shadow-lg shadow-indigo-500/20 active:scale-95",children:"Restore"}),e.jsx("button",{onClick:()=>{De("merge"),z(!1)},className:"flex-1 md:flex-none px-6 py-3 bg-white dark:bg-zinc-800 text-gray-400 hover:text-rose-500 rounded-xl text-xs font-black uppercase tracking-widest transition-colors active:scale-95",children:"Discard"})]})]}),e.jsxs("div",{className:"space-y-6",children:[i.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center px-1",children:[e.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:[i.length," Files • ",R," Pages"]}),e.jsx("button",{onClick:()=>{l([]),a(),De("merge")},className:"text-[10px] font-black uppercase text-rose-500/60 hover:text-rose-500 transition-colors font-bold",children:"Clear All"})]}),e.jsx(St,{sensors:D,collisionDetection:Ft,onDragEnd:f,children:e.jsx(Dt,{items:i.map(j=>j.id),strategy:ms,children:e.jsx("div",{className:"space-y-3",children:i.map(j=>e.jsx(ca,{id:j.id,file:j,onRemove:N,onRotate:S,onUnlock:k},j.id))})})}),e.jsxs("button",{onClick:()=>s.current?.click(),className:"w-full py-4 border-2 border-dashed border-gray-200 dark:border-zinc-800 rounded-2xl text-gray-400 font-black uppercase text-[10px] tracking-widest flex items-center justify-center gap-2 hover:border-rose-500 hover:text-rose-500 transition-all",children:[e.jsx(we,{size:16})," Add More Files"]}),!n&&e.jsxs("div",{className:"p-6 bg-white dark:bg-zinc-900 rounded-3xl border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-gray-400 mb-3",children:"Output Filename"}),e.jsx("input",{type:"text",value:g,onChange:j=>h(j.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 outline-none font-bold text-sm border border-transparent focus:border-rose-500 transition-colors dark:text-white"})]})]}):e.jsxs("button",{onClick:()=>!d&&s.current?.click(),className:"w-full border-4 border-dashed border-gray-100 dark:border-zinc-900 rounded-[2.5rem] p-12 text-center hover:bg-rose-50 dark:hover:bg-rose-900/10 transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform shadow-inner",children:e.jsx($e,{size:32})}),e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Select PDF Files"}),e.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Tap to browse or drag and drop here"})]}),i.length>0&&!n&&!L&&e.jsx("div",{className:"mt-8",children:e.jsx(O,{})}),d&&!L&&e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsx("div",{className:"w-full bg-gray-100 dark:bg-zinc-800 h-2 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-rose-500 h-full transition-all",style:{width:`${w}%`}})}),e.jsx("p",{className:"text-center text-[10px] font-black text-gray-400 uppercase tracking-widest animate-pulse",children:"Processing on Device..."})]}),n&&e.jsx("div",{className:"animate-in zoom-in duration-300",children:e.jsx(re,{message:"PDFs Merged Successfully!",downloadUrl:n,fileName:`${g||"merged"}.pdf`,onStartOver:()=>{l([]),a(),De("merge"),m(!1)}})})]}),e.jsx("input",{type:"file",multiple:!0,accept:".pdf",className:"hidden",ref:s,onChange:y}),e.jsx(X,{})]})})}const xa=({pdfDoc:s,pageNum:r})=>{const[t,n]=c.useState(null),o=c.useRef(null);return c.useEffect(()=>{if(!s||t)return;const a=new IntersectionObserver(i=>{i[0].isIntersecting&&(ra(s,r).then(n),a.disconnect())},{rootMargin:"400px"});return o.current&&a.observe(o.current),()=>a.disconnect()},[s,r,t]),t?e.jsx("img",{src:t,className:"w-full h-full object-cover animate-in fade-in duration-300",alt:`Page ${r}`}):e.jsx("div",{ref:o,className:"w-full h-full bg-gray-50 dark:bg-zinc-900 flex items-center justify-center text-xs font-bold text-gray-400",children:e.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-transparent dark:border-zinc-700 rounded-full animate-spin"})})};function ua(){const s=c.useRef(null),{consumePipelineFile:r}=Q(),{objectUrl:t,createUrl:n,clearUrls:o}=Be(),[a,i]=c.useState(null),[l,d]=c.useState(!1),[m,g]=c.useState(!1),[h,w]=c.useState(new Set),[v,C]=c.useState("paperknife-split"),[P,E]=c.useState(""),[z,L]=c.useState("single"),[D,p]=c.useState("");c.useEffect(()=>{const N=r();if(N){const S=new File([N.buffer],N.name,{type:"application/pdf"});k(S)}},[]);const u=async()=>{if(!a||!D)return;g(!0);const N=await se(a.file,D);if(N.success){i({...a,isLocked:!1,pageCount:N.pageCount,pdfDoc:N.pdfDoc,password:D,thumbnail:N.thumbnail});const S=new Set;for(let R=1;R<=N.pageCount;R++)S.add(R);w(S),E(`1-${N.pageCount}`)}else U.error("Incorrect password");g(!1)},k=async N=>{if(N.type==="application/pdf"){g(!0);try{const S=await te(N);if(S.isLocked)i({file:N,pageCount:0,isLocked:!0});else{const R=await ae(N);i({file:N,pageCount:S.pageCount,isLocked:!1,pdfDoc:R,thumbnail:S.thumbnail});const T=new Set;for(let $=1;$<=S.pageCount;$++)T.add($);w(T),E(`1-${S.pageCount}`)}}catch(S){console.error(S)}finally{g(!1),o()}}},y=N=>{N.target.files?.[0]&&k(N.target.files[0]),N.target&&(N.target.value="")},x=N=>{const S=new Set(h);S.has(N)?S.delete(N):S.add(N),w(S),o()},b=N=>{if(!a)return;const S=new Set;N.split(",").map(T=>T.trim()).forEach(T=>{if(T.includes("-")){const[$,B]=T.split("-").map(Number);if(!isNaN($)&&!isNaN(B))for(let O=Math.max(1,$);O<=Math.min(B,a.pageCount);O++)S.add(O)}else{const $=Number(T);!isNaN($)&&$>=1&&$<=a.pageCount&&S.add($)}}),w(S),o()},F=async()=>{if(!(!a||h.size===0)){d(!0);try{const N=await a.file.arrayBuffer(),S=new Worker(new URL("/PaperKnife/assets/pdfWorker-DTSgDFeA.js",import.meta.url),{type:"module"});S.postMessage({type:"SPLIT_PDF",payload:{buffer:N,password:a.password,selectedPages:Array.from(h),mode:z,customFileName:v}}),S.onmessage=async R=>{const{type:T,payload:$}=R.data;if(T==="SUCCESS"){const B=new Blob([$],{type:"application/pdf"}),O=n(B);Y({name:`${v||"split"}.pdf`,tool:"Split",size:B.size,resultUrl:O}),d(!1),S.terminate()}else if(T==="SUCCESS_BATCH"){const B=new Ue;$.forEach(A=>{B.file(A.name,A.buffer)});const O=await B.generateAsync({type:"blob"}),j=n(O);Y({name:`${v||"split"}.zip`,tool:"Split",size:O.size,resultUrl:j}),d(!1),S.terminate()}else T==="ERROR"&&(U.error($),d(!1),S.terminate())}}catch(N){U.error(N.message||"Error splitting PDF."),d(!1)}}},f=()=>e.jsx("button",{onClick:F,disabled:l||h.size===0,className:"w-full bg-rose-500 hover:bg-rose-600 text-white font-black uppercase tracking-widest transition-all active:scale-95 disabled:opacity-50 py-4 rounded-2xl text-sm md:p-6 md:rounded-3xl md:text-xl flex items-center justify-center gap-3 shadow-lg shadow-rose-500/20",children:l?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"animate-spin"})," Working..."]}):e.jsxs(e.Fragment,{children:["Extract ",h.size," Pages ",e.jsx(me,{size:18})]})});return e.jsxs(q,{title:"Split PDF",description:"Select pages visually or by range to extract them. Everything stays on your device.",actions:a&&!a.isLocked&&!t&&e.jsx(f,{}),children:[e.jsx("input",{type:"file",accept:".pdf",className:"hidden",ref:s,onChange:y}),a?a.isLocked?e.jsx("div",{className:"max-w-md mx-auto relative z-[100]",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2.5rem] border border-gray-100 dark:border-white/5 shadow-2xl text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-rose-100 dark:bg-rose-900/30 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(V,{size:32})}),e.jsx("h3",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Protected File"}),e.jsx("input",{type:"password",value:D,onChange:N=>p(N.target.value),placeholder:"Enter Password",className:"w-full bg-gray-50 dark:bg-black rounded-2xl px-6 py-4 border border-transparent focus:border-rose-500 outline-none font-bold text-center mb-4 dark:text-white",autoFocus:!0}),e.jsx("button",{onClick:u,disabled:!D||m,className:"w-full bg-rose-500 text-white p-4 rounded-2xl font-black uppercase tracking-widest text-xs transition-all active:scale-95 disabled:opacity-50",children:"Unlock PDF"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-3xl border border-gray-100 dark:border-white/5 flex items-center gap-6 shadow-sm",children:[e.jsx("div",{className:"w-12 h-16 bg-gray-50 dark:bg-black rounded-xl overflow-hidden shrink-0 border border-gray-100 dark:border-zinc-800 flex items-center justify-center text-rose-500 shadow-inner",children:a.thumbnail?e.jsx("img",{src:a.thumbnail,className:"w-full h-full object-cover"}):e.jsx(Qe,{size:24})}),e.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[e.jsx("h3",{className:"font-bold text-sm truncate dark:text-white",children:a.file.name}),e.jsxs("p",{className:"text-[10px] text-gray-400 uppercase font-black",children:[a.pageCount," Pages • ",(a.file.size/(1024*1024)).toFixed(1)," MB"]})]}),e.jsx("button",{onClick:()=>i(null),className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:e.jsx(Z,{size:20})})]}),a.pageCount>50&&e.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 border border-amber-100 dark:border-amber-900/20 p-4 rounded-2xl flex items-center gap-3 text-amber-600 dark:text-amber-400 animate-in fade-in duration-500",children:[e.jsx("div",{className:"w-8 h-8 bg-amber-100 dark:bg-amber-900/30 rounded-lg flex items-center justify-center shrink-0",children:e.jsx(ke,{size:16})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest leading-none mb-1",children:"Heavy Document"}),e.jsx("p",{className:"text-[11px] font-medium leading-tight",children:"Visual selection for large files may be slower. Use range selection for speed."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-500",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-[2rem] border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h4",{className:"font-black uppercase tracking-widest text-[10px] text-gray-400 px-2",children:"Page Selection"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{const N=new Set;for(let S=1;S<=a.pageCount;S++)N.add(S);w(N)},className:"text-[10px] font-black uppercase text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 px-2 py-1 rounded-lg transition-colors",children:"Select All"}),e.jsx("button",{onClick:()=>w(new Set),className:"text-[10px] font-black uppercase text-gray-400 px-2 py-1 hover:bg-gray-50 dark:hover:bg-white/5 rounded-lg transition-colors",children:"Clear"})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 max-h-[60vh] overflow-y-auto p-1 scrollbar-hide",children:Array.from({length:a.pageCount}).map((N,S)=>{const R=S+1,T=h.has(R);return e.jsxs("div",{onClick:()=>x(R),className:`relative group cursor-pointer aspect-[3/4] rounded-xl overflow-hidden border-2 transition-all ${T?"border-rose-500 shadow-md scale-[1.02]":"border-transparent hover:border-gray-200 dark:hover:border-zinc-800"}`,children:[e.jsx(xa,{pdfDoc:a.pdfDoc,pageNum:R}),e.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-opacity ${T?"bg-rose-500/10 opacity-100":"bg-black/20 opacity-0 group-hover:opacity-100"}`,children:e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shadow-lg transition-transform ${T?"bg-rose-500 text-white scale-100":"bg-white text-gray-400 scale-75"}`,children:T?e.jsx(us,{size:20,strokeWidth:3}):e.jsx(we,{size:20})})}),e.jsxs("div",{className:"absolute bottom-2 left-2 px-2 py-1 bg-black/50 backdrop-blur-md rounded text-[9px] font-black text-white",children:["PAGE ",R]})]},R)})})]})}),e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2rem] border border-gray-100 dark:border-white/5 shadow-sm sticky top-24",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-gray-400 mb-3",children:"Split Mode"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-gray-50 dark:bg-black p-1 rounded-2xl",children:[e.jsx("button",{onClick:()=>{L("single"),o()},className:`py-2 px-3 rounded-xl text-[9px] font-black uppercase transition-all ${z==="single"?"bg-white dark:bg-zinc-800 text-rose-500 shadow-sm":"text-gray-400"}`,children:"One Document"}),e.jsx("button",{onClick:()=>{L("individual"),o()},className:`py-2 px-3 rounded-xl text-[9px] font-black uppercase transition-all ${z==="individual"?"bg-white dark:bg-zinc-800 text-rose-500 shadow-sm":"text-gray-400"}`,children:"Separate Files"})]}),e.jsxs("p",{className:"text-[8px] text-gray-400 mt-2 px-1 leading-relaxed font-bold uppercase tracking-tight",children:[e.jsx("b",{children:"One Document:"})," Merges selected pages into one PDF.",e.jsx("br",{}),e.jsx("b",{children:"Separate Files:"})," Each page becomes its own PDF (ZIP)."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-gray-400 mb-3",children:"Output Filename"}),e.jsx("input",{type:"text",value:v,onChange:N=>C(N.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-gray-400 mb-3",children:"Range Selection"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:P,onChange:N=>E(N.target.value),placeholder:"e.g. 1, 3-5",className:"flex-1 bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white"}),e.jsx("button",{onClick:()=>b(P),className:"px-4 bg-rose-500 text-white rounded-xl font-black text-[10px] uppercase active:scale-95 transition-transform",children:"Apply"})]}),e.jsx("p",{className:"text-[8px] text-gray-400 mt-2 px-1",children:"Use commas for separate pages and dashes for ranges."})]})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex justify-between items-end mb-4 px-1",children:[e.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Selected"}),e.jsxs("span",{className:"text-xl font-black text-rose-500",children:[h.size," ",e.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Pages"})]})]}),t&&e.jsx(re,{message:"Split Successful!",downloadUrl:t,fileName:`${v||"split"}.${z==="single"?"pdf":"zip"}`,onStartOver:()=>{o(),i(null),d(!1)},showPreview:z==="single"})]}),e.jsx("button",{onClick:()=>{i(null),o()},className:"w-full py-2 text-[10px] font-black uppercase text-gray-300 hover:text-rose-500 transition-colors",children:"Close File"})]})})})]})]}):e.jsx("button",{onClick:()=>!m&&s.current?.click(),className:`w-full border-4 border-dashed border-gray-100 dark:border-zinc-900 rounded-[2.5rem] p-12 text-center hover:bg-rose-50 dark:hover:bg-rose-900/10 transition-all cursor-pointer group ${m?"opacity-50 cursor-wait":""}`,children:m?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(G,{size:48,className:"text-rose-500 animate-spin mb-4"}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Analyzing PDF..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:e.jsx(Qe,{size:32})}),e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Select PDF File"}),e.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Tap to start splitting"})]})}),e.jsx(X,{})]})}const pa=ps(or);/**
 * pdf-encrypt-lite - Ultra-lightweight PDF encryption library
 * Powers PDFSmaller.com's PDF encryption tool
 * 
 * @author PDFSmaller.com (https://pdfsmaller.com)
 * @license MIT
 * @see https://pdfsmaller.com/protect-pdf - Try it online!
 * 
 * This minimal cryptographic implementation was built to solve the "impossible" 
 * problem of real PDF encryption within Cloudflare Workers' 1MB limit.
 * Total size: ~7KB for complete PDF encryption!
 */function ma(s){const r=typeof s=="string"?new TextEncoder().encode(s):s,t=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],n=new Uint32Array([3614090360,3905402710,606105819,3250441966,4118548399,1200080426,2821735955,4249261313,1770035416,2336552879,4294925233,2304563134,1804603682,4254626195,2792965006,1236535329,4129170786,3225465664,643717713,3921069994,3593408605,38016083,3634488961,3889429448,568446438,3275163606,4107603335,1163531501,2850285829,4243563512,1735328473,2368359562,4294588738,2272392833,1839030562,4259657740,2763975236,1272893353,4139469664,3200236656,681279174,3936430074,3572445317,76029189,3654602809,3873151461,530742520,3299628645,4096336452,1126891415,2878612391,4237533241,1700485571,2399980690,4293915773,2240044497,1873313359,4264355552,2734768916,1309151649,4149444226,3174756917,718787259,3951481745]);let o=1732584193,a=4023233417,i=2562383102,l=271733878;const d=r.length,m=d*8,g=d+9+63&-64,h=new Uint8Array(g);h.set(r),h[d]=128;const w=new DataView(h.buffer);w.setUint32(g-8,m,!0),w.setUint32(g-4,0,!0);for(let P=0;P<g;P+=64){const E=new Uint32Array(h.buffer,P,16);let z=o,L=a,D=i,p=l;for(let u=0;u<64;u++){let k,y;u<16?(k=L&D|~L&p,y=u):u<32?(k=p&L|~p&D,y=(5*u+1)%16):u<48?(k=L^D^p,y=(3*u+5)%16):(k=D^(L|~p),y=7*u%16),k=k+z+n[u]+E[y]>>>0,z=p,p=D,D=L,L=L+(k<<t[u]|k>>>32-t[u])>>>0}o=o+z>>>0,a=a+L>>>0,i=i+D>>>0,l=l+p>>>0}const v=new Uint8Array(16),C=new DataView(v.buffer);return C.setUint32(0,o,!0),C.setUint32(4,a,!0),C.setUint32(8,i,!0),C.setUint32(12,l,!0),v}let ha=class{constructor(r){this.s=new Uint8Array(256),this.i=0,this.j=0;for(let n=0;n<256;n++)this.s[n]=n;let t=0;for(let n=0;n<256;n++)t=t+this.s[n]+r[n%r.length]&255,[this.s[n],this.s[t]]=[this.s[t],this.s[n]]}process(r){const t=new Uint8Array(r.length);for(let n=0;n<r.length;n++){this.i=this.i+1&255,this.j=this.j+this.s[this.i]&255,[this.s[this.i],this.s[this.j]]=[this.s[this.j],this.s[this.i]];const o=this.s[this.i]+this.s[this.j]&255;t[n]=r[n]^this.s[o]}return t}};function ga(s){const r=new Uint8Array(s.length/2);for(let t=0;t<r.length;t++)r[t]=parseInt(s.substr(t*2,2),16);return r}function ba(s){return Array.from(s).map(r=>r.toString(16).padStart(2,"0")).join("")}const fa=Object.freeze(Object.defineProperty({__proto__:null,RC4:ha,bytesToHex:ba,hexToBytes:ga,md5:ma},Symbol.toStringTag,{value:"Module"})),wa=ps(fa);/**
 * pdf-encrypt-lite - Ultra-lightweight PDF encryption library
 * Powers PDFSmaller.com's PDF encryption tool
 * 
 * @author PDFSmaller.com (https://pdfsmaller.com)
 * @license MIT
 * @see https://pdfsmaller.com/protect-pdf - Try it online!
 * 
 * This module implements PDF Standard Security Handler (Algorithm 2 & 3 from PDF spec)
 * Built to solve the "impossible" problem of real PDF encryption within edge constraints
 * 
 * Total size with crypto: ~7KB - when others are 2-20MB!
 * Battle-tested on thousands of PDFs at PDFSmaller.com
 */const{PDFDocument:ya,PDFName:ts,PDFHexString:Ee,PDFString:ka,PDFDict:Cs,PDFArray:ja,PDFRawStream:va,PDFNumber:He}=pa,{md5:Fe,RC4:st,hexToBytes:zs,bytesToHex:ve}=wa,qe=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function gt(s){const r=new TextEncoder().encode(s),t=new Uint8Array(32);return r.length>=32?t.set(r.slice(0,32)):(t.set(r),t.set(qe.slice(0,32-r.length),r.length)),t}function Na(s,r,t,n){const o=gt(s),a=new Uint8Array(o.length+r.length+4+n.length);let i=0;a.set(o,i),i+=o.length,a.set(r,i),i+=r.length,a[i++]=t&255,a[i++]=t>>8&255,a[i++]=t>>16&255,a[i++]=t>>24&255,a.set(n,i);let l=Fe(a);for(let d=0;d<50;d++)l=Fe(l.slice(0,16));return l.slice(0,16)}function Ca(s,r){const t=gt(s||r);let n=Fe(t);for(let i=0;i<50;i++)n=Fe(n);const o=gt(r);let a=new Uint8Array(o);for(let i=0;i<20;i++){const l=new Uint8Array(n.length);for(let m=0;m<n.length;m++)l[m]=n[m]^i;a=new st(l.slice(0,16)).process(a)}return a}function za(s,r){const t=new Uint8Array(qe.length+r.length);t.set(qe),t.set(r,qe.length);const n=Fe(t);let a=new st(s).process(n);for(let l=1;l<=19;l++){const d=new Uint8Array(s.length);for(let g=0;g<s.length;g++)d[g]=s[g]^l;a=new st(d).process(a)}const i=new Uint8Array(32);return i.set(a),i.set(new Uint8Array(16),16),i}function bt(s,r,t,n){const o=new Uint8Array(n.length+5);o.set(n),o[n.length]=r&255,o[n.length+1]=r>>8&255,o[n.length+2]=r>>16&255,o[n.length+3]=t&255,o[n.length+4]=t>>8&255;const a=Fe(o);return new st(a.slice(0,Math.min(n.length+5,16))).process(s)}function ft(s,r,t,n){if(s){if(s instanceof ka){const o=s.asBytes(),a=bt(o,r,t,n);s.value=ve(a)}else if(s instanceof Ee){const o=zs(s.asString()),a=bt(o,r,t,n);s.value=ve(a)}else if(s instanceof Cs){const o=s.entries();for(const[a,i]of o){const l=a.asString();l!=="/Length"&&l!=="/Filter"&&l!=="/DecodeParms"&&ft(i,r,t,n)}}else if(s instanceof ja){const o=s.asArray();for(const a of o)ft(a,r,t,n)}}}async function Pa(s,r,t=null){try{const n=await ya.load(s,{ignoreEncryption:!0,updateMetadata:!1}),o=n.context;let a;const i=o.trailerInfo,l=i.ID;if(l&&Array.isArray(l)&&l.length>0){const z=l[0].toString().replace(/^<|>$/g,"");a=zs(z)}else{const E=new Uint8Array(16);if(typeof crypto<"u"&&crypto.getRandomValues)crypto.getRandomValues(E);else for(let D=0;D<16;D++)E[D]=Math.floor(Math.random()*256);a=E;const z=Ee.of(ve(a)),L=Ee.of(ve(a));i.ID=[z,L]}const d=4294967292,m=Ca(t,r),g=Na(r,m,d,a),h=za(g,a),w=o.enumerateIndirectObjects();for(const[E,z]of w){const L=E.objectNumber,D=E.generationNumber||0;if(z instanceof Cs){const p=z.get(ts.of("Filter"));if(p&&p.asString()==="/Standard")continue}if(z instanceof va){const p=z.contents,u=bt(p,L,D,g);z.contents=u}ft(z,L,D,g)}const v=o.obj({Filter:ts.of("Standard"),V:He.of(2),R:He.of(3),Length:He.of(128),P:He.of(d),O:Ee.of(ve(m)),U:Ee.of(ve(h))}),C=o.register(v);return i.Encrypt=C,await n.save({useObjectStreams:!1})}catch(n){throw console.error("PDF encryption error:",n),new Error(`Failed to encrypt PDF: ${n.message}`)}}var Sa=Pa;function Fa(){const s=c.useRef(null),{consumePipelineFile:r}=Q(),{objectUrl:t,createUrl:n,clearUrls:o}=Be(),[a,i]=c.useState(null),[l,d]=c.useState(!1),[m,g]=c.useState(""),[h,w]=c.useState(""),[v,C]=c.useState(""),[P,E]=c.useState("paperknife-protected"),z=W.isNativePlatform();c.useEffect(()=>{const y=r();if(y){const x=new File([y.buffer],y.name,{type:"application/pdf"});D(x)}},[]);const L=async()=>{if(!a||!v)return;d(!0);const y=await se(a.file,v);y.success?(i({...a,isLocked:!1,thumbnail:y.thumbnail,pageCount:y.pageCount,sourcePassword:v}),E(`${a.file.name.replace(".pdf","")}-protected`)):U.error("Incorrect password"),d(!1)},D=async y=>{if(y.type!=="application/pdf")return;const x=await te(y);i({file:y,thumbnail:x.thumbnail,pageCount:x.pageCount,isLocked:x.isLocked}),E(`${y.name.replace(".pdf","")}-protected`),o()},p=y=>{y.target.files?.[0]&&D(y.target.files[0]),y.target&&(y.target.value="")},u=async()=>{if(!(!a||!m||m!==h)){d(!0),await new Promise(y=>setTimeout(y,150));try{const y=await a.file.arrayBuffer(),x=await ee.load(y,{password:a.sourcePassword||void 0,ignoreEncryption:!0}),b=await ee.create();(await b.copyPages(x,x.getPageIndices())).forEach(T=>b.addPage(T));const f=await b.save(),N=await Sa(f,m),S=new Blob([N],{type:"application/pdf"}),R=n(S);Y({name:`${P||"protected"}.pdf`,tool:"Protect",size:S.size,resultUrl:R})}catch(y){console.error("Encryption error:",y),U.error(`Encryption failed: ${y.message}`)}finally{d(!1)}}},k=()=>e.jsx("button",{onClick:u,disabled:l||!m||m!==h,className:`w-full bg-rose-500 hover:bg-rose-600 text-white font-black uppercase tracking-widest transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-3 shadow-xl shadow-rose-500/20 ${z?"py-4 rounded-2xl text-sm":"p-6 rounded-3xl text-xl"}`,children:l?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"animate-spin"})," Securing..."]}):e.jsxs(e.Fragment,{children:["Encrypt & Save ",e.jsx(me,{size:18})]})});return e.jsxs(q,{title:"Protect PDF",description:"Add strong encryption to your documents. Processed locally.",actions:a&&!a.isLocked&&!t&&e.jsx(k,{}),children:[e.jsx("input",{type:"file",accept:".pdf",className:"hidden",ref:s,onChange:p}),a?a.isLocked?e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2.5rem] border border-gray-100 dark:border-white/5 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-rose-100 dark:bg-rose-900/30 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(V,{size:32})}),e.jsx("h3",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Protected File"}),e.jsx("input",{type:"password",value:v,onChange:y=>C(y.target.value),placeholder:"Current Password",className:"w-full bg-gray-50 dark:bg-black rounded-2xl px-6 py-4 border border-transparent focus:border-rose-500 outline-none font-bold text-center mb-4"}),e.jsx("button",{onClick:L,disabled:!v||l,className:"w-full bg-rose-500 text-white p-4 rounded-2xl font-black uppercase tracking-widest text-xs",children:l?"...":"Unlock"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-3xl border border-gray-100 dark:border-white/5 flex items-center gap-6",children:[e.jsx("div",{className:"w-16 h-20 bg-gray-50 dark:bg-black rounded-xl overflow-hidden shrink-0 border border-gray-100 dark:border-zinc-800 flex items-center justify-center text-rose-500",children:a.thumbnail?e.jsx("img",{src:a.thumbnail,className:"w-full h-full object-cover"}):e.jsx(V,{size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-sm truncate dark:text-white",children:a.file.name}),e.jsxs("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:[a.pageCount," Pages • ",(a.file.size/(1024*1024)).toFixed(1)," MB"]})]}),e.jsx("button",{onClick:()=>i(null),className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:e.jsx(Z,{size:20})})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-3xl border border-gray-100 dark:border-white/5 space-y-6 shadow-sm",children:[t?e.jsx(re,{message:"Encrypted Successfully",downloadUrl:t,fileName:`${P||"protected"}.pdf`,onStartOver:()=>{o(),g(""),w(""),i(null),d(!1)}}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-2 tracking-widest px-1",children:"New Password"}),e.jsx("input",{type:"password",value:m,onChange:y=>g(y.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white",placeholder:"••••••••"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-2 tracking-widest px-1",children:"Confirm Password"}),e.jsx("input",{type:"password",value:h,onChange:y=>w(y.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white",placeholder:"••••••••"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-2 tracking-widest px-1",children:"Output Filename"}),e.jsx("input",{type:"text",value:P,onChange:y=>E(y.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white"})]})]}),e.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/10 rounded-2xl border border-amber-100 dark:border-white/5 flex items-start gap-3",children:[e.jsx(V,{size:14,className:"text-amber-500 shrink-0 mt-0.5"}),e.jsx("p",{className:"text-[10px] text-amber-700 dark:text-amber-400 leading-relaxed font-medium",children:"PaperKnife cannot recover forgotten passwords. Save it securely."})]}),e.jsx("button",{onClick:()=>{i(null),d(!1)},className:"w-full py-2 text-[10px] font-black uppercase text-gray-300 hover:text-rose-500 transition-colors",children:"Close File"})]})]}):e.jsxs("button",{onClick:()=>!l&&s.current?.click(),className:"w-full border-4 border-dashed border-gray-100 dark:border-zinc-900 rounded-[2.5rem] p-12 text-center hover:bg-rose-50 dark:hover:bg-rose-900/10 transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:e.jsx(ls,{size:32})}),e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Select PDF"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Tap to browse files"})]}),e.jsx(X,{})]})}const Da=({originalBuffer:s,compressedBuffer:r})=>{const[t,n]=c.useState(""),[o,a]=c.useState(""),[i,l]=c.useState(50),d=c.useRef(null);c.useEffect(()=>{(async()=>{try{const h=await ae(new File([s],"orig.pdf",{type:"application/pdf"})),w=await ae(new File([r],"comp.pdf",{type:"application/pdf"})),v=await pe(h,1,2),C=await pe(w,1,2);n(v),a(C)}catch(h){console.error(h)}})()},[s,r]);const m=g=>{if(!d.current)return;const h=d.current.getBoundingClientRect(),v=(("touches"in g?g.touches[0].clientX:g.clientX)-h.left)/h.width*100;l(Math.max(0,Math.min(100,v)))};return!t||!o?e.jsxs("div",{className:"h-64 flex flex-col items-center justify-center bg-gray-50 dark:bg-zinc-900 rounded-[2rem] animate-pulse",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-rose-500 border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400",children:"Comparing Quality..."})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-between items-center px-2",children:e.jsxs("h4",{className:"text-[10px] font-black uppercase text-gray-400 flex items-center gap-2",children:[e.jsx(Ms,{size:12})," Quality Inspection"]})}),e.jsxs("div",{ref:d,className:"relative h-80 md:h-[400px] rounded-[2rem] overflow-hidden cursor-ew-resize select-none border border-gray-100 dark:border-white/5",onMouseMove:m,onTouchMove:m,children:[e.jsx("img",{src:o,className:"absolute inset-0 w-full h-full object-contain bg-white",alt:"Compressed"}),e.jsx("div",{className:"absolute inset-0 w-full h-full overflow-hidden",style:{clipPath:`inset(0 ${100-i}% 0 0)`},children:e.jsx("img",{src:t,className:"absolute inset-0 w-full h-full object-contain bg-white",alt:"Original"})}),e.jsx("div",{className:"absolute top-0 bottom-0 w-1 bg-white shadow-xl z-10",style:{left:`${i}%`},children:e.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 -translate-x-1/2 w-8 h-8 bg-white dark:bg-zinc-900 rounded-full shadow-2xl border border-gray-100 dark:border-white/5 flex items-center justify-center text-rose-500",children:[e.jsx(Ws,{size:14}),e.jsx(oe,{size:14})]})})]})]})};function Ea(){const s=c.useRef(null),{consumePipelineFile:r,setPipelineFile:t,lastPipelinedFile:n}=Q(),{objectUrl:o,createUrl:a,clearUrls:i}=Be(),[l,d]=c.useState([]),[m,g]=c.useState(!1),[h,w]=c.useState(0),[v,C]=c.useState("medium"),[P,E]=c.useState(!1),z=W.isNativePlatform();c.useEffect(()=>{const x=r();if(x){if(x.type&&x.type!=="application/pdf"){U.error("The file from the previous tool is not a PDF and cannot be used here.");return}const b=new File([x.buffer],x.name,{type:"application/pdf"});L([b])}},[]);const L=async x=>{const b=Array.from(x).filter(F=>F.type==="application/pdf").map(F=>({id:Math.random().toString(36).substr(2,9),file:F,pageCount:0,isLocked:!1,status:"pending"}));d(F=>[...F,...b]),E(!1),i(),s.current&&(s.current.value="");for(const F of b)te(F.file).then(f=>{d(N=>N.map(S=>S.id===F.id?{...S,pageCount:f.pageCount,isLocked:f.isLocked,thumbnail:f.thumbnail}:S))})},D=async(x,b)=>{const F=l.find(N=>N.id===x);if(!F)return;const f=await se(F.file,b);f.success?d(N=>N.map(S=>S.id===x?{...S,isLocked:!1,pageCount:f.pageCount,pdfDoc:f.pdfDoc,thumbnail:f.thumbnail,password:b}:S)):U.error("Incorrect password")},p=async(x,b,F)=>{let f=x.pdfDoc||await ae(x.file);const N={high:1,medium:1.5,low:2},S={high:.3,medium:.5,low:.7},R=N[b],T=S[b],$=[];for(let B=1;B<=x.pageCount;B++){const O=await f.getPage(B),j=O.getViewport({scale:R}),A=document.createElement("canvas"),I=A.getContext("2d");if(!I)continue;A.height=j.height,A.width=j.width,await O.render({canvasContext:I,viewport:j}).promise;const H=A.toDataURL("image/jpeg",T).split(",")[1],_=window.atob(H),J=new Uint8Array(_.length);for(let ne=0;ne<_.length;ne++)J[ne]=_.charCodeAt(ne);$.push({imageBytes:J,width:j.width,height:j.height}),F&&F(Math.round(B/x.pageCount*50)),A.width=0,A.height=0}return new Promise((B,O)=>{try{const j=new Worker(new URL("/PaperKnife/assets/pdfWorker-DTSgDFeA.js",import.meta.url),{type:"module"});j.postMessage({type:"COMPRESS_PDF_ASSEMBLY",payload:{pages:$,quality:b}},$.map(A=>A.imageBytes.buffer)),j.onmessage=A=>{if(A.data.type==="PROGRESS")F&&F(50+Math.round(A.data.payload*.5));else if(A.data.type==="SUCCESS"){const I=new Blob([A.data.payload],{type:"application/pdf"});B({url:a(I),size:I.size,buffer:A.data.payload}),j.terminate()}else A.data.type==="ERROR"&&(O(new Error(A.data.payload)),j.terminate())},j.onerror=()=>{O(new Error("Worker failed to start or execution error.")),j.terminate()}}catch(j){O(new Error(`Failed to start worker: ${j.message}`))}})},u=async()=>{const x=l.filter(f=>!f.isLocked&&f.status==="pending");if(x.length===0)return;g(!0),w(0);const b=[],F=x.length===1;for(let f=0;f<x.length;f++){const N=x[f];d(S=>S.map(R=>R.id===N.id?{...R,status:"processing"}:R));try{const{url:S,size:R,buffer:T}=await p(N,v,F?w:void 0);if(b.push({name:N.file.name.replace(".pdf","-compressed.pdf"),buffer:T}),d($=>$.map(B=>B.id===N.id?{...B,status:"completed",resultUrl:S,resultSize:R}:B)),Y({name:N.file.name.replace(".pdf","-compressed.pdf"),tool:"Compress",size:R,resultUrl:S}),x.length===1){const $=await x[0].file.arrayBuffer();t({buffer:T,name:N.file.name.replace(".pdf","-compressed.pdf"),type:"application/pdf",originalBuffer:new Uint8Array($)})}}catch{d(S=>S.map(R=>R.id===N.id?{...R,status:"error"}:R))}F||w(Math.round((f+1)/x.length*100))}if(b.length>1){const f=new Ue;b.forEach(S=>f.file(S.name,S.buffer));const N=await f.generateAsync({type:"blob"});a(N)}g(!1),E(!0)},k=async()=>{if(o&&l.length>1){const x=new Ue;for(const F of l)if(F.resultUrl){const f=await fetch(F.resultUrl);x.file(F.file.name.replace(".pdf","-compressed.pdf"),await f.arrayBuffer())}const b=await x.generateAsync({type:"blob"});await Te(new Uint8Array(await b.arrayBuffer()),"paperknife-compressed.zip","application/zip")}},y=()=>e.jsx("button",{onClick:u,disabled:m||l.filter(x=>!x.isLocked).length===0,className:"w-full bg-rose-500 hover:bg-rose-600 text-white font-black uppercase tracking-widest transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-3 shadow-lg shadow-rose-500/20 py-4 rounded-2xl text-sm md:p-6 md:rounded-3xl md:text-xl",children:m?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"animate-spin"})," ",h,"%"]}):e.jsxs(e.Fragment,{children:["Compress ",l.length>1?`${l.length} Files`:"PDF"," ",e.jsx(me,{size:18})]})});return e.jsxs(q,{title:"Compress PDF",description:"Reduce file size while maintaining quality. Everything stays on your device.",actions:l.length>0&&!P&&e.jsx(y,{}),children:[e.jsx("input",{type:"file",multiple:!0,accept:".pdf",className:"hidden",ref:s,onChange:x=>x.target.files&&L(x.target.files)}),l.length===0?e.jsxs("button",{onClick:()=>!m&&s.current?.click(),className:"w-full border-4 border-dashed border-gray-100 dark:border-zinc-900 rounded-[2.5rem] p-12 text-center hover:bg-rose-50 dark:hover:bg-rose-900/10 transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform shadow-inner",children:e.jsx(ke,{size:32})}),e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Select PDFs"}),e.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Tap to start batch compression"})]}):P?e.jsxs("div",{className:"space-y-6 animate-in zoom-in duration-300",children:[o&&l.length>1&&e.jsxs("button",{onClick:k,className:"block w-full bg-zinc-900 dark:bg-white text-white dark:text-black p-10 rounded-[2.5rem] text-center shadow-2xl transition-all group active:scale-[0.98]",children:[e.jsx("div",{className:"w-16 h-16 bg-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform shadow-lg",children:e.jsx(Ce,{className:"text-white",size:32})}),e.jsx("h3",{className:"text-2xl font-black tracking-tight mb-1",children:z?"Save ZIP Archive":"Download ZIP Archive"}),e.jsxs("p",{className:"text-xs font-bold opacity-60 uppercase tracking-widest",children:[l.length," Optimized PDFs"]})]}),o&&l.length===1&&e.jsxs("div",{className:"space-y-8",children:[n?.originalBuffer&&n?.buffer&&e.jsx("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-[2.5rem] border border-gray-100 dark:border-white/5 shadow-sm",children:e.jsx(Da,{originalBuffer:n.originalBuffer,compressedBuffer:n.buffer})}),e.jsx(re,{message:`Reduced by ${((1-(l[0].resultSize||0)/l[0].file.size)*100).toFixed(0)}%`,downloadUrl:o,fileName:l[0].file.name.replace(".pdf","-compressed.pdf"),onStartOver:()=>{d([]),E(!1),i(),g(!1)}})]})]}):e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.map(x=>e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-[1.5rem] border border-gray-100 dark:border-white/5 flex items-center gap-4 relative group shadow-sm",children:[e.jsx("div",{className:"w-12 h-16 bg-gray-50 dark:bg-black rounded-lg overflow-hidden shrink-0 border border-gray-100 dark:border-zinc-800",children:x.thumbnail?e.jsx("img",{src:x.thumbnail,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Bs,{className:"text-gray-300",size:16})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-black truncate dark:text-white",children:x.file.name}),x.isLocked?e.jsx("div",{className:"flex gap-1 mt-1",children:e.jsx("input",{type:"password",placeholder:"Locked...",className:"flex-1 bg-gray-50 dark:bg-black text-[10px] p-1.5 rounded-lg outline-none w-full border border-gray-100 dark:border-zinc-800 focus:border-rose-500",onKeyDown:b=>{b.key==="Enter"&&D(x.id,b.currentTarget.value)}})}):e.jsxs("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-tighter",children:[(x.file.size/(1024*1024)).toFixed(2)," MB • ",x.pageCount," Pages"]})]}),e.jsx("button",{onClick:()=>d(b=>b.filter(F=>F.id!==x.id)),className:"p-2 text-gray-300 hover:text-rose-500 transition-colors",children:e.jsx(Z,{size:16})})]},x.id)),e.jsxs("button",{onClick:()=>s.current?.click(),className:"border-2 border-dashed border-gray-100 dark:border-zinc-800 rounded-[1.5rem] p-4 text-gray-400 flex flex-col items-center justify-center gap-1 hover:border-rose-500 hover:text-rose-500 transition-all",children:[e.jsx(we,{size:20}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Add More"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2rem] border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase text-gray-400 mb-6 tracking-widest px-1",children:"Compression Strategy"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"high",label:"High Quality",desc:"100% Clarity"},{id:"medium",label:"Standard",desc:"Recommended"},{id:"low",label:"Smallest",desc:"Max Save"}].map(x=>e.jsxs("button",{onClick:()=>C(x.id),className:`p-4 rounded-2xl border-2 transition-all flex flex-col items-center gap-1 ${v===x.id?"border-rose-500 bg-rose-50/50 dark:bg-rose-900/10":"border-gray-100 dark:border-white/5"}`,children:[e.jsx("span",{className:`font-black uppercase text-[9px] text-center leading-tight ${v===x.id?"text-rose-500":"text-gray-400"}`,children:x.label}),e.jsx("span",{className:"text-[8px] text-gray-400 font-bold uppercase",children:x.desc})]},x.id))}),e.jsxs("div",{className:"mt-6 p-6 bg-gray-50 dark:bg-black rounded-2xl border border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-rose-500/10 text-rose-500 flex items-center justify-center",children:e.jsx(ke,{size:16})}),e.jsx("h5",{className:"text-xs font-black uppercase tracking-widest dark:text-white",children:"Strategy Details"})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-zinc-400 leading-relaxed",children:[v==="high"&&e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"High Quality:"})," Retains maximum text clarity and image resolution. Best for official documents and high-fidelity reports. Expected reduction: ",e.jsx("span",{className:"text-rose-500 font-bold",children:"10-30%"}),"."]}),v==="medium"&&e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Standard:"})," Balanced optimization for everyday sharing and email attachments. The perfect middle ground for most users. Expected reduction: ",e.jsx("span",{className:"text-rose-500 font-bold",children:"40-60%"}),"."]}),v==="low"&&e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Smallest Size:"})," Aggressive downsampling for the lowest possible file size. Ideal for quick mobile viewing or meeting strict upload limits. Expected reduction: ",e.jsx("span",{className:"text-rose-500 font-bold",children:"70-90%"}),"."]})]})]}),m&&e.jsxs("div",{className:"mt-8 space-y-3",children:[e.jsx("div",{className:"w-full bg-gray-100 dark:bg-zinc-800 h-2 rounded-full overflow-hidden shadow-inner",children:e.jsx("div",{className:"bg-rose-500 h-full transition-all",style:{width:`${h}%`}})}),e.jsx("p",{className:"text-[10px] text-center font-black uppercase text-gray-400 tracking-widest animate-pulse",children:"Rasterizing Document..."})]})]})]}),e.jsx(X,{})]})}function La(){const s=c.useRef(null),{consumePipelineFile:r}=Q(),{objectUrl:t,createUrl:n,clearUrls:o}=Be(),[a,i]=c.useState(null),[l,d]=c.useState(!1),[m,g]=c.useState(""),[h,w]=c.useState("paperknife-unlocked");c.useEffect(()=>{const z=r();if(z){const L=new File([z.buffer],z.name,{type:"application/pdf"});v(L)}},[]);const v=async z=>{if(z.type!=="application/pdf")return;const L=await te(z);i({file:z,thumbnail:L.thumbnail,pageCount:L.pageCount,isLocked:L.isLocked}),w(`${z.name.replace(".pdf","")}-unlocked`),o(),g("")},C=z=>{z.target.files?.[0]&&v(z.target.files[0]),z.target&&(z.target.value="")},P=async()=>{if(!(!a||a.isLocked&&!m)){d(!0),await new Promise(z=>setTimeout(z,100));try{if(!(await se(a.file,m)).success)throw new Error("Incorrect password.");const L=await a.file.arrayBuffer(),p=await(await ee.load(L,{password:m||void 0,ignoreEncryption:!0})).save(),u=new Blob([p],{type:"application/pdf"}),k=n(u);Y({name:`${h||"unlocked"}.pdf`,tool:"Unlock",size:u.size,resultUrl:k})}catch(z){U.error(z.message||"Error.")}finally{d(!1)}}},E=()=>e.jsxs("button",{onClick:P,disabled:l||a?.isLocked&&!m,className:"w-full bg-rose-500 hover:bg-rose-600 text-white font-black uppercase tracking-widest transition-all active:scale-95 disabled:opacity-50 py-4 rounded-2xl text-sm md:p-6 md:rounded-3xl md:text-xl flex items-center justify-center gap-3 shadow-lg shadow-rose-500/20",children:[l?e.jsx(G,{className:"animate-spin"}):e.jsx(Xe,{size:20})," Unlock PDF"]});return e.jsxs(q,{title:"Unlock PDF",description:"Remove passwords and restrictions permanently. Processed locally.",actions:a&&!t&&e.jsx(E,{}),children:[e.jsx("input",{type:"file",accept:".pdf",className:"hidden",ref:s,onChange:C}),a?e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-3xl border border-gray-100 dark:border-white/5 flex items-center gap-6 shadow-sm",children:[e.jsx("div",{className:"w-16 h-20 bg-gray-50 dark:bg-black rounded-xl overflow-hidden shrink-0 border border-gray-100 dark:border-zinc-800 flex items-center justify-center text-rose-500 shadow-inner",children:a.thumbnail?e.jsx("img",{src:a.thumbnail,className:"w-full h-full object-cover"}):e.jsx(V,{size:20})}),e.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[e.jsx("h3",{className:"font-bold text-sm truncate dark:text-white",children:a.file.name}),e.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black",children:a.isLocked?"Encrypted Document":"Open Document"})]}),e.jsx("button",{onClick:()=>i(null),className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:e.jsx(Z,{size:20})})]}),e.jsx("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2rem] border border-gray-100 dark:border-white/5 space-y-6 shadow-sm",children:t?e.jsx(re,{message:"Encryption Removed!",downloadUrl:t,fileName:`${h||"unlocked"}.pdf`,onStartOver:()=>{o(),g(""),i(null),d(!1)}}):e.jsxs("div",{className:"space-y-6",children:[a.isLocked?e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-3",children:"Master Password"}),e.jsx("input",{type:"password",value:m,onChange:z=>g(z.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-4 border border-transparent focus:border-rose-500 outline-none font-bold text-lg text-center dark:text-white",placeholder:"••••••••",autoFocus:!0})]}):e.jsx("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/10 rounded-xl border border-emerald-100 dark:border-emerald-900/20 text-center",children:e.jsx("p",{className:"text-emerald-600 dark:text-emerald-400 font-bold text-xs uppercase tracking-widest",children:"File is already unlocked!"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-3",children:"Output Filename"}),e.jsx("input",{type:"text",value:h,onChange:z=>w(z.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white"})]})]})})]}):e.jsxs("button",{onClick:()=>!l&&s.current?.click(),className:"w-full border-4 border-dashed border-gray-100 dark:border-zinc-900 rounded-[2.5rem] p-12 text-center hover:bg-rose-50 dark:hover:bg-rose-900/10 transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:e.jsx(Xe,{size:32})}),e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Select Locked PDF"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Tap to browse files"})]}),e.jsx(X,{})]})}function Aa(){const s=c.useRef(null),{consumePipelineFile:r,setPipelineFile:t}=Q(),[n,o]=c.useState(null),[a,i]=c.useState(!1),[l,d]=c.useState(0),[m,g]=c.useState(null),[h,w]=c.useState("jpg"),[v,C]=c.useState("paperknife-images"),[P,E]=c.useState(""),z=W.isNativePlatform();c.useEffect(()=>{const k=r();if(k){if(k.type&&k.type!=="application/pdf"){U.error("The file from the previous tool is not a PDF and cannot be used here.");return}const y=new File([k.buffer],k.name,{type:"application/pdf"});D(y)}},[]);const L=async()=>{if(!n||!P)return;i(!0);const k=await se(n.file,P);k.success?(o({...n,isLocked:!1,pageCount:k.pageCount,pdfDoc:k.pdfDoc,thumbnail:k.thumbnail,password:P}),C(`${n.file.name.replace(".pdf","")}-images`)):U.error("Incorrect password"),i(!1)},D=async k=>{if(k.type==="application/pdf"){i(!0);try{const y=await te(k);if(y.isLocked)o({file:k,pageCount:0,isLocked:!0});else{const x=await ae(k);o({file:k,pageCount:y.pageCount,isLocked:!1,pdfDoc:x,thumbnail:y.thumbnail}),C(`${k.name.replace(".pdf","")}-images`)}}catch(y){console.error(y)}finally{i(!1),g(null)}s.current&&(s.current.value="")}},p=async()=>{if(!(!n||!n.pdfDoc)){i(!0),d(0),await new Promise(k=>setTimeout(k,100));try{const k=new Ue,y=2;for(let f=1;f<=n.pageCount;f++){const N=await n.pdfDoc.getPage(f),S=N.getViewport({scale:y}),R=document.createElement("canvas"),T=R.getContext("2d");if(!T)continue;R.height=S.height,R.width=S.width,await N.render({canvasContext:T,viewport:S}).promise;const B=R.toDataURL(h==="png"?"image/png":"image/jpeg",.8).split(",")[1],O=f.toString().padStart(Math.max(2,n.pageCount.toString().length),"0");k.file(`${v}-${O}.${h}`,B,{base64:!0}),d(Math.round(f/n.pageCount*100))}const x=await k.generateAsync({type:"blob"}),b=URL.createObjectURL(x);g(b);const F=new Uint8Array(await x.arrayBuffer());t({buffer:F,name:`${v}.zip`,type:"application/zip"}),Y({name:`${v}.zip`,tool:"PDF to Image",size:x.size,resultUrl:b})}catch(k){U.error(`Error: ${k.message}`)}finally{i(!1)}}},u=()=>e.jsx("button",{onClick:p,disabled:a,className:`w-full bg-rose-500 hover:bg-rose-600 text-white font-black uppercase tracking-widest transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-3 shadow-xl shadow-rose-500/20 ${z?"py-4 rounded-2xl text-sm":"p-6 rounded-3xl text-xl"}`,children:a?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"animate-spin"})," ",l,"%"]}):e.jsxs(e.Fragment,{children:["Convert to Images ",e.jsx(me,{size:18})]})});return e.jsxs(q,{title:"PDF to Image",description:"Convert document pages into high-quality images.",actions:n&&!n.isLocked&&!m&&e.jsx(u,{}),children:[e.jsx("input",{type:"file",accept:".pdf",className:"hidden",ref:s,onChange:k=>k.target.files?.[0]&&D(k.target.files[0])}),n?n.isLocked?e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2.5rem] border border-gray-100 dark:border-white/5 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-rose-100 dark:bg-rose-900/30 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(V,{size:32})}),e.jsx("h3",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Protected File"}),e.jsx("input",{type:"password",value:P,onChange:k=>E(k.target.value),placeholder:"Password",className:"w-full bg-gray-50 dark:bg-black rounded-2xl px-6 py-4 border border-transparent focus:border-rose-500 outline-none font-bold text-center mb-4"}),e.jsx("button",{onClick:L,disabled:!P||a,className:"w-full bg-rose-500 text-white p-4 rounded-2xl font-black uppercase text-xs",children:"Unlock"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-3xl border border-gray-100 dark:border-white/5 flex items-center gap-6",children:[e.jsx("div",{className:"w-16 h-20 bg-gray-50 dark:bg-black rounded-xl overflow-hidden shrink-0 border border-gray-100 dark:border-zinc-800 flex items-center justify-center text-rose-500",children:n.thumbnail?e.jsx("img",{src:n.thumbnail,className:"w-full h-full object-cover"}):e.jsx(Pe,{size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-sm truncate dark:text-white",children:n.file.name}),e.jsxs("p",{className:"text-[10px] text-gray-400 uppercase font-black",children:[n.pageCount," Pages • ",(n.file.size/(1024*1024)).toFixed(1)," MB"]})]}),e.jsx("button",{onClick:()=>o(null),className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:e.jsx(Z,{size:20})})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2rem] border border-gray-100 dark:border-white/5 space-y-8 shadow-sm",children:[m?e.jsx(re,{message:"Images Ready!",downloadUrl:m,fileName:`${v}.zip`,onStartOver:()=>{g(null),d(0),o(null),i(!1)},showPreview:!1}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-4 tracking-widest px-1",children:"Image Format"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["jpg","png"].map(k=>e.jsx("button",{onClick:()=>w(k),className:`p-4 rounded-2xl border-2 transition-all flex flex-col items-center ${h===k?"border-rose-500 bg-rose-50/50 dark:bg-rose-900/10":"border-gray-100 dark:border-white/5"}`,children:e.jsx("span",{className:`font-black uppercase text-[10px] ${h===k?"text-rose-500":"text-gray-400"}`,children:k})},k))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-3 tracking-widest px-1",children:"Output ZIP Name"}),e.jsx("input",{type:"text",value:v,onChange:k=>C(k.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white"})]})]}),e.jsx("button",{onClick:()=>{o(null),i(!1)},className:"w-full py-2 text-[10px] font-black uppercase text-gray-300 hover:text-rose-500 transition-colors",children:"Close File"})]})]}):e.jsxs("button",{onClick:()=>!a&&s.current?.click(),className:"w-full border-4 border-dashed border-gray-100 dark:border-zinc-900 rounded-[2.5rem] p-12 text-center hover:bg-rose-50 dark:hover:bg-rose-900/10 transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:e.jsx(Pe,{size:32})}),e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Select PDF"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Tap to start converting"})]}),e.jsx(X,{})]})}const Ra=({pdfDoc:s,pageNum:r,rotation:t})=>{const[n,o]=c.useState(null),a=c.useRef(null);return c.useEffect(()=>{if(!s||n)return;const i=new IntersectionObserver(l=>{l[0].isIntersecting&&(pe(s,r,1).then(o),i.disconnect())},{rootMargin:"200px"});return a.current&&i.observe(a.current),()=>i.disconnect()},[s,r,n]),n?e.jsx("img",{src:n,className:"w-full h-full object-contain transition-transform duration-300 bg-white",style:{transform:`rotate(${t}deg)`},alt:`P${r}`}):e.jsx("div",{ref:a,className:"w-full h-full bg-gray-100 dark:bg-zinc-800 flex items-center justify-center",children:e.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-transparent rounded-full animate-spin"})})};function Ua(){const s=c.useRef(null),{consumePipelineFile:r}=Q(),[t,n]=c.useState(null),[o,a]=c.useState({}),[i,l]=c.useState(!1),[d,m]=c.useState(null),[g,h]=c.useState("paperknife-rotated"),[w,v]=c.useState("");c.useEffect(()=>{const p=r();if(p){const u=new File([p.buffer],p.name,{type:"application/pdf"});P(u)}},[]);const C=async()=>{if(!t||!w)return;l(!0);const p=await se(t.file,w);p.success?(n({...t,isLocked:!1,pageCount:p.pageCount,pdfDoc:p.pdfDoc,password:w,thumbnail:p.thumbnail}),h(`${t.file.name.replace(".pdf","")}-rotated`)):U.error("Incorrect password"),l(!1)},P=async p=>{if(p.type==="application/pdf"){l(!0);try{const u=await te(p);if(u.isLocked)n({file:p,pageCount:0,isLocked:!0});else{const k=await ae(p);n({file:p,pageCount:u.pageCount,isLocked:!1,pdfDoc:k,thumbnail:u.thumbnail}),h(`${p.name.replace(".pdf","")}-rotated`),a({})}}catch(u){console.error(u)}finally{l(!1),m(null)}}},E=p=>{a(u=>({...u,[p]:((u[p]||0)+90)%360})),m(null)},z=()=>{const p={...o};for(let u=1;u<=(t?.pageCount||0);u++)p[u]=((p[u]||0)+90)%360;a(p),m(null)},L=async()=>{if(t){l(!0),await new Promise(p=>setTimeout(p,100));try{const p=await t.file.arrayBuffer(),u=await ee.load(p,{password:t.password||void 0,ignoreEncryption:!0});u.getPages().forEach((F,f)=>{const N=f+1,S=o[N]||0;if(S!==0){const R=F.getRotation().angle;F.setRotation(gs((R+S)%360))}});const y=await u.save(),x=new Blob([y],{type:"application/pdf"}),b=URL.createObjectURL(x);m(b),Y({name:`${g}.pdf`,tool:"Rotate",size:x.size,resultUrl:b})}catch(p){U.error(`Error: ${p.message}`)}finally{l(!1)}}},D=()=>e.jsxs("button",{onClick:L,disabled:i,className:"w-full bg-rose-500 hover:bg-rose-600 text-white font-black uppercase tracking-widest transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-3 shadow-lg shadow-rose-500/20 py-4 rounded-2xl text-sm md:p-6 md:rounded-3xl md:text-xl",children:[i?e.jsx(G,{className:"animate-spin"}):e.jsx(he,{size:20})," Save Rotated PDF"]});return e.jsxs(q,{title:"Rotate PDF",description:"Tap individual pages to rotate 90 degrees.",actions:t&&!t.isLocked&&!d&&e.jsx(D,{}),children:[e.jsx("input",{type:"file",accept:".pdf",className:"hidden",ref:s,onChange:p=>p.target.files?.[0]&&P(p.target.files[0])}),t?t.isLocked?e.jsx("div",{className:"max-w-md mx-auto relative z-[100]",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2.5rem] border border-gray-100 dark:border-white/5 text-center shadow-2xl",children:[e.jsx("div",{className:"w-16 h-16 bg-rose-100 dark:bg-rose-900/30 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(V,{size:32})}),e.jsx("h3",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Protected File"}),e.jsx("input",{type:"password",value:w,onChange:p=>v(p.target.value),placeholder:"Password",className:"w-full bg-gray-50 dark:bg-black rounded-2xl px-6 py-4 border border-transparent focus:border-rose-500 outline-none font-bold text-center mb-4 dark:text-white"}),e.jsx("button",{onClick:C,disabled:!w||i,className:"w-full bg-rose-500 text-white p-4 rounded-2xl font-black uppercase text-xs",children:"Unlock"})]})}):e.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-3xl border border-gray-100 dark:border-white/5 flex items-center gap-6 shadow-sm",children:[e.jsx("div",{className:"w-12 h-16 bg-gray-50 dark:bg-black rounded-xl overflow-hidden shrink-0 border border-gray-100 dark:border-zinc-800 flex items-center justify-center text-rose-500 shadow-inner",children:t.thumbnail?e.jsx("img",{src:t.thumbnail,className:"w-full h-full object-cover"}):e.jsx(he,{size:24})}),e.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[e.jsx("h3",{className:"font-bold text-sm truncate dark:text-white",children:t.file.name}),e.jsxs("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:[t.pageCount," Pages • ",(t.file.size/(1024*1024)).toFixed(1)," MB"]})]}),e.jsx("button",{onClick:()=>n(null),className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:e.jsx(Z,{size:20})})]}),e.jsxs("div",{className:"bg-rose-500/5 dark:bg-rose-500/10 border border-rose-500/20 rounded-2xl p-4 flex items-center gap-4 animate-pulse",children:[e.jsx("div",{className:"w-10 h-10 bg-rose-500 text-white rounded-full flex items-center justify-center shrink-0 shadow-lg shadow-rose-500/20",children:e.jsx(he,{size:20})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-black text-rose-500 uppercase tracking-tight leading-none mb-1",children:"Visual Editor"}),e.jsx("p",{className:"text-xs text-rose-500/70 font-bold",children:"Tap any page thumbnail below to rotate it 90° clockwise."})]})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-[2rem] border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h4",{className:"font-black uppercase tracking-widest text-[10px] text-gray-400",children:"Page Preview"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:z,className:"text-[10px] font-black uppercase text-rose-500 flex items-center gap-1 font-bold",children:[e.jsx(he,{size:12})," All"]}),e.jsxs("button",{onClick:()=>a({}),className:"text-[10px] font-black uppercase text-gray-400 flex items-center gap-1 font-bold",children:[e.jsx(ut,{size:12})," Reset"]})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 max-h-[60vh] overflow-y-auto p-1 scrollbar-hide",children:Array.from({length:t.pageCount}).map((p,u)=>{const k=u+1,y=o[k]||0;return e.jsxs("div",{onClick:()=>E(k),className:"relative group cursor-pointer aspect-[3/4] rounded-xl overflow-hidden border-2 border-transparent hover:border-rose-500 transition-all bg-gray-50 dark:bg-black shadow-sm",children:[e.jsx("div",{className:"w-full h-full p-2",children:e.jsx(Ra,{pdfDoc:t.pdfDoc,pageNum:k,rotation:y})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/0 group-hover:bg-black/5 transition-colors",children:e.jsx("div",{className:"bg-white dark:bg-zinc-800 text-rose-500 p-2 rounded-full opacity-0 group-hover:opacity-100 shadow-xl scale-75 group-hover:scale-100 transition-all border border-gray-100 dark:border-white/5",children:e.jsx(he,{size:20})})}),e.jsxs("div",{className:"absolute bottom-2 left-2 px-2 py-1 bg-black/50 backdrop-blur-md rounded text-[9px] font-black text-white",children:["PAGE ",k]})]},k)})})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2rem] border border-gray-100 dark:border-white/5 shadow-sm space-y-6",children:[d?e.jsx(re,{message:"PDF Rotated Successfully!",downloadUrl:d,fileName:`${g}.pdf`,onStartOver:()=>{m(null),n(null)}}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-3",children:"Output Filename"}),e.jsx("input",{type:"text",value:g,onChange:p=>h(p.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white"})]})}),e.jsx("button",{onClick:()=>n(null),className:"w-full py-2 text-[10px] font-black uppercase text-gray-300 hover:text-rose-500 transition-colors",children:"Close File"})]})]}):e.jsxs("div",{onClick:()=>!i&&s.current?.click(),className:"border-4 border-dashed border-gray-100 dark:border-zinc-900 rounded-[2.5rem] p-12 text-center hover:bg-rose-50 dark:hover:bg-rose-900/10 transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:e.jsx(he,{size:32})}),e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Select PDF"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Tap to start rotating"})]}),e.jsx(X,{})]})}function Ia(){const s=c.useRef(null),{consumePipelineFile:r}=Q(),[t,n]=c.useState(null),[o,a]=c.useState(""),[i,l]=c.useState(!1),[d,m]=c.useState(0),[g,h]=c.useState("text"),[w,v]=c.useState(""),[C,P]=c.useState("paperknife-extracted"),[E,z]=c.useState(!1),L=W.isNativePlatform();c.useEffect(()=>{const x=r();if(x){const b=new File([x.buffer],x.name,{type:"application/pdf"});p(b)}},[]);const D=async()=>{if(!t||!w)return;l(!0);const x=await se(t.file,w);x.success?n({...t,isLocked:!1,pageCount:x.pageCount,pdfDoc:x.pdfDoc,password:w}):U.error("Incorrect password"),l(!1)},p=async x=>{if(x.type==="application/pdf"){l(!0);try{const b=await te(x);if(b.isLocked)n({file:x,pageCount:0,isLocked:!0});else{const F=await ae(x);n({file:x,pageCount:b.pageCount,isLocked:!1,pdfDoc:F}),P(`${x.name.replace(".pdf","")}-extracted`)}a("")}catch(b){console.error(b)}finally{l(!1)}}},u=async()=>{if(!(!t||!t.pdfDoc)){l(!0),m(0),a("");try{let x="";if(g==="text")for(let b=1;b<=t.pageCount;b++){const f=await(await t.pdfDoc.getPage(b)).getTextContent();x+=`--- Page ${b} ---
${f.items.map(N=>N.str).join(" ")}

`,m(Math.round(b/t.pageCount*100))}else{let b=1;const F=await ir.createWorker("eng",1,{workerPath:"/tesseract/worker.min.js",corePath:"/tesseract/tesseract-core.wasm.js",langPath:"/tesseract/",gzip:!1,cacheMethod:"none",logger:f=>{if(f.status==="recognizing text"){const N=(b-1)/t.pageCount*100;m(Math.round(N+f.progress*(100/t.pageCount)))}}});for(let f=1;f<=t.pageCount;f++){b=f;const N=await t.pdfDoc.getPage(f),S=N.getViewport({scale:2}),R=document.createElement("canvas"),T=R.getContext("2d");if(!T)continue;R.height=S.height,R.width=S.width,await N.render({canvasContext:T,viewport:S}).promise;const{data:{text:$}}=await F.recognize(R);x+=`--- Page ${f} (OCR) ---
${$}

`,R.width=0,R.height=0}await F.terminate()}a(x),U.success("Complete!")}catch(x){U.error(x.message)}finally{l(!1)}}},k=async()=>{await Te(o,`${C}.txt`,"text/plain")},y=()=>e.jsx("button",{onClick:u,disabled:i,className:`w-full bg-rose-500 hover:bg-rose-600 text-white font-black uppercase tracking-widest transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-3 shadow-xl shadow-rose-500/20 ${L?"py-4 rounded-2xl text-sm":"p-6 rounded-3xl text-xl"}`,children:i?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"animate-spin"})," ",d,"%"]}):e.jsxs(e.Fragment,{children:["Extract Text ",e.jsx(me,{size:18})]})});return e.jsxs(q,{title:"PDF to Text",description:"Extract text using fast scan or deep local OCR.",actions:t&&!t.isLocked&&!o&&e.jsx(y,{}),children:[e.jsx("input",{type:"file",accept:".pdf",className:"hidden",ref:s,onChange:x=>x.target.files?.[0]&&p(x.target.files[0])}),t?t.isLocked?e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2.5rem] border border-gray-100 dark:border-white/5 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-rose-100 dark:bg-rose-900/30 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(V,{size:32})}),e.jsx("h3",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Protected File"}),e.jsx("input",{type:"password",value:w,onChange:x=>v(x.target.value),placeholder:"Password",className:"w-full bg-gray-50 dark:bg-black rounded-2xl px-6 py-4 border border-transparent focus:border-rose-500 outline-none font-bold text-center mb-4"}),e.jsx("button",{onClick:D,disabled:!w||i,className:"w-full bg-rose-500 text-white p-4 rounded-2xl font-black uppercase text-xs",children:"Unlock"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-3xl border border-gray-100 dark:border-white/5 flex items-center gap-6",children:[e.jsx("div",{className:"w-16 h-20 bg-gray-50 dark:bg-black rounded-xl border border-gray-100 dark:border-zinc-800 flex items-center justify-center text-rose-500",children:e.jsx(ze,{size:24})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-sm truncate dark:text-white",children:t.file.name}),e.jsxs("p",{className:"text-[10px] text-gray-400 uppercase font-black",children:[t.pageCount," Pages • ",(t.file.size/(1024*1024)).toFixed(1)," MB"]})]}),e.jsx("button",{onClick:()=>n(null),className:"p-2 text-gray-400 hover:text-rose-500",children:e.jsx(Z,{size:20})})]}),e.jsx("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2rem] border border-gray-100 dark:border-white/5 space-y-8 shadow-sm",children:o?e.jsxs("div",{className:"space-y-6",children:[e.jsx("textarea",{readOnly:!0,value:o,className:"w-full h-80 bg-gray-50 dark:bg-black border border-gray-100 dark:border-white/5 rounded-2xl p-4 font-mono text-[10px] resize-none outline-none focus:border-rose-500 dark:text-gray-300 shadow-inner"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(o),z(!0),setTimeout(()=>z(!1),2e3)},className:"flex-1 bg-white dark:bg-zinc-800 text-gray-900 dark:text-white border border-gray-100 dark:border-white/5 p-4 rounded-2xl font-black flex items-center justify-center gap-2 transition-all active:scale-95",children:[E?e.jsx(us,{size:18,className:"text-emerald-500"}):e.jsx(Hs,{size:18})," Copy"]}),e.jsxs("button",{onClick:k,className:"flex-[2] bg-gray-900 dark:bg-white text-white dark:text-black p-4 rounded-2xl font-black flex items-center justify-center gap-2 shadow-xl active:scale-95 transition-all",children:[e.jsx(Ce,{size:18})," ",L?"Save .txt":"Download"]})]}),e.jsx("button",{onClick:()=>{a(""),m(0),n(null)},className:"w-full py-2 text-gray-400 uppercase font-black text-[10px] hover:text-rose-500 transition-colors",children:"Close File"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>h("text"),className:`p-4 rounded-2xl border-2 transition-all flex flex-col items-center ${g==="text"?"border-rose-500 bg-rose-50/50 dark:bg-rose-900/10":"border-gray-100 dark:border-white/5"}`,children:[e.jsx(ke,{size:20,className:g==="text"?"text-rose-500":"text-gray-400"}),e.jsx("span",{className:"font-black uppercase text-[10px] mt-1",children:"Fast Scan"})]}),e.jsxs("button",{onClick:()=>h("ocr"),className:`p-4 rounded-2xl border-2 transition-all flex flex-col items-center ${g==="ocr"?"border-rose-500 bg-rose-50/50 dark:bg-rose-900/10":"border-gray-100 dark:border-white/5"}`,children:[e.jsx(_s,{size:20,className:g==="ocr"?"text-rose-500":"text-gray-400"}),e.jsx("span",{className:"font-black uppercase text-[10px] mt-1",children:"Deep OCR"})]})]}),i&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-full bg-gray-100 dark:bg-zinc-800 h-2 rounded-full overflow-hidden shadow-inner",children:e.jsx("div",{className:"bg-rose-500 h-full transition-all",style:{width:`${d}%`}})}),e.jsx("p",{className:"text-center text-[10px] font-black text-gray-400 uppercase tracking-widest animate-pulse px-1",children:"Scanning Document..."})]}),!i&&e.jsxs("div",{className:"space-y-4",children:[g==="ocr"&&e.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/10 rounded-xl border border-amber-100 dark:border-amber-900/20",children:e.jsx("p",{className:"text-[10px] text-amber-700 dark:text-amber-400 font-bold uppercase tracking-widest text-center",children:"Note: Deep OCR is CPU-intensive and may take a few minutes depending on your device performance."})}),e.jsx("div",{className:"p-4 bg-rose-50 dark:bg-rose-900/10 rounded-xl border border-rose-100 dark:border-rose-900/20 text-center",children:e.jsx("p",{className:"text-[10px] text-rose-600 dark:text-rose-400 font-bold uppercase tracking-widest",children:"Select mode and tap Extract"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-gray-400 mb-3 px-1",children:"Output Filename"}),e.jsx("input",{type:"text",value:C,onChange:x=>P(x.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white"})]})]})]})})]}):e.jsxs("div",{onClick:()=>!i&&s.current?.click(),className:"border-4 border-dashed border-gray-100 dark:border-zinc-900 rounded-[2.5rem] p-12 text-center hover:bg-rose-50 dark:hover:bg-rose-900/10 transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:e.jsx(ze,{size:32})}),e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Select PDF"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Tap to browse files"})]}),e.jsx(X,{})]})}const Ta=({pdfDoc:s,pageNum:r})=>{const[t,n]=c.useState(null),o=c.useRef(null);return c.useEffect(()=>{if(!s||t)return;const a=new IntersectionObserver(i=>{i[0].isIntersecting&&(pe(s,r,1).then(n),a.disconnect())},{rootMargin:"200px"});return o.current&&a.observe(o.current),()=>a.disconnect()},[s,r,t]),t?e.jsx("img",{src:t,className:"w-full h-full object-contain bg-white pointer-events-none",alt:`P${r}`}):e.jsx("div",{ref:o,className:"w-full h-full bg-gray-100 dark:bg-zinc-800 flex items-center justify-center",children:e.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-transparent rounded-full animate-spin"})})};function $a({id:s,pageNum:r,pdfDoc:t}){const{attributes:n,listeners:o,setNodeRef:a,transform:i,transition:l,isDragging:d}=Rt({id:s}),m={transform:Ut.Transform.toString(i),transition:l,zIndex:d?100:0,position:"relative"};return e.jsxs("div",{ref:a,style:m,...n,...o,className:`relative group cursor-grab active:cursor-grabbing aspect-[3/4] rounded-xl overflow-hidden border-2 transition-all bg-gray-50 dark:bg-black touch-none ${d?"border-rose-500 shadow-2xl scale-105 opacity-90":"border-transparent hover:border-rose-500 shadow-sm"}`,children:[e.jsx("div",{className:"w-full h-full p-2",children:e.jsx(Ta,{pdfDoc:t,pageNum:r})}),e.jsx("div",{className:"absolute top-2 right-2 bg-black/50 backdrop-blur-md rounded-lg p-1.5 text-white opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Ks,{size:14})}),e.jsxs("div",{className:"absolute bottom-2 left-2 px-2 py-1 bg-black/50 backdrop-blur-md rounded text-[9px] font-black text-white",children:["PAGE ",r]})]})}function Oa(){const s=c.useRef(null),{consumePipelineFile:r}=Q(),[t,n]=c.useState(null),[o,a]=c.useState([]),[i,l]=c.useState(!1),[d,m]=c.useState(null),[g,h]=c.useState("paperknife-rearranged"),[w,v]=c.useState(""),C=Pt(fe(nr,{activationConstraint:{distance:8}}),fe(ar,{activationConstraint:{delay:200,tolerance:5}}),fe(At,{coordinateGetter:Lt}));c.useEffect(()=>{const p=r();if(p){const u=new File([p.buffer],p.name,{type:"application/pdf"});E(u)}},[]);const P=async()=>{if(!t||!w)return;l(!0);const p=await se(t.file,w);p.success?(n({...t,isLocked:!1,pageCount:p.pageCount,pdfDoc:p.pdfDoc,password:w,thumbnail:p.thumbnail}),a(Array.from({length:p.pageCount},(u,k)=>(k+1).toString())),h(`${t.file.name.replace(".pdf","")}-rearranged`)):U.error("Incorrect password"),l(!1)},E=async p=>{if(p.type==="application/pdf"){l(!0);try{const u=await te(p);if(u.isLocked)n({file:p,pageCount:0,isLocked:!0});else{const k=await ae(p);n({file:p,pageCount:u.pageCount,isLocked:!1,pdfDoc:k,thumbnail:u.thumbnail}),a(Array.from({length:u.pageCount},(y,x)=>(x+1).toString())),h(`${p.name.replace(".pdf","")}-rearranged`)}}catch(u){console.error(u)}finally{l(!1),m(null)}}},z=p=>{const{active:u,over:k}=p;u.id!==k?.id&&(a(y=>{const x=y.indexOf(u.id),b=y.indexOf(k?.id);return Et(y,x,b)}),m(null))},L=async()=>{if(t){l(!0),await new Promise(p=>setTimeout(p,100));try{const p=await t.file.arrayBuffer(),u=await ee.load(p,{password:t.password||void 0,ignoreEncryption:!0}),k=await ee.create(),y=o.map(N=>parseInt(N)-1);(await k.copyPages(u,y)).forEach(N=>k.addPage(N));const b=await k.save(),F=new Blob([b],{type:"application/pdf"}),f=URL.createObjectURL(F);m(f),Y({name:`${g}.pdf`,tool:"Rearrange",size:F.size,resultUrl:f})}catch(p){U.error(`Error: ${p.message}`)}finally{l(!1)}}},D=()=>e.jsxs("button",{onClick:L,disabled:i,className:"w-full bg-rose-500 hover:bg-rose-600 text-white font-black uppercase tracking-widest transition-all active:scale-95 disabled:opacity-50 py-4 rounded-2xl text-sm md:p-6 md:rounded-3xl md:text-xl flex items-center justify-center gap-3 shadow-lg shadow-rose-500/20",children:[i?e.jsx(G,{className:"animate-spin"}):e.jsx(ut,{size:20})," Save New Order"]});return e.jsxs(q,{title:"Rearrange PDF",description:"Drag and drop to reorder pages visually.",actions:t&&!t.isLocked&&!d&&e.jsx(D,{}),children:[e.jsx("input",{type:"file",accept:".pdf",className:"hidden",ref:s,onChange:p=>p.target.files?.[0]&&E(p.target.files[0])}),t?t.isLocked?e.jsx("div",{className:"max-w-md mx-auto relative z-[100]",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2.5rem] border border-gray-100 dark:border-white/5 text-center shadow-2xl",children:[e.jsx("div",{className:"w-16 h-16 bg-rose-100 dark:bg-rose-900/30 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(V,{size:32})}),e.jsx("h3",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Protected File"}),e.jsx("input",{type:"password",value:w,onChange:p=>v(p.target.value),placeholder:"Password",className:"w-full bg-gray-50 dark:bg-black rounded-2xl px-6 py-4 border border-transparent focus:border-rose-500 outline-none font-bold text-center mb-4 dark:text-white"}),e.jsx("button",{onClick:P,disabled:!w||i,className:"w-full bg-rose-500 text-white p-4 rounded-2xl font-black uppercase text-xs",children:"Unlock"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-3xl border border-gray-100 dark:border-white/5 flex items-center gap-6 shadow-sm",children:[e.jsx("div",{className:"w-12 h-16 bg-gray-50 dark:bg-black rounded-xl overflow-hidden shrink-0 border border-gray-100 dark:border-zinc-800 flex items-center justify-center text-rose-500 shadow-inner",children:t.thumbnail?e.jsx("img",{src:t.thumbnail,className:"w-full h-full object-cover"}):e.jsx(Wt,{size:24})}),e.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[e.jsx("h3",{className:"font-bold text-sm truncate dark:text-white",children:t.file.name}),e.jsxs("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:[t.pageCount," Pages • ",(t.file.size/(1024*1024)).toFixed(1)," MB"]})]}),e.jsx("button",{onClick:()=>n(null),className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:e.jsx(Z,{size:20})})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-[2rem] border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 px-2",children:[e.jsx("h4",{className:"font-black uppercase tracking-widest text-[10px] text-gray-400",children:"Hold & drag pages"}),e.jsxs("button",{onClick:()=>a(Array.from({length:t.pageCount},(p,u)=>(u+1).toString())),className:"text-[10px] font-black uppercase text-gray-400 flex items-center gap-1 hover:text-rose-500 transition-colors font-bold",children:[e.jsx(ut,{size:12})," Reset"]})]}),e.jsx(St,{sensors:C,collisionDetection:Ft,onDragEnd:z,children:e.jsx(Dt,{items:o,strategy:rr,children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 p-1",children:o.map(p=>e.jsx($a,{id:p,pageNum:parseInt(p),pdfDoc:t.pdfDoc},p))})})})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2rem] border border-gray-100 dark:border-white/5 shadow-sm space-y-6",children:[d?e.jsx(re,{message:"Rearranged Successfully!",downloadUrl:d,fileName:`${g}.pdf`,onStartOver:()=>{m(null),n(null)}}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-3",children:"Output Filename"}),e.jsx("input",{type:"text",value:g,onChange:p=>h(p.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white"})]})}),e.jsx("button",{onClick:()=>n(null),className:"w-full py-2 text-[10px] font-black uppercase text-gray-300 hover:text-rose-500 transition-colors",children:"Close File"})]})]}):e.jsxs("div",{onClick:()=>!i&&s.current?.click(),className:"border-4 border-dashed border-gray-100 dark:border-zinc-900 rounded-[2.5rem] p-12 text-center hover:bg-rose-50 dark:hover:bg-rose-900/10 transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:e.jsx(Wt,{size:32})}),e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Select PDF"}),e.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Tap to start reordering"})]}),e.jsx(X,{})]})}function Ba(){const s=c.useRef(null),{consumePipelineFile:r}=Q(),[t,n]=c.useState(null),[o,a]=c.useState(!1),[i,l]=c.useState(null),[d,m]=c.useState("paperknife-watermarked"),[g,h]=c.useState(""),[w,v]=c.useState("CONFIDENTIAL"),[C,P]=c.useState(.3),[E,z]=c.useState(50),[L,D]=c.useState(-45),[p,u]=c.useState("#000000");c.useEffect(()=>{const f=r();if(f){const N=new File([f.buffer],f.name,{type:"application/pdf"});y(N)}},[]);const k=async()=>{if(!t||!g)return;a(!0);const f=await se(t.file,g);f.success?(n({...t,isLocked:!1,pageCount:f.pageCount,password:g,pdfDoc:f.pdfDoc,thumbnail:f.thumbnail}),m(`${t.file.name.replace(".pdf","")}-watermarked`)):U.error("Incorrect password"),a(!1)},y=async f=>{if(f.type==="application/pdf"){a(!0);try{const N=await te(f);if(N.isLocked)n({file:f,pageCount:0,isLocked:!0});else{const S=await ae(f);n({file:f,pageCount:N.pageCount,isLocked:!1,pdfDoc:S,thumbnail:N.thumbnail}),m(`${f.name.replace(".pdf","")}-watermarked`)}}catch(N){console.error(N)}finally{a(!1),l(null)}}},x=f=>{const N=parseInt(f.slice(1,3),16)/255,S=parseInt(f.slice(3,5),16)/255,R=parseInt(f.slice(5,7),16)/255;return fs(N,S,R)},b=async()=>{if(t){a(!0),await new Promise(f=>setTimeout(f,100));try{const f=await t.file.arrayBuffer(),N=await ee.load(f,{password:t.password||void 0,ignoreEncryption:!0}),S=await N.embedFont(bs.HelveticaBold),R=N.getPages(),T=x(p);R.forEach(j=>{const{width:A,height:I}=j.getSize();j.drawText(w,{x:A/2,y:I/2,size:E,font:S,color:T,opacity:C,rotate:gs(L)})});const $=await N.save(),B=new Blob([$],{type:"application/pdf"}),O=URL.createObjectURL(B);l(O),Y({name:`${d}.pdf`,tool:"Watermark",size:B.size,resultUrl:O})}catch(f){U.error(`Error: ${f.message}`)}finally{a(!1)}}},F=()=>e.jsxs("button",{onClick:b,disabled:o||!w,className:"w-full bg-rose-500 hover:bg-rose-600 text-white font-black uppercase tracking-widest transition-all active:scale-95 disabled:opacity-50 py-4 rounded-2xl text-sm md:p-6 md:rounded-3xl md:text-xl flex items-center justify-center gap-3 shadow-lg shadow-rose-500/20",children:[o?e.jsx(G,{className:"animate-spin"}):e.jsx(Ke,{size:20})," Apply Watermark"]});return e.jsxs(q,{title:"Watermark",description:"Add secure text overlays to your documents locally.",actions:t&&!t.isLocked&&!i&&e.jsx(F,{}),children:[e.jsx("input",{type:"file",accept:".pdf",className:"hidden",ref:s,onChange:f=>f.target.files?.[0]&&y(f.target.files[0])}),t?t.isLocked?e.jsx("div",{className:"max-w-md mx-auto relative z-[100]",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2.5rem] border border-gray-100 dark:border-white/5 text-center shadow-2xl",children:[e.jsx("div",{className:"w-16 h-16 bg-rose-100 dark:bg-rose-900/30 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(V,{size:32})}),e.jsx("input",{type:"password",value:g,onChange:f=>h(f.target.value),placeholder:"Password",className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-4 border border-transparent focus:border-rose-500 outline-none font-bold text-center mb-4 dark:text-white"}),e.jsx("button",{onClick:k,disabled:!g||o,className:"w-full bg-rose-500 text-white p-4 rounded-2xl font-black uppercase text-xs",children:"Unlock"})]})}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-500",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-[2rem] border border-gray-100 dark:border-white/5 shadow-sm overflow-hidden flex flex-col items-center",children:[e.jsx("div",{className:"flex justify-between items-center w-full mb-4 px-2",children:e.jsxs("h4",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[e.jsx(zt,{size:12})," Live Preview"]})}),e.jsxs("div",{className:"relative aspect-[3/4] w-full max-w-[300px] bg-white border border-gray-100 dark:border-zinc-800 rounded-xl overflow-hidden shadow-inner",children:[t.thumbnail?e.jsx("img",{src:t.thumbnail,className:"w-full h-full object-contain opacity-50"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-100",children:e.jsx(Ke,{size:64})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none select-none overflow-hidden",style:{color:p,opacity:C,transform:`rotate(${L}deg)`,fontSize:`${E/3}px`,fontWeight:"900",textAlign:"center",lineHeight:"1"},children:w})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2rem] border border-gray-100 dark:border-white/5 shadow-sm space-y-6",children:[i?e.jsx(re,{message:"Watermark Applied Successfully!",downloadUrl:i,fileName:`${d}.pdf`,onStartOver:()=>l(null)}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-3",children:"Watermark Text"}),e.jsx("input",{type:"text",value:w,onChange:f=>v(f.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-[10px] font-black uppercase text-gray-400",children:"Appearance"}),e.jsx(Ae,{size:14,className:"text-gray-300"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-[8px] font-black uppercase text-gray-400 mb-2",children:"Color"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[["#F43F5E","#3B82F6","#10B981","#F59E0B","#000000"].map(f=>e.jsx("button",{onClick:()=>u(f),className:`w-8 h-8 rounded-full border-2 transition-all ${p===f?"border-zinc-900 dark:border-white scale-110":"border-transparent"}`,style:{backgroundColor:f}},f)),e.jsx("input",{type:"color",value:p,onChange:f=>u(f.target.value),className:"w-8 h-8 rounded-full overflow-hidden border-none p-0 cursor-pointer bg-transparent"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[8px] font-black uppercase text-gray-400 mb-2",children:["Opacity (",Math.round(C*100),"%)"]}),e.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:C,onChange:f=>P(parseFloat(f.target.value)),className:"w-full accent-rose-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[8px] font-black uppercase text-gray-400 mb-2",children:["Size (",E,"px)"]}),e.jsx("input",{type:"range",min:"10",max:"200",step:"1",value:E,onChange:f=>z(parseInt(f.target.value)),className:"w-full accent-rose-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[8px] font-black uppercase text-gray-400 mb-2",children:["Rotation (",L,"°)"]}),e.jsx("input",{type:"range",min:"-180",max:"180",step:"5",value:L,onChange:f=>D(parseInt(f.target.value)),className:"w-full accent-rose-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-3",children:"Output Filename"}),e.jsx("input",{type:"text",value:d,onChange:f=>m(f.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white"})]})]}),e.jsx("button",{onClick:()=>n(null),className:"w-full py-2 text-[10px] font-black uppercase text-gray-300 hover:text-rose-500 transition-colors",children:"Close File"})]})})]}):e.jsxs("div",{onClick:()=>!o&&s.current?.click(),className:"border-4 border-dashed border-gray-100 dark:border-zinc-900 rounded-[2.5rem] p-12 text-center hover:bg-rose-50 dark:hover:bg-rose-900/10 transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:e.jsx(Ke,{size:32})}),e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Select PDF"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Tap to start watermarking"})]}),e.jsx(X,{})]})}function Ma(){const s=c.useRef(null),{consumePipelineFile:r}=Q(),[t,n]=c.useState(null),[o,a]=c.useState(!1),[i,l]=c.useState(null),[d,m]=c.useState("paperknife-numbered"),[g,h]=c.useState(""),[w,v]=c.useState("Page {n} of {total}"),[C,P]=c.useState("bottom-center"),[E]=c.useState(1),[z]=c.useState(12),[L]=c.useState("#6B7280");c.useEffect(()=>{const b=r();if(b){const F=new File([b.buffer],b.name,{type:"application/pdf"});p(F)}},[]);const D=async()=>{if(!t||!g)return;a(!0);const b=await se(t.file,g);b.success?(n({...t,isLocked:!1,pageCount:b.pageCount,password:g,pdfDoc:b.pdfDoc,thumbnail:b.thumbnail}),m(`${t.file.name.replace(".pdf","")}-numbered`)):U.error("Incorrect password"),a(!1)},p=async b=>{if(b.type==="application/pdf"){a(!0);try{const F=await te(b);if(F.isLocked)n({file:b,pageCount:0,isLocked:!0});else{const f=await ae(b);n({file:b,pageCount:F.pageCount,isLocked:!1,pdfDoc:f,thumbnail:F.thumbnail}),m(`${b.name.replace(".pdf","")}-numbered`)}}catch(F){console.error(F)}finally{a(!1),l(null)}}},u=b=>{const F=parseInt(b.slice(1,3),16)/255,f=parseInt(b.slice(3,5),16)/255,N=parseInt(b.slice(5,7),16)/255;return fs(F,f,N)},k=async()=>{if(t){a(!0),await new Promise(b=>setTimeout(b,100));try{const b=await t.file.arrayBuffer(),F=await ee.load(b,{password:t.password||void 0,ignoreEncryption:!0}),f=await F.embedFont(bs.Helvetica),N=F.getPages(),S=u(L);N.forEach((B,O)=>{const{width:j,height:A}=B.getSize(),I=O+E,M=N.length+(E-1),H=w.replace("{n}",I.toString()).replace("{total}",M.toString()),_=f.widthOfTextAtSize(H,z),J=30;let ne=j/2-_/2,Me=J;C.includes("left")&&(ne=J),C.includes("right")&&(ne=j-_-J),C.includes("top")&&(Me=A-J-z),B.drawText(H,{x:ne,y:Me,size:z,font:f,color:S})});const R=await F.save(),T=new Blob([R],{type:"application/pdf"}),$=URL.createObjectURL(T);l($),Y({name:`${d}.pdf`,tool:"Page Numbers",size:T.size,resultUrl:$})}catch(b){U.error(`Error: ${b.message}`)}finally{a(!1)}}},y=()=>e.jsxs("button",{onClick:k,disabled:o,className:"w-full bg-rose-500 hover:bg-rose-600 text-white font-black uppercase tracking-widest transition-all active:scale-95 disabled:opacity-50 py-4 rounded-2xl text-sm md:p-6 md:rounded-3xl md:text-xl flex items-center justify-center gap-3 shadow-lg shadow-rose-500/20",children:[o?e.jsx(G,{className:"animate-spin"}):e.jsx(Ge,{size:20})," Add Page Numbers"]}),x=()=>{const b={position:"absolute",padding:"10px",color:L,fontSize:"8px",fontWeight:"bold"};return C.includes("top")?b.top=0:b.bottom=0,C.includes("left")?b.left=0:C.includes("right")?b.right=0:(b.left="50%",b.transform="translateX(-50%)"),b};return e.jsxs(q,{title:"Page Numbers",description:"Add custom numbering to your PDF automatically.",actions:t&&!t.isLocked&&!i&&e.jsx(y,{}),children:[e.jsx("input",{type:"file",accept:".pdf",className:"hidden",ref:s,onChange:b=>b.target.files?.[0]&&p(b.target.files[0])}),t?t.isLocked?e.jsx("div",{className:"max-w-md mx-auto relative z-[100]",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2.5rem] border border-gray-100 dark:border-white/5 text-center shadow-2xl",children:[e.jsx("div",{className:"w-16 h-16 bg-rose-100 dark:bg-rose-900/30 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(V,{size:32})}),e.jsx("input",{type:"password",value:g,onChange:b=>h(b.target.value),placeholder:"Password",className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-4 border border-transparent focus:border-rose-500 outline-none font-bold text-center mb-4 dark:text-white"}),e.jsx("button",{onClick:D,disabled:!g||o,className:"w-full bg-rose-500 text-white p-4 rounded-2xl font-black uppercase text-xs",children:"Unlock"})]})}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-500",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-[2rem] border border-gray-100 dark:border-white/5 shadow-sm flex flex-col items-center",children:[e.jsx("div",{className:"flex justify-between items-center w-full mb-4 px-2",children:e.jsxs("h4",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400 flex items-center gap-2",children:[e.jsx(zt,{size:12})," Live Preview"]})}),e.jsxs("div",{className:"relative aspect-[3/4] w-full max-w-[300px] bg-white border border-gray-100 dark:border-zinc-800 rounded-xl overflow-hidden shadow-inner",children:[t.thumbnail?e.jsx("img",{src:t.thumbnail,className:"w-full h-full object-contain"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-100",children:e.jsx(Ge,{size:64})}),e.jsx("div",{style:x(),children:w.replace("{n}","1").replace("{total}",t.pageCount.toString())})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2rem] border border-gray-100 dark:border-white/5 shadow-sm space-y-6",children:[i?e.jsx(re,{message:"Numbers Applied Successfully!",downloadUrl:i,fileName:`${d}.pdf`,onStartOver:()=>l(null)}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-3",children:"Label Format"}),e.jsx("input",{type:"text",value:w,onChange:b=>v(b.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white",placeholder:"Page {n} of {total}"}),e.jsxs("p",{className:"text-[8px] text-gray-400 mt-2",children:["Use ",e.jsx("b",{children:"{n}"})," for page number and ",e.jsx("b",{children:"{total}"})," for total pages."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-3",children:"Position"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"].map(b=>e.jsx("button",{onClick:()=>P(b),className:`py-3 px-1 rounded-xl text-[8px] font-black uppercase transition-all border ${C===b?"bg-rose-500 text-white border-rose-500 shadow-lg shadow-rose-500/20":"bg-gray-50 dark:bg-black text-gray-400 border-gray-100 dark:border-zinc-800"}`,children:b.replace("-"," ")},b))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-3",children:"Output Filename"}),e.jsx("input",{type:"text",value:d,onChange:b=>m(b.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white"})]})]}),e.jsx("button",{onClick:()=>n(null),className:"w-full py-2 text-[10px] font-black uppercase text-gray-300 hover:text-rose-500 transition-colors",children:"Close File"})]})})]}):e.jsxs("div",{onClick:()=>!o&&s.current?.click(),className:"border-4 border-dashed border-gray-100 dark:border-zinc-900 rounded-[2.5rem] p-12 text-center hover:bg-rose-50 dark:hover:bg-rose-900/10 transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:e.jsx(Ge,{size:32})}),e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Select PDF"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Tap to start numbering"})]}),e.jsx(X,{})]})}function Wa(){const s=c.useRef(null),{consumePipelineFile:r}=Q(),[t,n]=c.useState(null),[o,a]=c.useState(!1),[i,l]=c.useState(null),[d,m]=c.useState("paperknife-metadata"),[g,h]=c.useState(""),[w,v]=c.useState(!1),[C,P]=c.useState({title:"",author:localStorage.getItem("defaultAuthor")||"",subject:"",keywords:"",creator:localStorage.getItem("defaultAuthor")||"",producer:localStorage.getItem("defaultAuthor")||""});c.useEffect(()=>{const p=localStorage.getItem("defaultAuthor")||"";!t&&p&&P(u=>({...u,author:p,creator:p,producer:p}))},[]),c.useEffect(()=>{const p=r();if(p){const u=new File([p.buffer],p.name,{type:"application/pdf"});z(u)}},[]);const E=async()=>{if(!t||!g)return;a(!0);const p=await se(t.file,g);if(p.success){const u=await t.file.arrayBuffer(),k=await ee.load(u,{password:g}),y={title:k.getTitle()||"",author:k.getAuthor()||"",subject:k.getSubject()||"",keywords:k.getKeywords()||"",creator:k.getCreator()||"",producer:k.getProducer()||""};n({...t,isLocked:!1,pageCount:p.pageCount,password:g,currentMeta:y}),P(y)}else U.error("Incorrect password");a(!1)},z=async p=>{if(p.type==="application/pdf"){a(!0);try{const u=await te(p);let k={title:"",author:"",subject:"",keywords:"",creator:"",producer:""};if(!u.isLocked){const y=await p.arrayBuffer(),x=await ee.load(y),b=localStorage.getItem("defaultAuthor")||"";k={title:x.getTitle()||"",author:b||x.getAuthor()||"",subject:x.getSubject()||"",keywords:x.getKeywords()||"",creator:b||x.getCreator()||"",producer:b||x.getProducer()||""}}n({file:p,pageCount:u.pageCount,isLocked:u.isLocked,currentMeta:k}),P(k),m(`${p.name.replace(".pdf","")}-metadata`)}catch(u){console.error(u)}finally{a(!1),l(null)}}},L=async(p=!1)=>{if(t){a(!0),p&&v(!0),await new Promise(u=>setTimeout(u,300));try{const u=await t.file.arrayBuffer(),k=await ee.load(u,{password:t.password||void 0,ignoreEncryption:!0});let y;p?(y=await ee.create(),(await y.copyPages(k,k.getPageIndices())).forEach(S=>y.addPage(S)),y.setTitle(""),y.setAuthor(""),y.setSubject(""),y.setKeywords([]),y.setCreator(" "),y.setProducer(" "),y.setModificationDate(new Date),y.setCreationDate(new Date),y.catalog.get(y.context.obj("Metadata"))&&y.catalog.delete(y.context.obj("Metadata"))):(y=k,y.setTitle(C.title||""),y.setAuthor(C.author||""),y.setSubject(C.subject||""),y.setKeywords(C.keywords?C.keywords.split(",").map(f=>f.trim()):[]),y.setCreator(C.creator||" "),y.setProducer(C.producer||" "));const x=await y.save(),b=new Blob([x],{type:"application/pdf"}),F=URL.createObjectURL(b);l(F),Y({name:`${d}.pdf`,tool:"Metadata",size:b.size,resultUrl:F})}catch(u){U.error(`Error: ${u.message}`)}finally{a(!1),v(!1)}}},D=()=>e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("button",{onClick:()=>L(!1),disabled:o,className:"w-full bg-rose-500 text-white font-black uppercase tracking-widest transition-all active:scale-95 disabled:opacity-50 py-4 rounded-2xl text-sm md:p-6 md:rounded-3xl md:text-xl flex items-center justify-center gap-3 shadow-lg shadow-rose-500/20",children:[o&&!w?e.jsx(G,{className:"animate-spin"}):e.jsx(_t,{size:18})," Update Metadata"]}),e.jsxs("button",{onClick:()=>L(!0),disabled:o,className:"w-full bg-emerald-500 text-white font-black uppercase tracking-widest transition-all active:scale-95 disabled:opacity-50 py-4 rounded-2xl text-sm md:p-6 md:rounded-3xl md:text-xl flex items-center justify-center gap-3 shadow-lg shadow-emerald-500/20",children:[w?e.jsx(G,{className:"animate-spin"}):e.jsx(ye,{size:18})," Privacy Deep Clean"]})]});return e.jsxs(q,{title:"Metadata Editor",description:"Edit or wipe document properties for better privacy.",actions:t&&!t.isLocked&&!i&&e.jsx(D,{}),children:[e.jsx("input",{type:"file",accept:".pdf",className:"hidden",ref:s,onChange:p=>p.target.files?.[0]&&z(p.target.files[0])}),t?t.isLocked?e.jsx("div",{className:"max-w-md mx-auto relative z-[100]",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2.5rem] border border-gray-100 dark:border-white/5 text-center shadow-2xl",children:[e.jsx("div",{className:"w-16 h-16 bg-rose-100 dark:bg-rose-900/30 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(V,{size:32})}),e.jsx("h3",{className:"text-2xl font-bold mb-2 dark:text-white",children:"File Protected"}),e.jsx("input",{type:"password",value:g,onChange:p=>h(p.target.value),placeholder:"Password",className:"w-full bg-gray-50 dark:bg-black rounded-2xl px-6 py-4 border border-transparent focus:border-rose-500 outline-none font-bold text-center mb-4 dark:text-white"}),e.jsx("button",{onClick:E,disabled:!g||o,className:"w-full bg-rose-500 text-white p-4 rounded-2xl font-black uppercase text-xs",children:"Unlock"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-3xl border border-gray-100 dark:border-white/5 flex items-center gap-6 shadow-sm",children:[e.jsx("div",{className:"w-16 h-16 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-2xl flex items-center justify-center shrink-0",children:e.jsx(yt,{size:24})}),e.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[e.jsx("h3",{className:"font-bold text-sm truncate dark:text-white",children:t.file.name}),e.jsxs("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest",children:[t.pageCount," Pages • ",(t.file.size/(1024*1024)).toFixed(1)," MB"]})]}),e.jsx("button",{onClick:()=>n(null),className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:e.jsx(Z,{size:20})})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2rem] border border-gray-100 dark:border-white/5 space-y-6 shadow-sm",children:[i?e.jsx(re,{message:w?"Deep Clean Successful!":"Metadata Updated!",downloadUrl:i,fileName:`${d}.pdf`,onStartOver:()=>{l(null),n(null)}}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-gray-400 mb-3 px-1",children:"Output Filename"}),e.jsx("input",{type:"text",value:d,onChange:p=>m(p.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["title","author","subject","keywords","creator","producer"].map(p=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-2 tracking-widest px-1",children:p}),e.jsx("input",{type:"text",value:C[p],onChange:u=>P({...C,[p]:u.target.value}),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white"})]},p))})]}),e.jsx("button",{onClick:()=>n(null),className:"w-full py-2 text-[10px] font-black uppercase text-gray-300 hover:text-rose-500 transition-colors",children:"Close File"})]})]}):e.jsxs("div",{onClick:()=>!o&&s.current?.click(),className:"border-4 border-dashed border-gray-100 dark:border-zinc-900 rounded-[2.5rem] p-12 text-center hover:bg-rose-50 dark:hover:bg-rose-900/10 transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:e.jsx(_t,{size:32})}),e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Select PDF"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Tap to start editing metadata"})]}),e.jsx(X,{})]})}function _a({id:s,img:r,onRemove:t}){const{attributes:n,listeners:o,setNodeRef:a,transform:i,transition:l,isDragging:d}=Rt({id:s}),m={transform:Ut.Transform.toString(i),transition:l,zIndex:d?50:0};return e.jsxs("div",{ref:a,style:m,className:`flex items-center gap-3 p-3 bg-white dark:bg-zinc-900 rounded-2xl border transition-colors shadow-sm group touch-none relative ${d?"border-rose-500 shadow-xl scale-[1.02]":"border-gray-100 dark:border-white/5"}`,children:[e.jsx("div",{...n,...o,className:"p-2 cursor-grab text-rose-400 hover:text-rose-600 active:scale-90 transition-transform",children:e.jsx(xs,{size:20})}),e.jsx("div",{className:"w-12 h-16 bg-gray-100 dark:bg-black rounded-lg overflow-hidden shrink-0 border border-gray-200 dark:border-zinc-800",children:e.jsx("img",{src:r.preview,alt:"P",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"font-bold text-sm truncate dark:text-white",children:r.file.name})}),e.jsx("button",{onClick:()=>t(s),className:"p-2 text-gray-400 hover:text-rose-500",children:e.jsx(Z,{size:18})})]})}function Ha(){const s=c.useRef(null),[r,t]=c.useState([]),[n,o]=c.useState(!1),[a,i]=c.useState(null),[l,d]=c.useState("paperknife-images-to-pdf"),m=W.isNativePlatform(),g=Pt(fe(hs),fe(At,{coordinateGetter:Lt})),h=P=>{const E=Array.from(P).filter(z=>z.type.startsWith("image/")).map(z=>({id:Math.random().toString(36).substr(2,9),file:z,preview:URL.createObjectURL(z)}));if(E.length===0){U.error("Select images (JPG, PNG, WebP)");return}t(z=>[...z,...E]),i(null)},w=P=>{const{active:E,over:z}=P;E.id!==z?.id&&t(L=>{const D=L.findIndex(u=>u.id===E.id),p=L.findIndex(u=>u.id===z?.id);return Et(L,D,p)})},v=async()=>{if(r.length!==0){o(!0),await new Promise(P=>setTimeout(P,100));try{const P=await ee.create();for(const D of r){const p=await D.file.arrayBuffer();let u;D.file.type.includes("png")?u=await P.embedPng(p):u=await P.embedJpg(p);const{width:k,height:y}=u.scale(1);P.addPage([k,y]).drawImage(u,{x:0,y:0,width:k,height:y})}const E=await P.save(),z=new Blob([E],{type:"application/pdf"}),L=URL.createObjectURL(z);i(L),Y({name:`${l}.pdf`,tool:"Image to PDF",size:z.size,resultUrl:L})}catch(P){U.error(`Error: ${P.message}`)}finally{o(!1)}}},C=()=>e.jsx("button",{onClick:v,disabled:n||r.length===0,className:`w-full bg-rose-500 hover:bg-rose-600 text-white font-black uppercase tracking-widest transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-3 shadow-xl shadow-rose-500/20 ${m?"py-4 rounded-2xl text-sm":"p-6 rounded-3xl text-xl"}`,children:n?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"animate-spin"})," Working..."]}):e.jsxs(e.Fragment,{children:["Generate PDF ",e.jsx(me,{size:18})]})});return e.jsxs(q,{title:"Image to PDF",description:"Convert photos and images into a professional PDF.",actions:r.length>0&&!a&&e.jsx(C,{}),children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",ref:s,onChange:P=>P.target.files&&h(P.target.files)}),r.length===0?e.jsxs("div",{onClick:()=>s.current?.click(),className:"border-4 border-dashed border-gray-100 dark:border-zinc-900 rounded-[2.5rem] p-12 text-center hover:bg-rose-50 dark:hover:bg-rose-900/10 transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:e.jsx($e,{size:32})}),e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Select Images"}),e.jsx("p",{className:"text-sm text-gray-400",children:"JPG, PNG, or WebP"})]}):a?e.jsx(re,{message:"PDF Ready!",downloadUrl:a,fileName:`${l}.pdf`,onStartOver:()=>{t([]),i(null)}}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center px-1",children:[e.jsxs("p",{className:"text-[10px] font-black uppercase text-gray-400",children:[r.length," Images"]}),e.jsx("button",{onClick:()=>t([]),className:"text-[10px] font-black uppercase text-rose-500/60",children:"Clear"})]}),e.jsx(St,{sensors:g,collisionDetection:Ft,onDragEnd:w,children:e.jsx(Dt,{items:r.map(P=>P.id),strategy:ms,children:e.jsx("div",{className:"space-y-2",children:r.map(P=>e.jsx(_a,{id:P.id,img:P,onRemove:E=>t(z=>z.filter(L=>L.id!==E))},P.id))})})}),e.jsxs("button",{onClick:()=>s.current?.click(),className:"w-full py-3 border-2 border-dashed border-gray-200 dark:border-zinc-800 rounded-2xl text-gray-400 font-bold text-sm flex items-center justify-center gap-2 hover:border-rose-500 hover:text-rose-500 transition-all",children:[e.jsx(we,{size:16})," Add More"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-2",children:"Filename"}),e.jsx("input",{type:"text",value:l,onChange:P=>d(P.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm"})]}),!m&&e.jsx(C,{})]}),e.jsx(X,{})]})}function Ka(){const s=c.useRef(null),r=c.useRef(null),t=c.useRef(null),{consumePipelineFile:n}=Q(),[o,a]=c.useState(null),[i,l]=c.useState(null),[d,m]=c.useState(null),[g,h]=c.useState(!1),[w,v]=c.useState(null),[C,P]=c.useState("paperknife-signed"),[E,z]=c.useState(""),[L]=c.useState(1),[D,p]=c.useState({x:50,y:50}),[u,k]=c.useState(150),[y,x]=c.useState(null),[b,F]=c.useState(!1),[f,N]=c.useState(!1),S=W.isNativePlatform();c.useEffect(()=>{const j=n();if(j){const A=new File([j.buffer],j.name,{type:"application/pdf"});T(A)}},[]);const R=async()=>{if(!(!o||!E)){h(!0);try{const j=await se(o.file,E);if(j.success){a({...o,isLocked:!1,pageCount:j.pageCount,pdfDoc:j.pdfDoc,password:E});const A=await pe(j.pdfDoc,1,2);x(A)}else U.error("Incorrect password")}finally{h(!1)}}},T=async j=>{if(j.type==="application/pdf"){h(!0);try{const A=await te(j);if(A.isLocked)a({file:j,pageCount:0,isLocked:!0});else{const I=await ae(j);a({file:j,pageCount:A.pageCount,isLocked:!1,pdfDoc:I});const M=await pe(I,1,2);x(M)}}finally{h(!1),s.current&&(s.current.value="")}}},$=j=>{if(!t.current)return;const A=t.current.getBoundingClientRect(),I="touches"in j?j.touches[0].clientX:j.clientX,M="touches"in j?j.touches[0].clientY:j.clientY;if(b)p({x:Math.max(0,Math.min(100,(I-A.left)/A.width*100)),y:Math.max(0,Math.min(100,(M-A.top)/A.height*100))});else if(f){const H=D.x/100*A.width+A.left;k(Math.max(50,Math.min(A.width,I-(H-u/2))))}},B=async()=>{if(!(!o||!d)){h(!0);try{const j=await o.file.arrayBuffer(),A=await ee.load(j,{password:o.password,ignoreEncryption:!0}),I=await d.arrayBuffer();let M=d.type==="image/png"?await A.embedPng(I):await A.embedJpg(I);const H=A.getPages()[L-1],{width:_,height:J}=H.getSize(),ne=D.x/100*_,Me=J-D.y/100*J-u*(M.height/M.width);H.drawImage(M,{x:ne,y:Me,width:u,height:u*(M.height/M.width)});const Ps=await A.save(),Bt=new Blob([Ps],{type:"application/pdf"}),Mt=URL.createObjectURL(Bt);v(Mt),Y({name:`${C}.pdf`,tool:"Signature",size:Bt.size,resultUrl:Mt})}finally{h(!1)}}},O=()=>e.jsx("button",{onClick:B,disabled:g||!i,className:`w-full bg-rose-500 hover:bg-rose-600 text-white font-black uppercase tracking-widest transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-3 shadow-xl shadow-rose-500/20 ${S?"py-4 rounded-2xl text-sm":"p-6 rounded-3xl text-xl"}`,children:g?e.jsx(G,{className:"animate-spin"}):e.jsxs(e.Fragment,{children:["Sign & Save ",e.jsx(me,{size:18})]})});return e.jsxs(q,{title:"Signature",description:"Sign any PDF by dragging your signature image.",actions:o&&!o.isLocked&&!w&&e.jsx(O,{}),children:[e.jsx("input",{type:"file",accept:".pdf",className:"hidden",ref:s,onChange:j=>j.target.files?.[0]&&T(j.target.files[0])}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:r,onChange:j=>{const A=j.target.files?.[0];A&&(m(A),l(URL.createObjectURL(A)))}}),o?o.isLocked?e.jsxs("div",{className:"max-w-md mx-auto p-8 bg-white dark:bg-zinc-900 rounded-3xl text-center",children:[e.jsx(V,{size:32,className:"mx-auto mb-4 text-rose-500"}),e.jsx("input",{type:"password",value:E,onChange:j=>z(j.target.value),className:"w-full p-4 mb-4 border rounded-xl"}),e.jsx("button",{onClick:R,className:"w-full p-4 bg-rose-500 text-white rounded-xl",children:"Unlock"})]}):e.jsxs("div",{className:"space-y-6",onMouseMove:$,onTouchMove:$,onMouseUp:()=>{F(!1),N(!1)},onTouchEnd:()=>{F(!1),N(!1)},children:[w?e.jsx(re,{message:"Signed Successfully!",downloadUrl:w,fileName:`${C}.pdf`,onStartOver:()=>{v(null),a(null),l(null)}}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-3xl border border-gray-100 dark:border-white/5 relative aspect-[1/1.4] overflow-hidden touch-none",ref:t,onClick:j=>{if(!i||b||f)return;const A=j.currentTarget.getBoundingClientRect();p({x:(j.clientX-A.left)/A.width*100,y:(j.clientY-A.top)/A.height*100})},children:[y?e.jsx("img",{src:y,className:"w-full h-full object-contain"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(G,{className:"animate-spin text-rose-500"})}),i&&e.jsxs("div",{onMouseDown:j=>{j.stopPropagation(),F(!0)},onTouchStart:j=>{j.stopPropagation(),F(!0)},style:{left:`${D.x}%`,top:`${D.y}%`,width:`${u}px`,transform:"translate(-50%, -50%)"},className:"absolute cursor-move ring-2 ring-rose-500 rounded-sm",children:[e.jsx("img",{src:i,className:"w-full pointer-events-none"}),e.jsx("div",{onMouseDown:j=>{j.stopPropagation(),N(!0)},onTouchStart:j=>{j.stopPropagation(),N(!0)},className:"absolute -bottom-2 -right-2 w-6 h-6 bg-rose-500 rounded-full border-2 border-white cursor-nwse-resize"})]})]}),e.jsx("div",{className:"flex gap-4",children:e.jsx("button",{onClick:()=>r.current?.click(),className:"flex-1 p-4 bg-gray-50 dark:bg-zinc-800 text-gray-900 dark:text-white border border-gray-100 dark:border-white/5 rounded-2xl font-black uppercase text-xs hover:border-rose-500 transition-all",children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(Pe,{size:16})," Upload Signature"]})})}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-[2rem] border border-gray-100 dark:border-white/5 shadow-sm",children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-gray-400 mb-3 px-1",children:"Output Filename"}),e.jsx("input",{type:"text",value:C,onChange:j=>P(j.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white"})]})]}),e.jsx("button",{onClick:()=>{a(null),l(null)},className:"w-full py-2 text-[10px] font-black uppercase text-gray-300 hover:text-rose-500 transition-colors",children:"Close File"})]}):e.jsxs("button",{onClick:()=>!g&&s.current?.click(),className:"w-full border-4 border-dashed border-gray-100 dark:border-zinc-900 rounded-[2.5rem] p-12 text-center hover:bg-rose-50 transition-all cursor-pointer group",children:[e.jsx(Pe,{size:32,className:"mx-auto mb-4 text-rose-500"}),e.jsx("h3",{className:"text-xl font-bold dark:text-white",children:"Select PDF"})]}),e.jsx(X,{})]})}function Ga(){const s=c.useRef(null),{consumePipelineFile:r}=Q(),[t,n]=c.useState(!1),[o,a]=c.useState(null),[i,l]=c.useState(null),[d,m]=c.useState("");c.useEffect(()=>{const v=r();if(v){const C=new File([v.buffer],v.name,{type:"application/pdf"});g(C)}},[]);const g=async v=>{v.type==="application/pdf"&&(l(v),m(`repaired-${v.name.replace(".pdf","")}`),a(null))},h=async()=>{if(i){n(!0);try{const v=await i.arrayBuffer(),P=await(await ee.load(v,{ignoreEncryption:!0,throwOnInvalidObject:!1})).save(),E=new Blob([P],{type:"application/pdf"}),z=URL.createObjectURL(E);a(z),Y({name:`${d}.pdf`,tool:"Repair",size:E.size,resultUrl:z}),U.success("PDF rebuilt successfully!")}catch(v){U.error(`Repair failed: ${v.message}`)}finally{n(!1)}}},w=()=>e.jsxs("button",{onClick:h,disabled:t,className:"w-full bg-rose-500 hover:bg-rose-600 text-white font-black uppercase tracking-widest transition-all active:scale-95 disabled:opacity-50 py-4 rounded-2xl text-sm md:p-6 md:rounded-3xl md:text-xl flex items-center justify-center gap-3 shadow-lg shadow-rose-500/20",children:[t?e.jsx(G,{className:"animate-spin"}):e.jsx(Gs,{size:20})," Attempt Repair"]});return e.jsxs(q,{title:"Repair PDF",description:"Fix corrupted or unreadable PDF files by rebuilding structure.",actions:i&&!o&&e.jsx(w,{}),children:[e.jsx("input",{type:"file",accept:".pdf",className:"hidden",ref:s,onChange:v=>v.target.files?.[0]&&g(v.target.files[0])}),i?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-3xl border border-gray-100 dark:border-white/5 flex items-center gap-6 shadow-sm",children:[e.jsx("div",{className:"w-16 h-16 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-2xl flex items-center justify-center shrink-0",children:e.jsx(Ht,{size:24})}),e.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[e.jsx("h3",{className:"font-bold text-sm truncate dark:text-white",children:i.name}),e.jsxs("p",{className:"text-[10px] text-gray-400 uppercase font-black",children:[(i.size/(1024*1024)).toFixed(2)," MB"]})]}),e.jsx("button",{onClick:()=>l(null),className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:e.jsx(Z,{size:20})})]}),e.jsx("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2rem] border border-gray-100 dark:border-white/5 space-y-8 shadow-sm",children:o?e.jsx(re,{message:"Reconstruction Complete!",downloadUrl:o,fileName:`${d}.pdf`,onStartOver:()=>{a(null),l(null)},showPreview:!0}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-3",children:"Output Filename"}),e.jsx("input",{type:"text",value:d,onChange:v=>m(v.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white"})]})})})]}):e.jsxs("div",{onClick:()=>!t&&s.current?.click(),className:"border-4 border-dashed border-gray-100 dark:border-zinc-900 rounded-[2.5rem] p-12 text-center hover:bg-rose-50 dark:hover:bg-rose-900/10 transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:e.jsx($e,{size:32})}),e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Select Corrupted PDF"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Tap to browse local files"})]}),e.jsxs("div",{className:"mt-8 p-6 bg-amber-50 dark:bg-amber-900/10 rounded-2xl border border-amber-100 dark:border-white/5 flex items-start gap-4",children:[e.jsx(Ht,{className:"text-amber-500 shrink-0",size:20}),e.jsxs("div",{className:"text-xs text-amber-700 dark:text-amber-400 leading-relaxed text-left",children:[e.jsx("p",{className:"font-black mb-1 uppercase tracking-widest text-[10px]",children:"Technical Protocol:"}),'PaperKnife rebuilds the internal cross-reference table and regenerates the file structure from scratch. This can restore access to many files that "cannot be opened."']})]}),e.jsx(X,{})]})}function Va(){const s=c.useRef(null),{consumePipelineFile:r}=Q(),[t,n]=c.useState(null),[o,a]=c.useState(!1),[i,l]=c.useState(0),[d,m]=c.useState(null),[g,h]=c.useState(0),[w,v]=c.useState("extracted-images"),[C,P]=c.useState(""),E=W.isNativePlatform();c.useEffect(()=>{const u=r();if(u){const k=new File([u.buffer],u.name,{type:"application/pdf"});L(k)}},[]);const z=async()=>{if(!t||!C)return;a(!0);const u=await se(t.file,C);u.success?(n({...t,isLocked:!1,pageCount:u.pageCount,pdfDoc:u.pdfDoc,thumbnail:u.thumbnail,password:C}),v(`${t.file.name.replace(".pdf","")}-extracted`)):U.error("Incorrect password"),a(!1)},L=async u=>{if(u.type==="application/pdf"){a(!0);try{const k=await te(u);if(k.isLocked)n({file:u,pageCount:0,isLocked:!0});else{const y=await ae(u);n({file:u,pageCount:k.pageCount,isLocked:!1,pdfDoc:y,thumbnail:k.thumbnail}),v(`${u.name.replace(".pdf","")}-extracted`)}}catch(k){console.error(k)}finally{a(!1),m(null)}}},D=async()=>{if(!(!t||!t.pdfDoc)){a(!0),l(0),h(0),await new Promise(u=>setTimeout(u,100));try{const u=new Ue;let k=0;for(let b=1;b<=t.pageCount;b++){const F=await t.pdfDoc.getPage(b),f=await F.getOperatorList();for(let N=0;N<f.fnArray.length;N++){const S=f.fnArray[N],R=f.argsArray[N]?.[0];if(typeof R=="string"&&R.startsWith("img_"))try{const T=await F.objs.get(R);if(T&&T.data){k++;const $=document.createElement("canvas");$.width=T.width,$.height=T.height;const B=$.getContext("2d");if(B){const O=B.createImageData(T.width,T.height);O.data.set(T.data),B.putImageData(O,0,0);const A=$.toDataURL("image/png").split(",")[1];u.file(`image-${k.toString().padStart(3,"0")}.png`,A,{base64:!0})}}}catch(T){console.warn("Failed to extract an image object",T)}}l(Math.round(b/t.pageCount*100))}if(k===0){U.error("No embedded images found.",{description:"The file might be heavily compressed or uses non-standard image encoding."}),a(!1);return}const y=await u.generateAsync({type:"blob"}),x=URL.createObjectURL(y);m(x),h(k),Y({name:`${w}.zip`,tool:"Extract Images",size:y.size,resultUrl:x}),U.success(`Extracted ${k} images!`)}catch(u){U.error(`Error: ${u.message}`)}finally{a(!1)}}},p=()=>e.jsx("button",{onClick:D,disabled:o,className:`w-full bg-rose-500 hover:bg-rose-600 text-white font-black uppercase tracking-widest transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-3 shadow-xl shadow-rose-500/20 ${E?"py-4 rounded-2xl text-sm":"p-6 rounded-3xl text-xl"}`,children:o?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"animate-spin"})," ",i,"%"]}):e.jsxs(e.Fragment,{children:[e.jsx(ye,{size:18})," Extract Raw Images"]})});return e.jsxs(q,{title:"Extract Images",description:"Find and save all original images embedded inside the PDF.",actions:t&&!t.isLocked&&!d&&e.jsx(p,{}),children:[e.jsx("input",{type:"file",accept:".pdf",className:"hidden",ref:s,onChange:u=>u.target.files?.[0]&&L(u.target.files[0])}),t?t.isLocked?e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2.5rem] border border-gray-100 dark:border-white/5 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-rose-100 dark:bg-rose-900/30 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(V,{size:32})}),e.jsx("h3",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Protected File"}),e.jsx("input",{type:"password",value:C,onChange:u=>P(u.target.value),placeholder:"Password",className:"w-full bg-gray-50 dark:bg-black rounded-2xl px-6 py-4 border border-transparent focus:border-rose-500 outline-none font-bold text-center mb-4"}),e.jsx("button",{onClick:z,disabled:!C||o,className:"w-full bg-rose-500 text-white p-4 rounded-2xl font-black uppercase text-xs",children:"Unlock"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-3xl border border-gray-100 dark:border-white/5 flex items-center gap-6",children:[e.jsx("div",{className:"w-16 h-20 bg-gray-50 dark:bg-black rounded-xl overflow-hidden shrink-0 border border-gray-100 dark:border-zinc-800 flex items-center justify-center text-rose-500",children:t.thumbnail?e.jsx("img",{src:t.thumbnail,className:"w-full h-full object-cover"}):e.jsx(Pe,{size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-sm truncate dark:text-white",children:t.file.name}),e.jsxs("p",{className:"text-[10px] text-gray-400 uppercase font-black",children:[t.pageCount," Pages • ",(t.file.size/(1024*1024)).toFixed(1)," MB"]})]}),e.jsx("button",{onClick:()=>n(null),className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:e.jsx(Z,{size:20})})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2rem] border border-gray-100 dark:border-white/5 space-y-8 shadow-sm",children:[d?e.jsx(re,{message:`Successfully extracted ${g} images!`,downloadUrl:d,fileName:`${w}.zip`,onStartOver:()=>{m(null),l(0),h(0),n(null)},showPreview:!1}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-center py-2 px-4 bg-gray-50 dark:bg-black rounded-2xl border border-gray-100 dark:border-white/5",children:e.jsx("p",{className:"text-xs text-gray-500 dark:text-zinc-400 leading-relaxed font-medium",children:"This tool scans every page and recovers high-quality source images. Perfect for saving photos from documents."})}),e.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/10 rounded-xl border border-amber-100 dark:border-amber-900/20 text-center",children:e.jsx("p",{className:"text-[10px] text-amber-700 dark:text-amber-400 font-bold uppercase tracking-widest",children:"Note: If no images are detected, the file may have been compressed using rasterization (printing to PDF)."})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-3 tracking-widest px-1",children:"Output ZIP Name"}),e.jsx("input",{type:"text",value:w,onChange:u=>v(u.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white"})]}),o&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"w-full bg-gray-100 dark:bg-zinc-800 h-2 rounded-full overflow-hidden shadow-inner",children:e.jsx("div",{className:"bg-rose-500 h-full transition-all",style:{width:`${i}%`}})}),e.jsx("p",{className:"text-[10px] text-center font-black text-gray-400 uppercase tracking-widest animate-pulse",children:"Extracting High-Res Assets..."})]})]}),e.jsx("button",{onClick:()=>n(null),className:"w-full py-2 text-[10px] font-black uppercase text-gray-300 hover:text-rose-500 transition-colors",children:"Close File"})]})]}):e.jsxs("div",{onClick:()=>!o&&s.current?.click(),className:"border-4 border-dashed border-gray-100 dark:border-zinc-900 rounded-[2.5rem] p-12 text-center hover:bg-rose-50 dark:hover:bg-rose-900/10 transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:e.jsx(Pe,{size:32})}),e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Select PDF"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Tap to search for images"})]}),e.jsx(X,{})]})}function qa(){const s=c.useRef(null),{consumePipelineFile:r}=Q(),[t,n]=c.useState(null),[o,a]=c.useState(!1),[i,l]=c.useState(0),[d,m]=c.useState(null),[g,h]=c.useState("paperknife-grayscale"),[w,v]=c.useState(""),C=W.isNativePlatform();c.useEffect(()=>{const D=r();if(D){const p=new File([D.buffer],D.name,{type:"application/pdf"});E(p)}},[]);const P=async()=>{if(!t||!w)return;a(!0);const D=await se(t.file,w);D.success?(n({...t,isLocked:!1,pageCount:D.pageCount,pdfDoc:D.pdfDoc,thumbnail:D.thumbnail,password:w}),h(`${t.file.name.replace(".pdf","")}-grayscale`)):U.error("Incorrect password"),a(!1)},E=async D=>{if(D.type==="application/pdf"){a(!0);try{const p=await te(D);if(p.isLocked)n({file:D,pageCount:0,isLocked:!0});else{const u=await ae(D);n({file:D,pageCount:p.pageCount,isLocked:!1,pdfDoc:u,thumbnail:p.thumbnail}),h(`${D.name.replace(".pdf","")}-grayscale`)}}catch(p){console.error(p)}finally{a(!1),m(null)}}},z=async()=>{if(!(!t||!t.pdfDoc)){a(!0),l(0),await new Promise(D=>setTimeout(D,100));try{const D=await ee.create(),p=1.5;for(let x=1;x<=t.pageCount;x++){const b=await t.pdfDoc.getPage(x),F=b.getViewport({scale:p}),f=document.createElement("canvas"),N=f.getContext("2d",{alpha:!1});if(!N)continue;f.height=F.height,f.width=F.width,await b.render({canvasContext:N,viewport:F}).promise;const S=N.getImageData(0,0,f.width,f.height),R=S.data;for(let O=0;O<R.length;O+=4){const j=R[O]*.299+R[O+1]*.587+R[O+2]*.114;R[O]=j,R[O+1]=j,R[O+2]=j}N.putImageData(S,0,0);const T=f.toDataURL("image/jpeg",.75),$=await D.embedJpg(T);D.addPage([F.width,F.height]).drawImage($,{x:0,y:0,width:F.width,height:F.height}),l(Math.round(x/t.pageCount*100))}const u=await D.save(),k=new Blob([u],{type:"application/pdf"}),y=URL.createObjectURL(k);m(y),Y({name:`${g}.pdf`,tool:"Grayscale",size:k.size,resultUrl:y})}catch(D){U.error(`Error: ${D.message}`)}finally{a(!1)}}},L=()=>e.jsx("button",{onClick:z,disabled:o,className:`w-full bg-rose-500 hover:bg-rose-600 text-white font-black uppercase tracking-widest transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-3 shadow-xl shadow-rose-500/20 ${C?"py-4 rounded-2xl text-sm":"p-6 rounded-3xl text-xl"}`,children:o?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"animate-spin"})," ",i,"%"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ae,{size:18})," Convert to Grayscale ",e.jsx(me,{size:18})]})});return e.jsxs(q,{title:"PDF to Grayscale",description:"Remove colors from your PDF to save ink and storage.",actions:t&&!t.isLocked&&!d&&e.jsx(L,{}),children:[e.jsx("input",{type:"file",accept:".pdf",className:"hidden",ref:s,onChange:D=>D.target.files?.[0]&&E(D.target.files[0])}),t?t.isLocked?e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2.5rem] border border-gray-100 dark:border-white/5 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-rose-100 dark:bg-rose-900/30 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(V,{size:32})}),e.jsx("h3",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Protected File"}),e.jsx("input",{type:"password",value:w,onChange:D=>v(D.target.value),placeholder:"Password",className:"w-full bg-gray-50 dark:bg-black rounded-2xl px-6 py-4 border border-transparent focus:border-rose-500 outline-none font-bold text-center mb-4"}),e.jsx("button",{onClick:P,disabled:!w||o,className:"w-full bg-rose-500 text-white p-4 rounded-2xl font-black uppercase text-xs",children:"Unlock"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-3xl border border-gray-100 dark:border-white/5 flex items-center gap-6",children:[e.jsx("div",{className:"w-16 h-20 bg-gray-50 dark:bg-black rounded-xl overflow-hidden shrink-0 border border-gray-100 dark:border-zinc-800 flex items-center justify-center text-rose-500",children:t.thumbnail?e.jsx("img",{src:t.thumbnail,className:"w-full h-full object-cover"}):e.jsx(Ae,{size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-sm truncate dark:text-white",children:t.file.name}),e.jsxs("p",{className:"text-[10px] text-gray-400 uppercase font-black",children:[t.pageCount," Pages • ",(t.file.size/(1024*1024)).toFixed(1)," MB"]})]}),e.jsx("button",{onClick:()=>n(null),className:"p-2 text-gray-400 hover:text-rose-500 transition-colors",children:e.jsx(Z,{size:20})})]}),e.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[2rem] border border-gray-100 dark:border-white/5 space-y-8 shadow-sm",children:[d?e.jsx(re,{message:"Grayscale Conversion Complete!",downloadUrl:d,fileName:`${g}.pdf`,onStartOver:()=>{m(null),l(0),n(null)}}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-center py-2 px-4 bg-gray-50 dark:bg-black rounded-2xl border border-gray-100 dark:border-white/5",children:e.jsx("p",{className:"text-xs text-gray-500 dark:text-zinc-400 leading-relaxed font-medium",children:"This tool converts all document pages to black-and-white. Best for printing and reducing file size."})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase text-gray-400 mb-3 tracking-widest px-1",children:"Output Filename"}),e.jsx("input",{type:"text",value:g,onChange:D=>h(D.target.value),className:"w-full bg-gray-50 dark:bg-black rounded-xl px-4 py-3 border border-transparent focus:border-rose-500 outline-none font-bold text-sm dark:text-white"})]}),o&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"w-full bg-gray-100 dark:bg-zinc-800 h-2 rounded-full overflow-hidden shadow-inner",children:e.jsx("div",{className:"bg-rose-500 h-full transition-all",style:{width:`${i}%`}})}),e.jsx("p",{className:"text-[10px] text-center font-black text-gray-400 uppercase tracking-widest animate-pulse",children:"Removing Chromatic Data..."})]})]}),e.jsx("button",{onClick:()=>n(null),className:"w-full py-2 text-[10px] font-black uppercase text-gray-300 hover:text-rose-500 transition-colors",children:"Close File"})]})]}):e.jsxs("div",{onClick:()=>!o&&s.current?.click(),className:"border-4 border-dashed border-gray-100 dark:border-zinc-900 rounded-[2.5rem] p-12 text-center hover:bg-rose-50 dark:hover:bg-rose-900/10 transition-all cursor-pointer group",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 dark:bg-rose-900/20 text-rose-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:e.jsx(Ae,{size:32})}),e.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Select PDF"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Tap to start desaturating"})]}),e.jsx(X,{})]})}const Ya=[{title:"Merge PDF",desc:"Combine multiple PDF files into one document.",icon:ns,implemented:!0,path:"/merge",category:"Edit",color:"text-rose-500",bg:"bg-rose-50 dark:bg-rose-900/20"},{title:"Split PDF",desc:"Visually extract specific pages or ranges.",icon:Qe,implemented:!0,path:"/split",category:"Edit",color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20"},{title:"Compress PDF",desc:"Optimize your file size for easier sharing.",icon:ke,implemented:!0,path:"/compress",category:"Optimize",color:"text-amber-500",bg:"bg-amber-50 dark:bg-amber-900/20"},{title:"Protect PDF",desc:"Secure your documents with strong encryption.",icon:V,implemented:!0,path:"/protect",category:"Secure",color:"text-indigo-500",bg:"bg-indigo-50 dark:bg-indigo-900/20"},{title:"Unlock PDF",desc:"Remove passwords from your protected files.",icon:Xe,implemented:!0,path:"/unlock",category:"Secure",color:"text-violet-500",bg:"bg-violet-50 dark:bg-violet-900/20"},{title:"Rotate PDF",desc:"Fix page orientation permanently.",icon:he,implemented:!0,path:"/rotate-pdf",category:"Edit",color:"text-orange-500",bg:"bg-orange-50 dark:bg-orange-900/20"},{title:"Rearrange PDF",desc:"Drag and drop pages to reorder them.",icon:qs,implemented:!0,path:"/rearrange-pdf",category:"Edit",color:"text-emerald-500",bg:"bg-emerald-50 dark:bg-emerald-900/20"},{title:"Page Numbers",desc:"Add numbering to your documents automatically.",icon:Ge,implemented:!0,path:"/page-numbers",category:"Edit",color:"text-sky-500",bg:"bg-sky-50 dark:bg-sky-900/20"},{title:"Watermark",desc:"Overlay custom text for branding or security.",icon:Ke,implemented:!0,path:"/watermark",category:"Edit",color:"text-purple-500",bg:"bg-purple-50 dark:bg-purple-900/20"},{title:"Metadata",desc:"Edit document properties for better privacy.",icon:Ys,implemented:!0,path:"/metadata",category:"Secure",color:"text-cyan-500",bg:"bg-cyan-50 dark:bg-cyan-900/20"},{title:"Signature",desc:"Add your electronic signature to any document.",icon:Zs,implemented:!0,path:"/signature",category:"Edit",color:"text-pink-500",bg:"bg-pink-50 dark:bg-pink-900/20"},{title:"Grayscale",desc:"Convert all document pages to black and white.",icon:Ae,implemented:!0,path:"/grayscale",category:"Optimize",color:"text-zinc-500",bg:"bg-zinc-50 dark:bg-zinc-900/20"},{title:"PDF to Image",desc:"Convert document pages into high-quality images.",icon:Kt,implemented:!0,path:"/pdf-to-image",category:"Convert",color:"text-lime-500",bg:"bg-lime-50 dark:bg-lime-900/20"},{title:"Image to PDF",desc:"Convert JPG, PNG, and WebP into a professional PDF.",icon:Qs,implemented:!0,path:"/image-to-pdf",category:"Convert",color:"text-teal-500",bg:"bg-teal-50 dark:bg-teal-900/20"},{title:"Extract Images",desc:"Pull out all original images embedded in a PDF.",icon:Kt,implemented:!0,path:"/extract-images",category:"Convert",color:"text-yellow-500",bg:"bg-yellow-50 dark:bg-yellow-900/20"},{title:"PDF to Text",desc:"Extract plain text from your PDF documents.",icon:ze,implemented:!0,path:"/pdf-to-text",category:"Convert",color:"text-blue-600",bg:"bg-blue-100 dark:bg-blue-900/20"},{title:"Repair PDF",desc:"Attempt to fix corrupted or unreadable documents.",icon:Xs,implemented:!0,path:"/repair",category:"Optimize",color:"text-red-500",bg:"bg-red-50 dark:bg-red-900/20"}],Re=Ya;function Za({file:s,onClear:r,onBack:t}){const n=ce(),{setPipelineFile:o}=Q(),[a,i]=c.useState(!1),l=Re.slice(0,4),d=Re.slice(4),m=async(g,h)=>{U.loading(`Importing ${s.name}...`,{id:"quick-load"});try{const w=await s.arrayBuffer();o({buffer:new Uint8Array(w),name:s.name,type:s.type||(s.name.endsWith(".zip")?"application/zip":"application/pdf")}),r(),n(g),U.success(`Opened in ${h}`,{id:"quick-load"})}catch{U.error("Failed to process file",{id:"quick-load"})}};return e.jsx("div",{className:"fixed inset-0 z-[600] flex items-end sm:items-center justify-center p-0 sm:p-6 bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:e.jsxs("div",{className:"w-full max-w-md bg-[#FAFAFA] dark:bg-zinc-950 rounded-t-[2.5rem] sm:rounded-[2.5rem] shadow-2xl overflow-hidden border-t border-x border-white/10 sm:border animate-in slide-in-from-bottom-full duration-500 ease-out",children:[e.jsx("div",{className:"p-6 pb-2",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[t&&e.jsx("button",{onClick:t,className:"p-2 -ml-2 text-gray-400 hover:text-rose-500 transition-colors",children:e.jsx(Ye,{className:"rotate-90",size:20})}),e.jsx("div",{className:"w-10 h-10 bg-rose-500 text-white rounded-xl flex items-center justify-center shadow-lg shadow-rose-500/20",children:e.jsx(ze,{size:20})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h3",{className:"text-lg font-black dark:text-white truncate max-w-[200px] leading-none mb-1",children:s.name}),e.jsxs("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:[(s.size/(1024*1024)).toFixed(2)," MB • PDF Document"]})]})]}),e.jsx("button",{onClick:r,className:"p-2 bg-gray-100 dark:bg-zinc-900 rounded-full text-gray-400 hover:text-rose-500 transition-colors",children:e.jsx(Z,{size:18})})]})}),e.jsxs("div",{className:"px-6 pb-6 space-y-4 max-h-[60vh] overflow-y-auto scrollbar-hide",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black text-gray-400 dark:text-zinc-500 uppercase tracking-[0.2em] mb-3 ml-1",children:"Essentials"}),e.jsx("div",{className:"grid grid-cols-2 gap-2.5",children:l.map(g=>e.jsxs("button",{onClick:()=>g.path&&m(g.path,g.title),className:"flex items-center gap-3 p-3 bg-white dark:bg-zinc-900 rounded-2xl border border-gray-100 dark:border-white/5 active:bg-gray-50 dark:active:bg-zinc-800 active:scale-95 transition-all shadow-sm group",children:[e.jsx("div",{className:`p-2 rounded-xl ${g.bg} ${g.color} group-active:scale-110 transition-transform`,children:e.jsx(g.icon,{size:18,strokeWidth:2.5})}),e.jsx("span",{className:"text-xs font-bold text-gray-900 dark:text-zinc-200",children:g.title})]},g.title))})]}),e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>i(!a),className:"w-full flex items-center justify-between p-4 bg-white dark:bg-zinc-900 border border-gray-100 dark:border-white/5 rounded-2xl text-[10px] font-black uppercase tracking-widest text-gray-500 hover:text-rose-500 transition-colors shadow-sm",children:[e.jsx("span",{children:"Full Tool Catalog"}),e.jsx(Ye,{size:14,className:`transition-transform duration-300 ${a?"rotate-180":""}`})]}),a&&e.jsx("div",{className:"grid grid-cols-2 gap-2.5 mt-3 animate-in slide-in-from-top-2 duration-300 pb-2",children:d.map(g=>e.jsxs("button",{onClick:()=>g.path&&m(g.path,g.title),className:"flex items-center gap-3 p-3 bg-white dark:bg-zinc-900 rounded-2xl border border-gray-100 dark:border-white/5 active:bg-gray-50 dark:active:bg-zinc-800 active:scale-95 transition-all shadow-sm group",children:[e.jsx("div",{className:`p-2 rounded-xl ${g.bg} ${g.color} group-active:scale-110 transition-transform`,children:e.jsx(g.icon,{size:18,strokeWidth:2.5})}),e.jsx("span",{className:"text-xs font-bold text-gray-900 dark:text-zinc-200",children:g.title})]},g.title))})]})]})]})})}function Qa(){const[s,r]=c.useState(()=>W.isNativePlatform()?"android":"web"),[t,n]=c.useState(null),[o,a]=c.useState(!1),[i,l]=c.useState(()=>{if(typeof window<"u"){const h=localStorage.getItem("theme");if(h)return h}return"system"}),d=()=>{l(h=>h==="light"?"dark":"light")};c.useEffect(()=>{const h=localStorage.getItem("autoWipe")==="true",w=parseInt(localStorage.getItem("autoWipeTimer")||"15"),v=Er(),C=Date.now();if(h){const E=(C-v)/6e4;(w===0||v>0&&E>=w)&&lt().then(()=>{console.log(`Auto-Wipe triggered (${E.toFixed(1)}m inactivity).`)})}Jt();const P=setInterval(Jt,3e4);return()=>clearInterval(P)},[]),c.useEffect(()=>{const h=window.document.documentElement,w=v=>{let C=v;v==="system"&&(C=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),C==="dark"?(h.classList.add("dark"),h.style.colorScheme="dark"):(h.classList.remove("dark"),h.style.colorScheme="light")};if(w(i),localStorage.setItem("theme",i),i==="system"){const v=window.matchMedia("(prefers-color-scheme: dark)"),C=()=>w("system");return v.addEventListener("change",C),()=>v.removeEventListener("change",C)}},[i]),c.useEffect(()=>{const h=async v=>{try{U.loading("Importing file...",{id:"intent-load"});const C=await et.readFile({path:v}),P=await(await fetch(`data:application/pdf;base64,${C.data}`)).blob(),E=v.split("/").pop()||"imported-file.pdf",z=new File([P],E.endsWith(".pdf")?E:`${E}.pdf`,{type:"application/pdf"});n(z),U.success("File imported successfully!",{id:"intent-load"})}catch(C){console.error("Intent load error:",C),U.error("Failed to import file.",{id:"intent-load"})}},w=v=>{v.detail?.uri&&h(v.detail.uri)};return window.addEventListener("fileIntent",w),()=>window.removeEventListener("fileIntent",w)},[]),c.useEffect(()=>{const h=w=>{w.detail?.file&&(n(w.detail.file),a(!0))};return window.addEventListener("open-quick-drop",h),()=>window.removeEventListener("open-quick-drop",h)},[]);const m=()=>e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-[#FAFAFA] dark:bg-black min-h-[60vh]",children:e.jsx("div",{className:"w-8 h-8 border-4 border-rose-500 border-t-transparent rounded-full animate-spin"})}),g=h=>{const w=h[0];if(!w||w.type!=="application/pdf"){U.error("Please drop a valid PDF file.");return}n(w),a(!1)};return e.jsxs(Vs,{children:[e.jsx($r,{}),e.jsx(Tr,{viewMode:s,setViewMode:r,children:e.jsx(Ur,{children:e.jsxs(Rr,{theme:i==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":i,toggleTheme:d,tools:Re,onFileDrop:g,viewMode:s,children:[e.jsx(Js,{position:"top-center",expand:!0,richColors:!0,duration:2e3,toastOptions:{className:"dark:bg-zinc-900 dark:text-white dark:border-white/10 mt-12",style:{zIndex:1e3}}}),t&&e.jsx(Ns,{file:t,onClose:()=>{n(null),a(!1)},onProcess:()=>a(!0)}),t&&o&&e.jsx(Za,{file:t,onClear:()=>{n(null),a(!1)},onBack:()=>a(!1)}),e.jsx(c.Suspense,{fallback:e.jsx(m,{}),children:e.jsxs(er,{children:[e.jsx(K,{path:"/",element:s==="web"?e.jsx(Mr,{tools:Re}):e.jsx(Wr,{toggleTheme:d,theme:i==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":i,onFileSelect:h=>g([h])})}),e.jsx(K,{path:"/android-tools",element:e.jsx(_r,{tools:Re})}),e.jsx(K,{path:"/android-history",element:e.jsx(Hr,{})}),e.jsx(K,{path:"/merge",element:e.jsx(da,{})}),e.jsx(K,{path:"/split",element:e.jsx(ua,{})}),e.jsx(K,{path:"/protect",element:e.jsx(Fa,{})}),e.jsx(K,{path:"/unlock",element:e.jsx(La,{})}),e.jsx(K,{path:"/compress",element:e.jsx(Ea,{})}),e.jsx(K,{path:"/pdf-to-image",element:e.jsx(Aa,{})}),e.jsx(K,{path:"/rotate-pdf",element:e.jsx(Ua,{})}),e.jsx(K,{path:"/pdf-to-text",element:e.jsx(Ia,{})}),e.jsx(K,{path:"/rearrange-pdf",element:e.jsx(Oa,{})}),e.jsx(K,{path:"/watermark",element:e.jsx(Ba,{})}),e.jsx(K,{path:"/page-numbers",element:e.jsx(Ma,{})}),e.jsx(K,{path:"/metadata",element:e.jsx(Wa,{})}),e.jsx(K,{path:"/image-to-pdf",element:e.jsx(Ha,{})}),e.jsx(K,{path:"/signature",element:e.jsx(Ka,{})}),e.jsx(K,{path:"/repair",element:e.jsx(Ga,{})}),e.jsx(K,{path:"/extract-images",element:e.jsx(Va,{})}),e.jsx(K,{path:"/grayscale",element:e.jsx(qa,{})}),e.jsx(K,{path:"/about",element:e.jsx(qr,{viewMode:s})}),e.jsx(K,{path:"/privacy",element:e.jsx(Xr,{})}),e.jsx(K,{path:"/settings",element:e.jsx(Jr,{theme:i,setTheme:l})}),e.jsx(K,{path:"/thanks",element:e.jsx(Yr,{})})]})}),!1]})})})]})}window.onerror=function(s,r,t,n,o){return alert("ERROR: "+s+`
Line: `+t+`
`+o),!1};pt.createRoot(document.getElementById("root")).render(e.jsx(tr.StrictMode,{children:e.jsx(Qa,{})}));export{Xt as E,mt as I,ht as N,It as W,kr as b};
